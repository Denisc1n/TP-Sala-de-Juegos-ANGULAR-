(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"//0v":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("qCKp");e.Observable=r.Observable},"/uUt":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return n=>n.lift(new s(t,e))}class s{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new o(t,this.compare,this.keySelector))}}class o extends r.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}},0:function(t,e,n){t.exports=n("zUnb")},"04ZW":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("DH7j"),s=n("n6bG"),o=n("lJxs");function a(t,e,n){return n?a(t,e).pipe(Object(o.a)(t=>Object(i.a)(t)?n(...t):n(t))):new r.a(n=>{const r=(...t)=>n.next(1===t.length?t[0]:t);let i;try{i=t(r)}catch(o){return void n.error(o)}if(Object(s.a)(e))return()=>e(r,i)})}},"0EUg":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("bHdf");function i(){return Object(r.a)(1)}},"1G5W":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("zx2A");function i(t){return e=>e.lift(new s(t))}class s{constructor(t){this.notifier=t}call(t,e){const n=new o(t),i=Object(r.c)(this.notifier,new r.a(n));return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n}}class o extends r.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},"1M8x":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("qCKp"),i=n("Xk39");r.Observable.prototype.catch=i._catch,r.Observable.prototype._catch=i._catch},"1uah":function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return c}));var r=n("yCtX"),i=n("DH7j"),s=n("7o/Q"),o=n("Lhse"),a=n("zx2A");function u(...t){const e=t[t.length-1];return"function"==typeof e&&t.pop(),Object(r.a)(t,void 0).lift(new c(e))}class c{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new l(t,this.resultSelector))}}class l extends s.a{constructor(t,e,n=Object.create(null)){super(t),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(t){const e=this.iterators;Object(i.a)(t)?e.push(new f(t)):e.push("function"==typeof t[o.a]?new h(t[o.a]()):new d(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let n=0;n<e;n++){let e=t[n];e.stillUnsubscribed?this.destination.add(e.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,n=this.destination;for(let s=0;s<e;s++){let e=t[s];if("function"==typeof e.hasValue&&!e.hasValue())return}let r=!1;const i=[];for(let s=0;s<e;s++){let e=t[s],o=e.next();if(e.hasCompleted()&&(r=!0),o.done)return void n.complete();i.push(o.value)}this.resultSelector?this._tryresultSelector(i):n.next(i),r&&n.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class h{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class f{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[o.a](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class d extends a.b{constructor(t,e,n){super(t),this.parent=e,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[o.a](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return Object(a.c)(this.observable,new a.a(this))}}},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2Vo4":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("XNiG"),i=n("9ppp");class s extends r.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.a;return this._value}next(t){super.next(this._value=t)}}},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UWI":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("D0XW"),i=n("tnsW"),s=n("PqYM");function o(t,e=r.a){return Object(i.a)(()=>Object(s.a)(t,e))}},"4I5i":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})()},"4Wg5":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("qCKp"),i=n("nZYK");r.Observable.prototype.switchMap=i.switchMap},"4XzM":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n("89kA")},"4c1C":function(t,e,n){},"5+tZ":function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return c}));var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends s.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const r=Object(s.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}const c=o},"6Joi":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("b1EX"),i=n("wj3C"),s=n("q/0M"),o=n("zVF4"),a=n("x7I3"),u=n("S+S0"),c=function(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}(i),l={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},h=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return r.__extends(e,t),e}(Error),f=new s.Logger("@firebase/firestore");function d(){return f.logLevel}function p(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(f.logLevel<=s.LogLevel.DEBUG){var i=e.map(y);f.debug.apply(f,r.__spreadArrays(["Firestore (7.20.0): "+t],i))}}function g(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(f.logLevel<=s.LogLevel.ERROR){var i=e.map(y);f.error.apply(f,r.__spreadArrays(["Firestore (7.20.0): "+t],i))}}function m(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(f.logLevel<=s.LogLevel.WARN){var i=e.map(y);f.warn.apply(f,r.__spreadArrays(["Firestore (7.20.0): "+t],i))}}function y(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(i){return t}}function v(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (7.20.0) INTERNAL ASSERTION FAILED: "+t;throw g(e),new Error(e)}function b(t,e){t||v()}function _(t,e){return t}function w(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function E(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function C(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var S=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&v(),void 0===n?n=t.length-e:n>t.length-e&&v(),this.segments=t,this.offset=e,this.t=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.t},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.i(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.o(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.u=function(t){return this.o(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.h=function(){return this.o(this.segments,this.offset,this.length-1)},t.prototype.l=function(){return this.segments[this.offset]},t.prototype._=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.m=function(){return 0===this.length},t.prototype.T=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.I=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.A=function(){return this.segments.slice(this.offset,this.limit())},t.i=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),A=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.o=function(t,n,r){return new e(t,n,r)},e.prototype.R=function(){return this.A().join("/")},e.prototype.toString=function(){return this.R()},e.P=function(t){if(t.indexOf("//")>=0)throw new h(l.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter((function(t){return t.length>0})))},e.g=function(){return new e([])},e}(S),x=/^[_a-zA-Z][_a-zA-Z0-9]*$/,T=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.o=function(t,n,r){return new e(t,n,r)},e.V=function(t){return x.test(t)},e.prototype.R=function(){return this.A().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.V(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.R()},e.prototype.p=function(){return 1===this.length&&"__name__"===this.get(0)},e.v=function(){return new e(["__name__"])},e.S=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new h(l.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new h(l.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new h(l.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new h(l.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.g=function(){return new e([])},e}(S),I=function(){function t(t){this.path=t}return t.D=function(e){return new t(A.P(e))},t.C=function(e){return new t(A.P(e).u(5))},t.prototype.N=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===A.i(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.i=function(t,e){return A.i(t.path,e.path)},t.F=function(t){return t.length%2==0},t.$=function(e){return new t(new A(e.slice()))},t}();function O(t,e){if(0!==e.length)throw new h(l.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+$(e.length,"argument")+".")}function D(t,e,n){if(e.length!==n)throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires "+$(n,"argument")+", but was called with "+$(e.length,"argument")+".")}function k(t,e,n){if(e.length<n)throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires at least "+$(n,"argument")+", but was called with "+$(e.length,"argument")+".")}function N(t,e,n,r){if(e.length<n||e.length>r)throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+$(e.length,"argument")+".")}function j(t,e,n,r){V(t,e,W(n)+" argument",r)}function P(t,e,n,r){void 0!==r&&j(t,e,n,r)}function R(t,e,n,r){V(t,e,n+" option",r)}function F(t,e,n,r){void 0!==r&&R(t,e,n,r)}function M(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var s=[],o=0,a=i;o<a.length;o++){var u=a[o];if(u===r)return;s.push(B(u))}var c=B(r);throw new h(l.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+s.join(", "))}(t,0,n,r,i)}function L(t,e,n,r){if(!e.some((function(t){return t===r})))throw new h(l.INVALID_ARGUMENT,"Invalid value "+B(r)+" provided to function "+t+"() for its "+W(n)+" argument. Acceptable values: "+e.join(", "));return r}function V(t,e,n,r){if(!("object"===e?U(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=B(r);throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function U(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function B(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":v()}function q(t,e,n){if(void 0===n)throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+W(e)+" argument, but it was undefined.")}function z(t,e,n){E(e,(function(e,r){if(n.indexOf(e)<0)throw new h(l.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function H(t,e,n,r){var i=B(r);return new h(l.INVALID_ARGUMENT,"Function "+t+"() requires its "+W(n)+" argument to be a "+e+", but it was: "+i)}function G(t,e,n){if(n<=0)throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires its "+W(e)+" argument to be a positive number, but it was: "+n+".")}function W(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function $(t,e){return t+" "+e+(1===t?"":"s")}function J(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Q=function(){function t(){}return t.k=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=J(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function K(t,e){return t<e?-1:t>e?1:0}function Y(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Z(t){return t+"\0"}var X=function(){function t(t){this.M=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.M)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.M)},t.prototype.O=function(){return 2*this.M.length},t.prototype.L=function(t){return K(this.M,t.M)},t.prototype.isEqual=function(t){return this.M===t.M},t}();X.B=new X("");var tt=function(){function t(t){this.q=t}return t.fromBase64String=function(e){try{return new t(X.fromBase64String(e))}catch(e){throw new h(l.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(X.fromUint8Array(e))},t.prototype.toBase64=function(){return this.q.toBase64()},t.prototype.toUint8Array=function(){return this.q.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.q.isEqual(t.q)},t}();function et(){if("undefined"==typeof Uint8Array)throw new h(l.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function nt(){if("undefined"==typeof atob)throw new h(l.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var rt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.fromBase64String=function(t){D("Blob.fromBase64String",arguments,1),j("Blob.fromBase64String","string",1,t),nt();try{return new e(X.fromBase64String(t))}catch(t){throw new h(l.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},e.fromUint8Array=function(t){if(D("Blob.fromUint8Array",arguments,1),et(),!(t instanceof Uint8Array))throw H("Blob.fromUint8Array","Uint8Array",1,t);return new e(X.fromUint8Array(t))},e.prototype.toBase64=function(){return D("Blob.toBase64",arguments,0),nt(),t.prototype.toBase64.call(this)},e.prototype.toUint8Array=function(){return D("Blob.toUint8Array",arguments,0),et(),t.prototype.toUint8Array.call(this)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(tt),it=function(t,e,n,r,i){this.U=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i},st=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"W",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.L=function(t){return K(this.projectId,t.projectId)||K(this.database,t.database)},t}(),ot=function(){function t(t,e){this.j=t,this.K=e,this.G={}}return t.prototype.get=function(t){var e=this.j(t),n=this.G[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.K(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.j(t),r=this.G[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.K(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.G[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.j(t),n=this.G[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.K(n[r][0],t))return 1===n.length?delete this.G[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){E(this.G,(function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}}))},t.prototype.m=function(){return C(this.G)},t}(),at=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new h(l.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new h(l.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new h(l.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new h(l.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.H=function(t){return this.seconds===t.seconds?K(this.nanoseconds,t.nanoseconds):K(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),ut=function(){function t(t){this.timestamp=t}return t.Y=function(e){return new t(e)},t.min=function(){return new t(new at(0,0))},t.prototype.L=function(t){return this.timestamp.H(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.J=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.X=function(){return this.timestamp},t}();function ct(t){return null==t}function lt(t){return-0===t&&1/t==-1/0}function ht(t){return"number"==typeof t&&Number.isInteger(t)&&!lt(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var ft=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.Z=null};function dt(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new ft(t,e,n,r,i,s,o)}function pt(t){var e=_(t);if(null===e.Z){var n=e.path.R();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.R()+t.op.toString()+ie(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return(e=t).field.R()+e.dir;var e})).join(","),ct(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=ar(e.startAt)),e.endAt&&(n+="|ub:",n+=ar(e.endAt)),e.Z=n}return e.Z}function gt(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!fr(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!te(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!cr(t.startAt,e.startAt)&&cr(t.endAt,e.endAt)}function mt(t){return I.F(t.path)&&null===t.collectionGroup&&0===t.filters.length}var yt,vt,bt=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=ut.min()),void 0===s&&(s=ut.min()),void 0===o&&(o=X.B),this.target=t,this.targetId=e,this.tt=n,this.sequenceNumber=r,this.et=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.nt=function(e){return new t(this.target,this.targetId,this.tt,e,this.et,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.st=function(e,n){return new t(this.target,this.targetId,this.tt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.it=function(e){return new t(this.target,this.targetId,this.tt,this.sequenceNumber,this.et,e,this.resumeToken)},t}(),_t=function(t){this.count=t};function wt(t){switch(t){case l.OK:return v();case l.CANCELLED:case l.UNKNOWN:case l.DEADLINE_EXCEEDED:case l.RESOURCE_EXHAUSTED:case l.INTERNAL:case l.UNAVAILABLE:case l.UNAUTHENTICATED:return!1;case l.INVALID_ARGUMENT:case l.NOT_FOUND:case l.ALREADY_EXISTS:case l.PERMISSION_DENIED:case l.FAILED_PRECONDITION:case l.ABORTED:case l.OUT_OF_RANGE:case l.UNIMPLEMENTED:case l.DATA_LOSS:return!0;default:return v()}}function Et(t){if(void 0===t)return g("GRPC error has no .code"),l.UNKNOWN;switch(t){case yt.OK:return l.OK;case yt.CANCELLED:return l.CANCELLED;case yt.UNKNOWN:return l.UNKNOWN;case yt.DEADLINE_EXCEEDED:return l.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return l.RESOURCE_EXHAUSTED;case yt.INTERNAL:return l.INTERNAL;case yt.UNAVAILABLE:return l.UNAVAILABLE;case yt.UNAUTHENTICATED:return l.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return l.INVALID_ARGUMENT;case yt.NOT_FOUND:return l.NOT_FOUND;case yt.ALREADY_EXISTS:return l.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return l.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return l.FAILED_PRECONDITION;case yt.ABORTED:return l.ABORTED;case yt.OUT_OF_RANGE:return l.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return l.UNIMPLEMENTED;case yt.DATA_LOSS:return l.DATA_LOSS;default:return v()}}(vt=yt||(yt={}))[vt.OK=0]="OK",vt[vt.CANCELLED=1]="CANCELLED",vt[vt.UNKNOWN=2]="UNKNOWN",vt[vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vt[vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vt[vt.NOT_FOUND=5]="NOT_FOUND",vt[vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",vt[vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",vt[vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",vt[vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vt[vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vt[vt.ABORTED=10]="ABORTED",vt[vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",vt[vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",vt[vt.INTERNAL=13]="INTERNAL",vt[vt.UNAVAILABLE=14]="UNAVAILABLE",vt[vt.DATA_LOSS=15]="DATA_LOSS";var Ct=function(){function t(t,e){this.i=t,this.root=e||At.EMPTY}return t.prototype.rt=function(e,n){return new t(this.i,this.root.rt(e,n,this.i).copy(null,null,At.ot,null,null))},t.prototype.remove=function(e){return new t(this.i,this.root.remove(e,this.i).copy(null,null,At.ot,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.m();){var n=this.i(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.m();){var r=this.i(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.m=function(){return this.root.m()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.at=function(){return this.root.at()},t.prototype.ct=function(){return this.root.ct()},t.prototype.ut=function(t){return this.root.ut(t)},t.prototype.forEach=function(t){this.ut((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.ut((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.ht=function(t){return this.root.ht(t)},t.prototype.lt=function(){return new St(this.root,null,this.i,!1)},t.prototype._t=function(t){return new St(this.root,t,this.i,!1)},t.prototype.ft=function(){return new St(this.root,null,this.i,!0)},t.prototype.dt=function(t){return new St(this.root,t,this.i,!0)},t}(),St=function(){function t(t,e,n,r){this.wt=r,this.Tt=[];for(var i=1;!t.m();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.wt?t.left:t.right;else{if(0===i){this.Tt.push(t);break}this.Tt.push(t),t=this.wt?t.right:t.left}}return t.prototype.Et=function(){var t=this.Tt.pop(),e={key:t.key,value:t.value};if(this.wt)for(t=t.left;!t.m();)this.Tt.push(t),t=t.right;else for(t=t.right;!t.m();)this.Tt.push(t),t=t.left;return e},t.prototype.It=function(){return this.Tt.length>0},t.prototype.At=function(){if(0===this.Tt.length)return null;var t=this.Tt[this.Tt.length-1];return{key:t.key,value:t.value}},t}(),At=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.m=function(){return!1},t.prototype.ut=function(t){return this.left.ut(t)||t(this.key,this.value)||this.right.ut(t)},t.prototype.ht=function(t){return this.right.ht(t)||t(this.key,this.value)||this.left.ht(t)},t.prototype.min=function(){return this.left.m()?this:this.left.min()},t.prototype.at=function(){return this.min().key},t.prototype.ct=function(){return this.right.m()?this.key:this.right.ct()},t.prototype.rt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.rt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.rt(t,e,n))).Rt()},t.prototype.Pt=function(){if(this.left.m())return t.EMPTY;var e=this;return e.left.gt()||e.left.left.gt()||(e=e.yt()),(e=e.copy(null,null,null,e.left.Pt(),null)).Rt()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.m()||i.left.gt()||i.left.left.gt()||(i=i.yt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.gt()&&(i=i.Vt()),i.right.m()||i.right.gt()||i.right.left.gt()||(i=i.bt()),0===n(e,i.key)){if(i.right.m())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Pt())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Rt()},t.prototype.gt=function(){return this.color},t.prototype.Rt=function(){var t=this;return t.right.gt()&&!t.left.gt()&&(t=t.vt()),t.left.gt()&&t.left.left.gt()&&(t=t.Vt()),t.left.gt()&&t.right.gt()&&(t=t.St()),t},t.prototype.yt=function(){var t=this.St();return t.right.left.gt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.Vt())).vt()).St()),t},t.prototype.bt=function(){var t=this.St();return t.left.left.gt()&&(t=(t=t.Vt()).St()),t},t.prototype.vt=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.Vt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.St=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Dt=function(){var t=this.Ct();return Math.pow(2,t)<=this.size+1},t.prototype.Ct=function(){if(this.gt()&&this.left.gt())throw v();if(this.right.gt())throw v();var t=this.left.Ct();if(t!==this.right.Ct())throw v();return t+(this.gt()?0:1)},t}();At.EMPTY=null,At.RED=!0,At.ot=!1,At.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw v()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw v()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw v()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw v()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw v()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.rt=function(t,e,n){return new At(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.m=function(){return!0},t.prototype.ut=function(t){return!1},t.prototype.ht=function(t){return!1},t.prototype.at=function(){return null},t.prototype.ct=function(){return null},t.prototype.gt=function(){return!1},t.prototype.Dt=function(){return!0},t.prototype.Ct=function(){return 0},t}());var xt=function(){function t(t){this.i=t,this.data=new Ct(this.i)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.at()},t.prototype.last=function(){return this.data.ct()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.ut((function(e,n){return t(e),!1}))},t.prototype.Nt=function(t,e){for(var n=this.data._t(t[0]);n.It();){var r=n.Et();if(this.i(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Ft=function(t,e){var n;for(n=void 0!==e?this.data._t(e):this.data.lt();n.It();)if(!t(n.Et().key))return},t.prototype.$t=function(t){var e=this.data._t(t);return e.It()?e.Et().key:null},t.prototype.lt=function(){return new Tt(this.data.lt())},t.prototype._t=function(t){return new Tt(this.data._t(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).rt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.m=function(){return this.data.m()},t.prototype.xt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.lt(),r=e.data.lt();n.It();){var i=n.Et().key,s=r.Et().key;if(0!==this.i(i,s))return!1}return!0},t.prototype.A=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.i);return n.data=e,n},t}(),Tt=function(){function t(t){this.kt=t}return t.prototype.Et=function(){return this.kt.Et().key},t.prototype.It=function(){return this.kt.It()},t}(),It=new Ct(I.i);function Ot(){return It}function Dt(){return Ot()}var kt=new Ct(I.i);function Nt(){return kt}var jt=new Ct(I.i),Pt=new xt(I.i);function Rt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Pt,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var Ft=new xt(K);function Mt(){return Ft}var Lt=function(){function t(t){this.i=t?function(e,n){return t(e,n)||I.i(e.key,n.key)}:function(t,e){return I.i(t.key,e.key)},this.Mt=Nt(),this.Ot=new Ct(this.i)}return t.Lt=function(e){return new t(e.i)},t.prototype.has=function(t){return null!=this.Mt.get(t)},t.prototype.get=function(t){return this.Mt.get(t)},t.prototype.first=function(){return this.Ot.at()},t.prototype.last=function(){return this.Ot.ct()},t.prototype.m=function(){return this.Ot.m()},t.prototype.indexOf=function(t){var e=this.Mt.get(t);return e?this.Ot.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Ot.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Ot.ut((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Mt.rt(t.key,t),e.Ot.rt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Mt.remove(t),this.Ot.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Ot.lt(),r=e.Ot.lt();n.It();){var i=n.Et().key,s=r.Et().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.i=this.i,r.Mt=e,r.Ot=n,r},t}(),Vt=function(){function t(){this.Bt=new Ct(I.i)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Bt.get(e);n?0!==t.type&&3===n.type?this.Bt=this.Bt.rt(e,t):3===t.type&&1!==n.type?this.Bt=this.Bt.rt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Bt=this.Bt.rt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Bt=this.Bt.rt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Bt=this.Bt.remove(e):1===t.type&&2===n.type?this.Bt=this.Bt.rt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Bt=this.Bt.rt(e,{type:2,doc:t.doc}):v():this.Bt=this.Bt.rt(e,t)},t.prototype.qt=function(){var t=[];return this.Bt.ut((function(e,n){t.push(n)})),t},t}(),Ut=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.Ut=n,this.docChanges=r,this.Qt=i,this.fromCache=s,this.Wt=o,this.jt=a}return t.Kt=function(e,n,r,i){var s=[];return n.forEach((function(t){s.push({type:0,doc:t})})),new t(e,n,Lt.Lt(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Qt.m()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Wt===t.Wt&&this.Qt.isEqual(t.Qt)&&Wn(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Ut.isEqual(t.Ut)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Bt=function(){function t(t,e,n,r,i){this.et=t,this.Gt=e,this.zt=n,this.Ht=r,this.Yt=i}return t.Jt=function(e,n){var r=new Map;return r.set(e,qt.Xt(e,n)),new t(ut.min(),r,Mt(),Ot(),Rt())},t}(),qt=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Zt=e,this.te=n,this.ee=r,this.ne=i}return t.Xt=function(e,n){return new t(X.B,n,Rt(),Rt(),Rt())},t}(),zt=function(t,e,n,r){this.se=t,this.removedTargetIds=e,this.key=n,this.ie=r},Ht=function(t,e){this.targetId=t,this.re=e},Gt=function(t,e,n,r){void 0===n&&(n=X.B),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Wt=function(){function t(){this.oe=0,this.ae=Qt(),this.ce=X.B,this.ue=!1,this.he=!0}return Object.defineProperty(t.prototype,"Zt",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.ce},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"le",{get:function(){return 0!==this.oe},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_e",{get:function(){return this.he},enumerable:!1,configurable:!0}),t.prototype.fe=function(t){t.O()>0&&(this.he=!0,this.ce=t)},t.prototype.de=function(){var t=Rt(),e=Rt(),n=Rt();return this.ae.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:v()}})),new qt(this.ce,this.ue,t,e,n)},t.prototype.we=function(){this.he=!1,this.ae=Qt()},t.prototype.me=function(t,e){this.he=!0,this.ae=this.ae.rt(t,e)},t.prototype.Te=function(t){this.he=!0,this.ae=this.ae.remove(t)},t.prototype.Ee=function(){this.oe+=1},t.prototype.Ie=function(){this.oe-=1},t.prototype.Ae=function(){this.he=!0,this.ue=!0},t}(),$t=function(){function t(t){this.Re=t,this.Pe=new Map,this.ge=Ot(),this.ye=Jt(),this.Ve=new xt(K)}return t.prototype.pe=function(t){for(var e=0,n=t.se;e<n.length;e++){var r=n[e];t.ie instanceof On?this.be(r,t.ie):t.ie instanceof Dn&&this.ve(r,t.key,t.ie)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.ve(s[i],t.key,t.ie)},t.prototype.Se=function(t){var e=this;this.De(t,(function(n){var r=e.Ce(n);switch(t.state){case 0:e.Ne(n)&&r.fe(t.resumeToken);break;case 1:r.Ie(),r.le||r.we(),r.fe(t.resumeToken);break;case 2:r.Ie(),r.le||e.removeTarget(n);break;case 3:e.Ne(n)&&(r.Ae(),r.fe(t.resumeToken));break;case 4:e.Ne(n)&&(e.Fe(n),r.fe(t.resumeToken));break;default:v()}}))},t.prototype.De=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Pe.forEach((function(t,r){n.Ne(r)&&e(r)}))},t.prototype.$e=function(t){var e=t.targetId,n=t.re.count,r=this.xe(e);if(r){var i=r.target;if(mt(i))if(0===n){var s=new I(i.path);this.ve(e,s,new Dn(s,ut.min()))}else b(1===n);else this.ke(e)!==n&&(this.Fe(e),this.Ve=this.Ve.add(e))}},t.prototype.Me=function(t){var e=this,n=new Map;this.Pe.forEach((function(r,i){var s=e.xe(i);if(s){if(r.Zt&&mt(s.target)){var o=new I(s.target.path);null!==e.ge.get(o)||e.Oe(i,o)||e.ve(i,o,new Dn(o,t))}r._e&&(n.set(i,r.de()),r.we())}}));var r=Rt();this.ye.forEach((function(t,n){var i=!0;n.Ft((function(t){var n=e.xe(t);return!n||2===n.tt||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new Bt(t,n,this.Ve,this.ge,r);return this.ge=Ot(),this.ye=Jt(),this.Ve=new xt(K),i},t.prototype.be=function(t,e){if(this.Ne(t)){var n=this.Oe(t,e.key)?2:0;this.Ce(t).me(e.key,n),this.ge=this.ge.rt(e.key,e),this.ye=this.ye.rt(e.key,this.Le(e.key).add(t))}},t.prototype.ve=function(t,e,n){if(this.Ne(t)){var r=this.Ce(t);this.Oe(t,e)?r.me(e,1):r.Te(e),this.ye=this.ye.rt(e,this.Le(e).delete(t)),n&&(this.ge=this.ge.rt(e,n))}},t.prototype.removeTarget=function(t){this.Pe.delete(t)},t.prototype.ke=function(t){var e=this.Ce(t).de();return this.Re.Be(t).size+e.te.size-e.ne.size},t.prototype.Ee=function(t){this.Ce(t).Ee()},t.prototype.Ce=function(t){var e=this.Pe.get(t);return e||(e=new Wt,this.Pe.set(t,e)),e},t.prototype.Le=function(t){var e=this.ye.get(t);return e||(e=new xt(K),this.ye=this.ye.rt(t,e)),e},t.prototype.Ne=function(t){var e=null!==this.xe(t);return e||p("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.xe=function(t){var e=this.Pe.get(t);return e&&e.le?null:this.Re.qe(t)},t.prototype.Fe=function(t){var e=this;this.Pe.set(t,new Wt),this.Re.Be(t).forEach((function(n){e.ve(t,n,null)}))},t.prototype.Oe=function(t,e){return this.Re.Be(t).has(e)},t}();function Jt(){return new Ct(I.i)}function Qt(){return new Ct(I.i)}function Kt(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Yt(t){var e=se(t.mapValue.fields.__local_write_time__.timestampValue);return new at(e.seconds,e.nanos)}var Zt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xt(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Kt(t)?4:10:v()}function te(t,e){var n=Xt(t);if(n!==Xt(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Yt(t).isEqual(Yt(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=se(t.timestampValue),r=se(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return ae(t.bytesValue).isEqual(ae(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return oe(t.geoPointValue.latitude)===oe(e.geoPointValue.latitude)&&oe(t.geoPointValue.longitude)===oe(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return oe(t.integerValue)===oe(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=oe(t.doubleValue),r=oe(e.doubleValue);return n===r?lt(n)===lt(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Y(t.arrayValue.values||[],e.arrayValue.values||[],te);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(w(n)!==w(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!te(n[i],r[i])))return!1;return!0}(t,e);default:return v()}}function ee(t,e){return void 0!==(t.values||[]).find((function(t){return te(t,e)}))}function ne(t,e){var n=Xt(t),r=Xt(e);if(n!==r)return K(n,r);switch(n){case 0:return 0;case 1:return K(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=oe(t.integerValue||t.doubleValue),r=oe(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return re(t.timestampValue,e.timestampValue);case 4:return re(Yt(t),Yt(e));case 5:return K(t.stringValue,e.stringValue);case 6:return function(t,e){var n=ae(t),r=ae(e);return n.L(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=K(n[i],r[i]);if(0!==s)return s}return K(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=K(oe(t.latitude),oe(e.latitude));return 0!==n?n:K(oe(t.longitude),oe(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=ne(n[i],r[i]);if(s)return s}return K(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=K(r[o],s[o]);if(0!==a)return a;var u=ne(n[r[o]],i[s[o]]);if(0!==u)return u}return K(r.length,s.length)}(t.mapValue,e.mapValue);default:throw v()}}function re(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return K(t,e);var n=se(t),r=se(e),i=K(n.seconds,r.seconds);return 0!==i?i:K(n.nanos,r.nanos)}function ie(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=se(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ae(e.bytesValue).toBase64():"referenceValue"in e?I.C(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,s=e.values||[];i<s.length;i++)r?r=!1:n+=",",n+=t(s[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,s=Object.keys(e.fields||{}).sort();i<s.length;i++){var o=s[i];r?r=!1:n+=",",n+=o+":"+t(e.fields[o])}return n+"}"}(e.mapValue):v();var n}(t)}function se(t){if(b(!!t),"string"==typeof t){var e=0,n=Zt.exec(t);if(b(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:oe(t.seconds),nanos:oe(t.nanos)}}function oe(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ae(t){return"string"==typeof t?X.fromBase64String(t):X.fromUint8Array(t)}function ue(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.R()}}function ce(t){return!!t&&"integerValue"in t}function le(t){return!!t&&"arrayValue"in t}function he(t){return!!t&&"nullValue"in t}function fe(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function de(t){return!!t&&"mapValue"in t}var pe={asc:"ASCENDING",desc:"DESCENDING"},ge={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},me=function(t,e){this.U=t,this.Ue=e};function ye(t){return{integerValue:""+t}}function ve(t,e){if(t.Ue){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lt(e)?"-0":e}}function be(t,e){return ht(e)?ye(e):ve(t,e)}function _e(t,e){return t.Ue?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function we(t,e){return t.Ue?e.toBase64():e.toUint8Array()}function Ee(t,e){return _e(t,e.X())}function Ce(t){return b(!!t),ut.Y(function(t){var e=se(t);return new at(e.seconds,e.nanos)}(t))}function Se(t,e){return function(t){return new A(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).R()}function Ae(t){var e=A.P(t);return b(We(e)),e}function xe(t,e){return Se(t.U,e.path)}function Te(t,e){var n=Ae(e);return b(n.get(1)===t.U.projectId),b(!n.get(3)&&!t.U.database||n.get(3)===t.U.database),new I(ke(n))}function Ie(t,e){return Se(t.U,e)}function Oe(t){var e=Ae(t);return 4===e.length?A.g():ke(e)}function De(t){return new A(["projects",t.U.projectId,"databases",t.U.database]).R()}function ke(t){return b(t.length>4&&"documents"===t.get(4)),t.u(5)}function Ne(t,e,n){return{name:xe(t,e),fields:n.proto.mapValue.fields}}function je(t,e){var n;if(e instanceof yn)n={update:Ne(t,e.key,e.value)};else if(e instanceof Cn)n={delete:xe(t,e.key)};else if(e instanceof vn)n={update:Ne(t,e.key,e.data),updateMask:Ge(e.Qe)};else if(e instanceof _n)n={transform:{document:xe(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Ye)return{fieldPath:e.field.R(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ze)return{fieldPath:e.field.R(),appendMissingElements:{values:n.elements}};if(n instanceof tn)return{fieldPath:e.field.R(),removeAllFromArray:{values:n.elements}};if(n instanceof nn)return{fieldPath:e.field.R(),increment:n.We};throw v()}(0,t)}))}};else{if(!(e instanceof Sn))return v();n={verify:xe(t,e.key)}}return e.Ke.je||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Ee(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:v()}(t,e.Ke)),n}function Pe(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?cn.updateTime(Ce(t.updateTime)):void 0!==t.exists?cn.exists(t.exists):cn.Ge()}(e.currentDocument):cn.Ge();if(e.update){var r=Te(t,e.update.name),i=new An({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new on((t.fieldPaths||[]).map((function(t){return T.S(t)})))}(e.updateMask);return new vn(r,i,s,n)}return new yn(r,i,n)}if(e.delete){var o=Te(t,e.delete);return new Cn(o,n)}if(e.transform){var a=Te(t,e.transform.document),u=e.transform.fieldTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(b("REQUEST_TIME"===e.setToServerValue),n=new Ye):"appendMissingElements"in e?n=new Ze(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new tn(e.removeAllFromArray.values||[]):"increment"in e?n=new nn(t,e.increment):v();var r=T.S(e.fieldPath);return new an(r,n)}(t,e)}));return b(!0===n.exists),new _n(a,u)}if(e.verify){var c=Te(t,e.verify);return new Sn(c,n)}return v()}function Re(t,e){return{documents:[Ie(t,e.path)]}}function Fe(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Ie(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ie(t,r.h()),n.structuredQuery.from=[{collectionId:r._()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(fe(t.value))return{unaryFilter:{field:Be(t.field),op:"IS_NAN"}};if(he(t.value))return{unaryFilter:{field:Be(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(fe(t.value))return{unaryFilter:{field:Be(t.field),op:"IS_NOT_NAN"}};if(he(t.value))return{unaryFilter:{field:Be(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Be(t.field),op:Ue(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:Be(t.field),direction:Ve(t.dir)}}(t)}))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.Ue||ct(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=Me(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Me(e.endAt)),n}function Me(t){return{before:t.before,values:t.position}}function Le(t){return new or(t.values||[],!!t.before)}function Ve(t){return pe[t]}function Ue(t){return ge[t]}function Be(t){return{fieldPath:t.R()}}function qe(t){return T.S(t.fieldPath)}function ze(t){return Yn.create(qe(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return v()}}(t.fieldFilter.op),t.fieldFilter.value)}function He(t){switch(t.unaryFilter.op){case"IS_NAN":var e=qe(t.unaryFilter.field);return Yn.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=qe(t.unaryFilter.field);return Yn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=qe(t.unaryFilter.field);return Yn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=qe(t.unaryFilter.field);return Yn.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return v()}}function Ge(t){var e=[];return t.fields.forEach((function(t){return e.push(t.R())})),{fieldPaths:e}}function We(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var $e=function(){this.ze=void 0};function Je(t,e,n){return t instanceof Ye?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Ze?Xe(t,e):t instanceof tn?en(t,e):function(t,e){var n=Ke(t,e),r=rn(n)+rn(t.We);return ce(n)&&ce(t.We)?ye(r):ve(t.serializer,r)}(t,e)}function Qe(t,e,n){return t instanceof Ze?Xe(t,e):t instanceof tn?en(t,e):n}function Ke(t,e){return t instanceof nn?ce(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Ye=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e}($e),Ze=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return r.__extends(e,t),e}($e);function Xe(t,e){for(var n=sn(e),r=function(t){n.some((function(e){return te(e,t)}))||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var tn=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return r.__extends(e,t),e}($e);function en(t,e){for(var n=sn(e),r=function(t){n=n.filter((function(e){return!te(e,t)}))},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var nn=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.We=n,r}return r.__extends(e,t),e}($e);function rn(t){return oe(t.integerValue||t.doubleValue)}function sn(t){return le(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var on=function(){function t(t){this.fields=t,t.sort(T.i)}return t.prototype.He=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].T(t))return!0;return!1},t.prototype.isEqual=function(t){return Y(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),an=function(t,e){this.field=t,this.transform=e},un=function(t,e){this.version=t,this.transformResults=e},cn=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Ge=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"je",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function ln(t,e){return void 0!==t.updateTime?e instanceof On&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof On}var hn=function(){};function fn(t,e,n){return t instanceof yn?function(t,e,n){return new On(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof vn?function(t,e,n){if(!ln(t.Ke,e))return new kn(t.key,n.version);var r=bn(t,e);return new On(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof _n?function(t,e,n){if(b(null!=n.transformResults),!ln(t.Ke,e))return new kn(t.key,n.version);var r=wn(0,e),i=function(t,e,n){var r=[];b(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=null;e instanceof On&&(a=e.field(s.field)),r.push(Qe(o,a,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),s=n.version,o=En(t,r.data(),i);return new On(t.key,s,o,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Dn(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function dn(t,e,n,r){return t instanceof yn?function(t,e){if(!ln(t.Ke,e))return e;var n=mn(e);return new On(t.key,n,t.value,{Ye:!0})}(t,e):t instanceof vn?function(t,e){if(!ln(t.Ke,e))return e;var n=mn(e),r=bn(t,e);return new On(t.key,n,r,{Ye:!0})}(t,e):t instanceof _n?function(t,e,n,r){if(!ln(t.Ke,e))return e;var i=wn(0,e),s=function(t,e,n,r){for(var i=[],s=0,o=t;s<o.length;s++){var a=o[s],u=a.transform,c=null;n instanceof On&&(c=n.field(a.field)),null===c&&r instanceof On&&(c=r.field(a.field)),i.push(Je(u,c,e))}return i}(t.fieldTransforms,n,e,r),o=En(t,i.data(),s);return new On(t.key,i.version,o,{Ye:!0})}(t,e,r,n):function(t,e){return ln(t.Ke,e)?new Dn(t.key,ut.min()):e}(t,e)}function pn(t,e){return t instanceof _n?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var s=i[r],o=e instanceof On?e.field(s.field):void 0,a=Ke(s.transform,o||null);null!=a&&(n=null==n?(new xn).set(s.field,a):n.set(s.field,a))}return n?n.Je():null}(t,e):null}function gn(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Ke.isEqual(e.Ke)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.Qe.isEqual(e.Qe):2!==t.type||Y(t.fieldTransforms,t.fieldTransforms,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Ze&&e instanceof Ze||t instanceof tn&&e instanceof tn?Y(t.elements,e.elements,te):t instanceof nn&&e instanceof nn?te(t.We,e.We):t instanceof Ye&&e instanceof Ye}(t.transform,e.transform)}(t,e)})))}function mn(t){return t instanceof On?t.version:ut.min()}var yn=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.Ke=r,i.type=0,i}return r.__extends(e,t),e}(hn),vn=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.Qe=r,s.Ke=i,s.type=1,s}return r.__extends(e,t),e}(hn);function bn(t,e){return function(t,e){var n=new xn(e);return t.Qe.fields.forEach((function(e){if(!e.m()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.Je()}(t,e instanceof On?e.data():An.empty())}var _n=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.Ke=cn.exists(!0),r}return r.__extends(e,t),e}(hn);function wn(t,e){return e}function En(t,e,n){for(var r=new xn(e),i=0;i<t.fieldTransforms.length;i++)r.set(t.fieldTransforms[i].field,n[i]);return r.Je()}var Cn=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ke=n,r.type=3,r}return r.__extends(e,t),e}(hn),Sn=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ke=n,r.type=4,r}return r.__extends(e,t),e}(hn),An=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.m())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!de(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t._()])||null},t.prototype.isEqual=function(t){return te(this.proto,t.proto)},t}(),xn=function(){function t(t){void 0===t&&(t=An.empty()),this.Xe=t,this.Ze=new Map}return t.prototype.set=function(t,e){return this.tn(t,e),this},t.prototype.delete=function(t){return this.tn(t,null),this},t.prototype.tn=function(t,e){for(var n=this.Ze,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===Xt(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t._(),e)},t.prototype.Je=function(){var t=this.en(T.g(),this.Ze);return null!=t?new An(t):this.Xe},t.prototype.en=function(t,e){var n=this,r=!1,i=this.Xe.field(t),s=de(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var o=n.en(t.child(i),e);null!=o&&(s[i]=o,r=!0)}else null!==e?(s[i]=e,r=!0):s.hasOwnProperty(i)&&(delete s[i],r=!0)})),r?{mapValue:{fields:s}}:null},t}();function Tn(t){var e=[];return E(t.fields||{},(function(t,n){var r=new T([t]);if(de(n)){var i=Tn(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)})),new on(e)}var In=function(t,e){this.key=t,this.version=e},On=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this,e,n)||this).nn=r,s.Ye=!!i.Ye,s.hasCommittedMutations=!!i.hasCommittedMutations,s}return r.__extends(e,t),e.prototype.field=function(t){return this.nn.field(t)},e.prototype.data=function(){return this.nn},e.prototype.sn=function(){return this.nn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Ye===t.Ye&&this.hasCommittedMutations===t.hasCommittedMutations&&this.nn.isEqual(t.nn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.nn.toString()+", {hasLocalMutations: "+this.Ye+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Ye||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(In),Dn=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return r.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(In),kn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(In);function Nn(t,e){if(!(t instanceof e))throw new h(l.INVALID_ARGUMENT,e.name===t.constructor.name?"Type does not match the expected instance. Did you pass '"+e.name+"' from a different Firestore SDK?":"Expected type '"+e.name+"', but was '"+t.constructor.name+"'");return t}var jn=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.rn=n,this.filters=r,this.limit=i,this.on=s,this.startAt=o,this.endAt=a,this.an=null,this.cn=null};function Pn(t,e,n,r,i,s,o,a){return new jn(t,e,n,r,i,s,o,a)}function Rn(t){return new jn(t)}function Fn(t){return!ct(t.limit)&&"F"===t.on}function Mn(t){return!ct(t.limit)&&"L"===t.on}function Ln(t){return t.rn.length>0?t.rn[0].field:null}function Vn(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.un())return r.field}return null}function Un(t){return null!==t.collectionGroup}function Bn(t){var e=Nn(t,jn);if(null===e.an){e.an=[];var n=Vn(e),r=Ln(e);if(null!==n&&null===r)n.p()||e.an.push(new lr(n)),e.an.push(new lr(T.v(),"asc"));else{for(var i=!1,s=0,o=e.rn;s<o.length;s++){var a=o[s];e.an.push(a),a.field.p()&&(i=!0)}if(!i){var u=e.rn.length>0?e.rn[e.rn.length-1].dir:"asc";e.an.push(new lr(T.v(),u))}}}return e.an}function qn(t){var e=Nn(t,jn);if(!e.cn)if("F"===e.on)e.cn=dt(e.path,e.collectionGroup,Bn(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Bn(e);r<i.length;r++){var s=i[r];n.push(new lr(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new or(e.endAt.position,!e.endAt.before):null,a=e.startAt?new or(e.startAt.position,!e.startAt.before):null;e.cn=dt(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.cn}function zn(t,e,n){return new jn(t.path,t.collectionGroup,t.rn.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Hn(t,e){return new jn(t.path,t.collectionGroup,t.rn.slice(),t.filters.slice(),t.limit,t.on,e,t.endAt)}function Gn(t,e){return new jn(t.path,t.collectionGroup,t.rn.slice(),t.filters.slice(),t.limit,t.on,t.startAt,e)}function Wn(t,e){return gt(qn(t),qn(e))&&t.on===e.on}function $n(t){return pt(qn(t))+"|lt:"+t.on}function Jn(t){return"Query(target="+function(t){var e=t.path.R();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.R()+" "+e.op+" "+ie(e.value);var e})).join(", ")+"]"),ct(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return(e=t).field.R()+" ("+e.dir+")";var e})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+ar(t.startAt)),t.endAt&&(e+=", endAt: "+ar(t.endAt)),"Target("+e+")"}(qn(t))+"; limitType="+t.on+")"}function Qn(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.N(t.collectionGroup)&&t.path.T(n):I.F(t.path)?t.path.isEqual(n):t.path.I(n)}(t,e)&&function(t,e){for(var n=0,r=t.rn;n<r.length;n++){var i=r[n];if(!i.field.p()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!ur(t.startAt,Bn(t),e)||t.endAt&&ur(t.endAt,Bn(t),e))}(t,e)}function Kn(t){return function(e,n){for(var r=!1,i=0,s=Bn(t);i<s.length;i++){var o=s[i],a=hr(o,e,n);if(0!==a)return a;r=r||o.field.p()}return 0}}var Yn=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return r.__extends(e,t),e.create=function(t,n,r){if(t.p())return"in"===n||"not-in"===n?this.hn(t,n,r):new Zn(t,n,r);if(he(r)){if("=="!==n&&"!="!==n)throw new h(l.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new e(t,n,r)}if(fe(r)){if("=="!==n&&"!="!==n)throw new h(l.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new e(t,n,r)}return"array-contains"===n?new nr(t,r):"in"===n?new rr(t,r):"not-in"===n?new ir(t,r):"array-contains-any"===n?new sr(t,r):new e(t,n,r)},e.hn=function(t,e,n){return"in"===e?new Xn(t,n):new tr(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.ln(ne(e,this.value)):null!==e&&Xt(this.value)===Xt(e)&&this.ln(ne(e,this.value))},e.prototype.ln=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return v()}},e.prototype.un=function(){return["<","<=",">",">=","!="].indexOf(this.op)>=0},e}((function(){})),Zn=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=I.C(r.referenceValue),i}return r.__extends(e,t),e.prototype.matches=function(t){var e=I.i(t.key,this.key);return this.ln(e)},e}(Yn),Xn=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=er(0,n),r}return r.__extends(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Yn),tr=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=er(0,n),r}return r.__extends(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Yn);function er(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return I.C(t.referenceValue)}))}var nr=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return le(e)&&ee(e.arrayValue,this.value)},e}(Yn),rr=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&ee(this.value.arrayValue,e)},e}(Yn),ir=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&!ee(this.value.arrayValue,e)},e}(Yn),sr=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!le(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return ee(e.value.arrayValue,t)}))},e}(Yn),or=function(t,e){this.position=t,this.before=e};function ar(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return ie(t)})).join(",")}function ur(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.p()?I.i(I.C(o.referenceValue),n.key):ne(o,n.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function cr(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!te(t.position[n],e.position[n]))return!1;return!0}var lr=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function hr(t,e,n){var r=t.field.p()?I.i(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?ne(r,i):v()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return v()}}function fr(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var dr=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},pr=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this._n=t,this.fn=e,this.dn=n,this.wn=r,this.mn=i,this.Tn=0,this.En=null,this.In=Date.now(),this.reset()}return t.prototype.reset=function(){this.Tn=0},t.prototype.An=function(){this.Tn=this.mn},t.prototype.Rn=function(t){var e=this;this.cancel();var n=Math.floor(this.Tn+this.Pn()),r=Math.max(0,Date.now()-this.In),i=Math.max(0,n-r);i>0&&p("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Tn+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.En=this._n.gn(this.fn,i,(function(){return e.In=Date.now(),t()})),this.Tn*=this.wn,this.Tn<this.dn&&(this.Tn=this.dn),this.Tn>this.mn&&(this.Tn=this.mn)},t.prototype.yn=function(){null!==this.En&&(this.En.Vn(),this.En=null)},t.prototype.cancel=function(){null!==this.En&&(this.En.cancel(),this.En=null)},t.prototype.Pn=function(){return(Math.random()-.5)*this.Tn},t}(),gr=function(){function t(t){var e=this;this.pn=null,this.bn=null,this.result=void 0,this.error=void 0,this.vn=!1,this.Sn=!1,t((function(t){e.vn=!0,e.result=t,e.pn&&e.pn(t)}),(function(t){e.vn=!0,e.error=t,e.bn&&e.bn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Sn&&v(),this.Sn=!0,this.vn?this.error?this.Dn(n,this.error):this.Cn(e,this.result):new t((function(t,i){r.pn=function(n){r.Cn(e,n).next(t,i)},r.bn=function(e){r.Dn(n,e).next(t,i)}}))},t.prototype.Nn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Fn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Cn=function(e,n){return e?this.Fn((function(){return e(n)})):t.resolve(n)},t.prototype.Dn=function(e,n){return e?this.Fn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.$n=function(e){return new t((function(t,n){var r=0,i=0,s=!1;e.forEach((function(e){++r,e.next((function(){++i,s&&i===r&&t()}),(function(t){return n(t)}))})),s=!0,i===r&&t()}))},t.xn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.$n(r)},t}(),mr=function(){function t(e,n,r){this.name=e,this.version=n,this.kn=r,12.2===t.Mn(o.getUA())&&g("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return p("SimpleDb","Removing database:",t),Er(window.indexedDB.deleteDatabase(t)).Nn()},t.On=function(){if("undefined"==typeof indexedDB)return!1;if(t.Ln())return!0;var e=o.getUA(),n=t.Mn(e),r=0<n&&n<10,i=t.Bn(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.Ln=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.qn)},t.Un=function(t,e){return t.store(e)},t.Mn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Bn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Qn=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){switch(n.label){case 0:return this.db?[3,2]:(p("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,n){var r=indexedDB.open(e.name,e.version);r.onsuccess=function(e){t(e.target.result)},r.onblocked=function(){n(new vr("Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=function(t){var e=t.target.error;n("VersionError"===e.name?new h(l.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new vr(e))},r.onupgradeneeded=function(t){p("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',t.oldVersion),e.kn.createOrUpgrade(t.target.result,r.transaction,t.oldVersion,e.version).next((function(){p("SimpleDb","Database upgrade to version "+e.version+" complete")}))}}))]);case 1:t.db=n.sent(),n.label=2;case 2:return[2,(this.Wn&&(this.db.onversionchange=function(t){return e.Wn(t)}),this.db)]}}))}))},t.prototype.jn=function(t){this.Wn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,s,o,a,u;return r.__generator(this,(function(c){switch(c.label){case 0:i="readonly"===t,s=0,o=function(){var t,o,u,c,l;return r.__generator(this,(function(r){switch(r.label){case 0:++s,r.label=1;case 1:return r.trys.push([1,4,,5]),[4,a.Qn()];case 2:return a.db=r.sent(),t=_r.open(a.db,i?"readonly":"readwrite",e),o=n(t).catch((function(e){return t.abort(e),gr.reject(e)})).Nn(),u={},o.catch((function(){})),[4,t.Kn];case 3:return[2,(u.value=(r.sent(),o),u)];case 4:return p("SimpleDb","Transaction failed with error: %s. Retrying: %s.",(c=r.sent()).message,l="FirebaseError"!==c.name&&s<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},a=this,c.label=1;case 1:return[5,o()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),yr=function(){function t(t){this.Gn=t,this.zn=!1,this.Hn=null}return Object.defineProperty(t.prototype,"vn",{get:function(){return this.zn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Yn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Gn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.zn=!0},t.prototype.Jn=function(t){this.Hn=t},t.prototype.delete=function(){return Er(this.Gn.delete())},t}(),vr=function(t){function e(e){var n=this;return(n=t.call(this,l.UNAVAILABLE,"IndexedDB transaction failed: "+e)||this).name="IndexedDbTransactionError",n}return r.__extends(e,t),e}(h);function br(t){return"IndexedDbTransactionError"===t.name}var _r=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.Xn=new dr,this.transaction.oncomplete=function(){e.Xn.resolve()},this.transaction.onabort=function(){t.error?e.Xn.reject(new vr(t.error)):e.Xn.resolve()},this.transaction.onerror=function(t){var n=Sr(t.target.error);e.Xn.reject(new vr(n))}}return t.open=function(e,n,r){try{return new t(e.transaction(r,n))}catch(e){throw new vr(e)}},Object.defineProperty(t.prototype,"Kn",{get:function(){return this.Xn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Xn.reject(t),this.aborted||(p("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new wr(e)},t}(),wr=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(p("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(p("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Er(n)},t.prototype.add=function(t){return p("SimpleDb","ADD",this.store.name,t,t),Er(this.store.add(t))},t.prototype.get=function(t){var e=this;return Er(this.store.get(t)).next((function(n){return void 0===n&&(n=null),p("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return p("SimpleDb","DELETE",this.store.name,t),Er(this.store.delete(t))},t.prototype.count=function(){return p("SimpleDb","COUNT",this.store.name),Er(this.store.count())},t.prototype.Zn=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.ts(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.es=function(t,e){p("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.ns=!1;var r=this.cursor(n);return this.ts(r,(function(t,e,n){return n.delete()}))},t.prototype.ss=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.ts(r,e)},t.prototype.rs=function(t){var e=this.cursor({});return new gr((function(n,r){e.onerror=function(t){var e=Sr(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.ts=function(t,e){var n=[];return new gr((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new yr(i),o=e(i.primaryKey,i.value,s);if(o instanceof gr){var a=o.catch((function(t){return s.done(),gr.reject(t)}));n.push(a)}s.vn?r():null===s.Yn?i.continue():i.continue(s.Yn)}else r()}})).next((function(){return gr.$n(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.ns?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Er(t){return new gr((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Sr(t.target.error);n(e)}}))}var Cr=!1;function Sr(t){var e=mr.Mn(o.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new h("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Cr||(Cr=!0,setTimeout((function(){throw r}),0)),r}}return t}function Ar(){return"undefined"!=typeof window?window:null}function xr(){return"undefined"!=typeof document?document:null}var Tr=function(){function t(t,e,n,r,i){this.os=t,this.fn=e,this.cs=n,this.op=r,this.us=i,this.hs=new dr,this.then=this.hs.promise.then.bind(this.hs.promise),this.hs.promise.catch((function(t){}))}return t.ls=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this._s=setTimeout((function(){return e.fs()}),t)},t.prototype.Vn=function(){return this.fs()},t.prototype.cancel=function(t){null!==this._s&&(this.clearTimeout(),this.hs.reject(new h(l.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.fs=function(){var t=this;this.os.ds((function(){return null!==t._s?(t.clearTimeout(),t.op().then((function(e){return t.hs.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this._s&&(this.us(this),clearTimeout(this._s),this._s=null)},t}(),Ir=function(){function t(){var t=this;this.ws=Promise.resolve(),this.Ts=[],this.Es=!1,this.Is=[],this.As=null,this.Rs=!1,this.Ps=[],this.gs=new pr(this,"async_queue_retry"),this.ys=function(){var e=xr();e&&p("AsyncQueue","Visibility state changed to  ",e.visibilityState),t.gs.yn()};var e=xr();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.ys)}return Object.defineProperty(t.prototype,"Vs",{get:function(){return this.Es},enumerable:!1,configurable:!0}),t.prototype.ds=function(t){this.enqueue(t)},t.prototype.ps=function(t){this.bs(),this.vs(t)},t.prototype.Ss=function(){if(!this.Es){this.Es=!0;var t=xr();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.ys)}},t.prototype.enqueue=function(t){return this.bs(),this.Es?new Promise((function(t){})):this.vs(t)},t.prototype.Ds=function(t){var e=this;this.Ts.push(t),this.ds((function(){return e.Cs()}))},t.prototype.Cs=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){switch(n.label){case 0:if(0===this.Ts.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Ts[0]()];case 2:return n.sent(),this.Ts.shift(),this.gs.reset(),[3,4];case 3:if(!br(t=n.sent()))throw t;return p("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Ts.length>0&&this.gs.Rn((function(){return e.Cs()})),n.label=5;case 5:return[2]}}))}))},t.prototype.vs=function(t){var e=this,n=this.ws.then((function(){return e.Rs=!0,t().catch((function(t){throw e.As=t,e.Rs=!1,g("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.Rs=!1,t}))}));return this.ws=n,n},t.prototype.gn=function(t,e,n){var r=this;this.bs(),this.Ps.indexOf(t)>-1&&(e=0);var i=Tr.ls(this,t,e,n,(function(t){return r.Ns(t)}));return this.Is.push(i),i},t.prototype.bs=function(){this.As&&v()},t.prototype.Fs=function(){},t.prototype.$s=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return[4,t=this.ws];case 1:e.sent(),e.label=2;case 2:if(t!==this.ws)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.xs=function(t){for(var e=0,n=this.Is;e<n.length;e++)if(n[e].fn===t)return!0;return!1},t.prototype.ks=function(t){var e=this;return this.$s().then((function(){e.Is.sort((function(t,e){return t.cs-e.cs}));for(var n=0,r=e.Is;n<r.length;n++){var i=r[n];if(i.Vn(),"all"!==t&&i.fn===t)break}return e.$s()}))},t.prototype.Ms=function(t){this.Ps.push(t)},t.prototype.Ns=function(t){var e=this.Is.indexOf(t);this.Is.splice(e,1)},t}();function Or(t,e){if(g("AsyncQueue",e+": "+t),br(t))return new h(l.UNAVAILABLE,e+": "+t);throw t}var Dr=function(){this.Os=void 0,this.listeners=[]},kr=function(){this.Ls=new ot((function(t){return $n(t)}),Wn),this.onlineState="Unknown",this.Bs=new Set};function Nr(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,s,o,a,u,c;return r.__generator(this,(function(r){switch(r.label){case 0:if(n=_(t),s=!1,(o=n.Ls.get(i=e.query))||(s=!0,o=new Dr),!s)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),a=o,[4,n.qs(i)];case 2:return a.Os=r.sent(),[3,4];case 3:return u=r.sent(),c=Or(u,"Initialization of query '"+Jn(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.Ls.set(i,o),o.listeners.push(e),e.Us(n.onlineState),o.Os&&e.Qs(o.Os)&&Mr(n),[2]}}))}))}function jr(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,s,o,a;return r.__generator(this,(function(r){return n=_(t),s=!1,(o=n.Ls.get(i=e.query))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),s=0===o.listeners.length),s?[2,(n.Ls.delete(i),n.Ws(i))]:[2]}))}))}function Pr(t,e){for(var n=_(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.Ls.get(o.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Qs(o)&&(r=!0);a.Os=o}}r&&Mr(n)}function Rr(t,e,n){var r=_(t),i=r.Ls.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.Ls.delete(e)}function Fr(t,e){var n=_(t);n.onlineState=e;var r=!1;n.Ls.forEach((function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].Us(e)&&(r=!0)})),r&&Mr(n)}function Mr(t){t.Bs.forEach((function(t){t.next()}))}var Lr=function(){function t(t,e,n){this.query=t,this.js=e,this.Ks=!1,this.Gs=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Qs=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Ut(t.query,t.docs,t.Ut,e,t.Qt,t.fromCache,t.Wt,!0)}var s=!1;return this.Ks?this.zs(t)&&(this.js.next(t),s=!0):this.Hs(t,this.onlineState)&&(this.Ys(t),s=!0),this.Gs=t,s},t.prototype.onError=function(t){this.js.error(t)},t.prototype.Us=function(t){this.onlineState=t;var e=!1;return this.Gs&&!this.Ks&&this.Hs(this.Gs,t)&&(this.Ys(this.Gs),e=!0),e},t.prototype.Hs=function(t,e){return!t.fromCache||!(this.options.Js&&"Offline"!==e||t.docs.m()&&"Offline"!==e)},t.prototype.zs=function(t){return t.docChanges.length>0||!!(t.Wt||this.Gs&&this.Gs.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.Ys=function(t){t=Ut.Kt(t.query,t.docs,t.Qt,t.fromCache),this.Ks=!0,this.js.next(t)},t}(),Vr=function(){function t(t){this.uid=t}return t.prototype.Xs=function(){return null!=this.uid},t.prototype.Zs=function(){return this.Xs()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Vr.UNAUTHENTICATED=new Vr(null),Vr.ti=new Vr("google-credentials-uid"),Vr.ei=new Vr("first-party-uid");var Ur=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.ni=function(t){return n.si(t)},this.ii=function(t){return e.ri(t)})}return t.prototype.si=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.ii&&this.ii(t),t},t}();function Br(t,e){return"firestore_clients_"+t+"_"+e}function qr(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.Xs()&&(r+="_"+e.uid),r}function zr(t,e){return"firestore_targets_"+t+"_"+e}Ur.oi=-1;var Hr=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.ai=function(e,n,r){var i=JSON.parse(r),s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),o=void 0;return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new h(i.error.code,i.error.message)),s?new t(e,n,i.state,o):(g("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ci=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Gr=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.ai=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),s=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(s=new h(r.error.code,r.error.message)),i?new t(e,r.state,s):(g("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ci=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Wr=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.ai=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=Mt(),o=0;i&&o<r.activeTargetIds.length;++o)i=ht(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(g("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),$r=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.ai=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(g("SharedClientState","Failed to parse online state: "+e),null)},t}(),Jr=function(){function t(){this.activeTargetIds=Mt()}return t.prototype.ui=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.hi=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ci=function(){var t={activeTargetIds:this.activeTargetIds.A(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Qr=function(){function t(t,e,n,r,i){this.window=t,this._n=e,this.persistenceKey=n,this.li=r,this._i=null,this.fi=null,this.ni=null,this.di=this.wi.bind(this),this.mi=new Ct(K),this.Ti=!1,this.Ei=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ii=Br(this.persistenceKey,this.li),this.Ai=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.mi=this.mi.rt(this.li,new Jr),this.Ri=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Pi=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.gi=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.yi=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.di)}return t.On=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e,n,i,s,o,a,u,c,l,h=this;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,this._i.Vi()];case 1:for(t=r.sent(),e=0,n=t;e<n.length;e++)(i=n[e])!==this.li&&(s=this.getItem(Br(this.persistenceKey,i)))&&(o=Wr.ai(i,s))&&(this.mi=this.mi.rt(o.clientId,o));for(this.pi(),(a=this.storage.getItem(this.yi))&&(u=this.bi(a))&&this.vi(u),c=0,l=this.Ei;c<l.length;c++)this.wi(l[c]);return this.Ei=[],this.window.addEventListener("unload",(function(){return h.Si()})),this.Ti=!0,[2]}}))}))},t.prototype.ri=function(t){this.setItem(this.Ai,JSON.stringify(t))},t.prototype.Di=function(){return this.Ci(this.mi)},t.prototype.Ni=function(t){var e=!1;return this.mi.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.Fi=function(t){this.$i(t,"pending")},t.prototype.xi=function(t,e,n){this.$i(t,e,n),this.ki(t)},t.prototype.Mi=function(t){var e="not-current";if(this.Ni(t)){var n=this.storage.getItem(zr(this.persistenceKey,t));if(n){var r=Gr.ai(t,n);r&&(e=r.state)}}return this.Oi.ui(t),this.pi(),e},t.prototype.Li=function(t){this.Oi.hi(t),this.pi()},t.prototype.Bi=function(t){return this.Oi.activeTargetIds.has(t)},t.prototype.qi=function(t){this.removeItem(zr(this.persistenceKey,t))},t.prototype.Ui=function(t,e,n){this.Qi(t,e,n)},t.prototype.Wi=function(t,e,n){var r=this;e.forEach((function(t){r.ki(t)})),this.currentUser=t,n.forEach((function(t){r.Fi(t)}))},t.prototype.ji=function(t){this.Ki(t)},t.prototype.Si=function(){this.Ti&&(this.window.removeEventListener("storage",this.di),this.removeItem(this.Ii),this.Ti=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return p("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){p("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){p("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.wi=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(p("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ii)return void g("Received WebStorage notification for local change. Another client might have garbage-collected our state");this._n.Ds((function(){return r.__awaiter(e,void 0,void 0,(function(){var t,e,i,s,o,a;return r.__generator(this,(function(r){if(this.Ti){if(null!==n.key)if(this.Ri.test(n.key)){if(null==n.newValue)return t=this.Gi(n.key),[2,this.zi(t,null)];if(e=this.Hi(n.key,n.newValue))return[2,this.zi(e.clientId,e)]}else if(this.Pi.test(n.key)){if(null!==n.newValue&&(i=this.Yi(n.key,n.newValue)))return[2,this.Ji(i)]}else if(this.gi.test(n.key)){if(null!==n.newValue&&(s=this.Xi(n.key,n.newValue)))return[2,this.Zi(s)]}else if(n.key===this.yi){if(null!==n.newValue&&(o=this.bi(n.newValue)))return[2,this.vi(o)]}else n.key===this.Ai&&(a=function(t){var e=Ur.oi;if(null!=t)try{var n=JSON.parse(t);b("number"==typeof n),e=n}catch(t){g("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Ur.oi&&this.ni(a)}else this.Ei.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Oi",{get:function(){return this.mi.get(this.li)},enumerable:!1,configurable:!0}),t.prototype.pi=function(){this.setItem(this.Ii,this.Oi.ci())},t.prototype.$i=function(t,e,n){var r=new Hr(this.currentUser,t,e,n),i=qr(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ci())},t.prototype.ki=function(t){var e=qr(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Ki=function(t){this.storage.setItem(this.yi,JSON.stringify({clientId:this.li,onlineState:t}))},t.prototype.Qi=function(t,e,n){var r=zr(this.persistenceKey,t),i=new Gr(t,e,n);this.setItem(r,i.ci())},t.prototype.Gi=function(t){var e=this.Ri.exec(t);return e?e[1]:null},t.prototype.Hi=function(t,e){var n=this.Gi(t);return Wr.ai(n,e)},t.prototype.Yi=function(t,e){var n=this.Pi.exec(t),r=Number(n[1]);return Hr.ai(new Vr(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Xi=function(t,e){var n=this.gi.exec(t),r=Number(n[1]);return Gr.ai(r,e)},t.prototype.bi=function(t){return $r.ai(t)},t.prototype.Ji=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this._i.tr(t.batchId,t.state,t.error)]:(p("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.Zi=function(t){return this._i.er(t.targetId,t.state,t.error)},t.prototype.zi=function(t,e){var n=this,r=e?this.mi.rt(t,e):this.mi.remove(t),i=this.Ci(this.mi),s=this.Ci(r),o=[],a=[];return s.forEach((function(t){i.has(t)||o.push(t)})),i.forEach((function(t){s.has(t)||a.push(t)})),this._i.nr(o,a).then((function(){n.mi=r}))},t.prototype.vi=function(t){this.mi.get(t.clientId)&&this.fi(t.onlineState)},t.prototype.Ci=function(t){var e=Mt();return t.forEach((function(t,n){e=e.xt(n.activeTargetIds)})),e},t}(),Kr=function(){function t(){this.sr=new Jr,this.ir={},this.fi=null,this.ni=null}return t.prototype.Fi=function(t){},t.prototype.xi=function(t,e,n){},t.prototype.Mi=function(t){return this.sr.ui(t),this.ir[t]||"not-current"},t.prototype.Ui=function(t,e,n){this.ir[t]=e},t.prototype.Li=function(t){this.sr.hi(t)},t.prototype.Bi=function(t){return this.sr.activeTargetIds.has(t)},t.prototype.qi=function(t){delete this.ir[t]},t.prototype.Di=function(){return this.sr.activeTargetIds},t.prototype.Ni=function(t){return this.sr.activeTargetIds.has(t)},t.prototype.start=function(){return this.sr=new Jr,Promise.resolve()},t.prototype.Wi=function(t,e,n){},t.prototype.ji=function(t){},t.prototype.Si=function(){},t.prototype.ri=function(t){},t}(),Yr=function(){function t(t,e,n,r){this.batchId=t,this.rr=e,this.baseMutations=n,this.mutations=r}return t.prototype.ar=function(t,e,n){for(var r=n.cr,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t)&&(e=fn(s,e,r[i]))}return e},t.prototype.ur=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=dn(i,e,e,this.rr))}for(var s=e,o=0,a=this.mutations;o<a.length;o++){var u=a[o];u.key.isEqual(t)&&(e=dn(u,e,s,this.rr))}return e},t.prototype.hr=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.ur(r.key,t.get(r.key));i&&(n=n.rt(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Rt())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Y(this.mutations,t.mutations,(function(t,e){return gn(t,e)}))&&Y(this.baseMutations,t.baseMutations,(function(t,e){return gn(t,e)}))},t}(),Zr=function(){function t(t,e,n,r){this.batch=t,this.lr=e,this.cr=n,this._r=r}return t.from=function(e,n,r){b(e.mutations.length===r.length);for(var i=jt,s=e.mutations,o=0;o<s.length;o++)i=i.rt(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),Xr=function(){function t(){this.dr=new ot((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.wr=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return this.mr},set:function(t){this.mr=t},enumerable:!1,configurable:!0}),t.prototype.Tr=function(t,e){this.Er(),this.readTime=e,this.dr.set(t.key,t)},t.prototype.Ir=function(t,e){this.Er(),e&&(this.readTime=e),this.dr.set(t,null)},t.prototype.Ar=function(t,e){this.Er();var n=this.dr.get(e);return void 0!==n?gr.resolve(n):this.Rr(t,e)},t.prototype.getEntries=function(t,e){return this.Pr(t,e)},t.prototype.apply=function(t){return this.Er(),this.wr=!0,this.gr(t)},t.prototype.Er=function(){},t}(),ti="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ei=function(){function t(){this.yr=[]}return t.prototype.Vr=function(t){this.yr.push(t)},t.prototype.pr=function(){this.yr.forEach((function(t){return t()}))},t}(),ni=function(){function t(t,e,n){this.br=t,this.vr=e,this.Sr=n}return t.prototype.Dr=function(t,e){var n=this;return this.vr.Cr(t,e).next((function(r){return n.Nr(t,e,r)}))},t.prototype.Nr=function(t,e,n){return this.br.Ar(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].ur(e,t);return t}))},t.prototype.Fr=function(t,e,n){var r=Dt();return e.forEach((function(t,e){for(var i=0,s=n;i<s.length;i++)e=s[i].ur(t,e);r=r.rt(t,e)})),r},t.prototype.$r=function(t,e){var n=this;return this.br.getEntries(t,e).next((function(e){return n.kr(t,e)}))},t.prototype.kr=function(t,e){var n=this;return this.vr.Mr(t,e).next((function(r){var i=n.Fr(t,e,r),s=Ot();return i.forEach((function(t,e){e||(e=new Dn(t,ut.min())),s=s.rt(t,e)})),s}))},t.prototype.Or=function(t,e,n){return function(t){return I.F(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Lr(t,e.path):Un(e)?this.Br(t,e,n):this.qr(t,e,n)},t.prototype.Lr=function(t,e){return this.Dr(t,new I(e)).next((function(t){var e=Nt();return t instanceof On&&(e=e.rt(t.key,t)),e}))},t.prototype.Br=function(t,e,n){var r=this,i=e.collectionGroup,s=Nt();return this.Sr.Ur(t,i).next((function(o){return gr.forEach(o,(function(o){var a=function(t,e){return new jn(e,null,t.rn.slice(),t.filters.slice(),t.limit,t.on,t.startAt,t.endAt)}(e,o.child(i));return r.qr(t,a,n).next((function(t){t.forEach((function(t,e){s=s.rt(t,e)}))}))})).next((function(){return s}))}))},t.prototype.qr=function(t,e,n){var r,i,s=this;return this.br.Or(t,e,n).next((function(n){return r=n,s.vr.Qr(t,e)})).next((function(e){return s.Wr(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var u=a[o],c=u.key,l=r.get(c),h=dn(u,l,l,s.rr);r=h instanceof On?r.rt(c,h):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){Qn(e,n)||(r=r.remove(t))})),r}))},t.prototype.Wr=function(t,e,n){for(var r=Rt(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var u=a[o];u instanceof vn&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.br.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof On&&(c=c.rt(t,e))})),c}))},t}(),ri=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.jr=n,this.Kr=r}return t.Gr=function(e,n){for(var r=Rt(),i=Rt(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}();function ii(t,e){var n=t[1],r=e[1],i=K(t[0],e[0]);return 0===i?K(n,r):i}var si=function(){function t(t){this.zr=t,this.buffer=new xt(ii),this.Hr=0}return t.prototype.Yr=function(){return++this.Hr},t.prototype.Jr=function(t){var e=[t,this.Yr()];if(this.buffer.size<this.zr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();ii(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),oi={Xr:!1,Zr:0,eo:0,no:0},ai=function(){function t(t,e,n){this.so=t,this.io=e,this.ro=n}return t.oo=function(e){return new t(e,t.ao,t.co)},t}();ai.uo=-1,ai.ho=1048576,ai.lo=41943040,ai.ao=10,ai.co=1e3,ai._o=new ai(ai.lo,ai.ao,ai.co),ai.fo=new ai(ai.uo,0,0);var ui=function(){function t(t,e){this.do=t,this.os=e,this.wo=!1,this.mo=null}return t.prototype.start=function(t){this.do.params.so!==ai.uo&&this.To(t)},t.prototype.stop=function(){this.mo&&(this.mo.cancel(),this.mo=null)},Object.defineProperty(t.prototype,"Ti",{get:function(){return null!==this.mo},enumerable:!1,configurable:!0}),t.prototype.To=function(t){var e=this,n=this.wo?3e5:6e4;p("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.mo=this.os.gn("lru_garbage_collection",n,(function(){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:this.mo=null,this.wo=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Eo(this.do)];case 2:return n.sent(),[3,7];case 3:return br(e=n.sent())?(p("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Ss(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.To(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),ci=function(){function t(t,e){this.Io=t,this.params=e}return t.prototype.Ao=function(t,e){return this.Io.Ro(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Po=function(t,e){var n=this;if(0===e)return gr.resolve(Ur.oi);var r=new si(e);return this.Io.De(t,(function(t){return r.Jr(t.sequenceNumber)})).next((function(){return n.Io.yo(t,(function(t){return r.Jr(t)}))})).next((function(){return r.maxValue}))},t.prototype.Vo=function(t,e,n){return this.Io.Vo(t,e,n)},t.prototype.po=function(t,e){return this.Io.po(t,e)},t.prototype.bo=function(t,e){var n=this;return this.params.so===ai.uo?(p("LruGarbageCollector","Garbage collection skipped; disabled"),gr.resolve(oi)):this.vo(t).next((function(r){return r<n.params.so?(p("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.so),oi):n.So(t,e)}))},t.prototype.vo=function(t){return this.Io.vo(t)},t.prototype.So=function(t,e){var n,r,i,o,a,u,c,l=this,h=Date.now();return this.Ao(t,this.params.io).next((function(e){return e>l.params.ro?(p("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.ro+" from "+e),r=l.params.ro):r=e,o=Date.now(),l.Po(t,r)})).next((function(r){return n=r,a=Date.now(),l.Vo(t,n,e)})).next((function(e){return i=e,u=Date.now(),l.po(t,n)})).next((function(t){return c=Date.now(),d()<=s.LogLevel.DEBUG&&p("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(u-a)+"ms\n\tRemoved "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-h)+"ms"),gr.resolve({Xr:!0,Zr:r,eo:i,no:t})}))},t}();function li(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=fi(e)),e=hi(t.get(n),e);return fi(e)}function hi(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function fi(t){return t+"\x01\x01"}function di(t){var e=t.length;if(b(e>=2),2===e)return b("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),A.g();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&v(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:v()}s=o+2}return new A(r)}var pi=function(t){this.Do=t};function gi(t,e){if(e.document)return function(t,e,n){var r=Te(t,e.name),i=Ce(e.updateTime),s=new An({mapValue:{fields:e.fields}});return new On(r,i,s,{hasCommittedMutations:!!n})}(t.Do,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=I.$(e.noDocument.path),r=_i(e.noDocument.readTime);return new Dn(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=I.$(e.unknownDocument.path),s=_i(e.unknownDocument.version);return new kn(i,s)}return v()}function mi(t,e,n){var r=yi(n),i=e.key.path.h().A();if(e instanceof On){var s=function(t,e){return{name:xe(t,e.key),fields:e.sn().mapValue.fields,updateTime:_e(t,e.version.X())}}(t.Do,e);return new Gi(null,null,s,e.hasCommittedMutations,r,i)}if(e instanceof Dn){var o=e.key.path.A(),a=bi(e.version),u=e.hasCommittedMutations;return new Gi(null,new zi(o,a),null,u,r,i)}if(e instanceof kn){var c=e.key.path.A(),l=bi(e.version);return new Gi(new Hi(c,l),null,null,!0,r,i)}return v()}function yi(t){var e=t.X();return[e.seconds,e.nanoseconds]}function vi(t){var e=new at(t[0],t[1]);return ut.Y(e)}function bi(t){var e=t.X();return new Li(e.seconds,e.nanoseconds)}function _i(t){var e=new at(t.seconds,t.nanoseconds);return ut.Y(e)}function wi(t,e){var n=(e.baseMutations||[]).map((function(e){return Pe(t.Do,e)})),r=e.mutations.map((function(e){return Pe(t.Do,e)})),i=at.fromMillis(e.localWriteTimeMs);return new Yr(e.batchId,i,n,r)}function Ei(t){var e,n,r=_i(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?_i(t.lastLimboFreeSnapshotVersion):ut.min();return void 0!==t.query.documents?(b(1===(n=t.query).documents.length),e=qn(Rn(Oe(n.documents[0])))):e=function(t){var e=Oe(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){b(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=function t(e){return e?void 0!==e.unaryFilter?[He(e)]:void 0!==e.fieldFilter?[ze(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):v():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new lr(qe(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return ct(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Le(n.startAt));var l=null;return n.endAt&&(l=Le(n.endAt)),qn(Pn(e,i,a,o,u,"F",c,l))}(t.query),new bt(e,t.targetId,0,t.lastListenSequenceNumber,r,i,X.fromBase64String(t.resumeToken))}function Ci(t,e){var n,r=bi(e.et),i=bi(e.lastLimboFreeSnapshotVersion);n=mt(e.target)?Re(t.Do,e.target):Fe(t.Do,e.target);var s=e.resumeToken.toBase64();return new $i(e.targetId,pt(e.target),r,s,e.sequenceNumber,i,n)}var Si=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.Sr=n,this.Co=r,this.No={}}return t.Fo=function(e,n,r,i){return b(""!==e.uid),new t(e.Xs()?e.uid:"",n,r,i)},t.prototype.$o=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ti(t).ss({index:Bi.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.xo=function(t,e,n,r){var i=this,s=Ii(t),o=Ti(t);return o.add({}).next((function(a){b("number"==typeof a);for(var u=new Yr(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return je(t.Do,e)})),i=n.mutations.map((function(e){return je(t.Do,e)}));return new Bi(e,n.batchId,n.rr.toMillis(),r,i)}(i.serializer,i.userId,u),l=[],h=new xt((function(t,e){return K(t.R(),e.R())})),f=0,d=r;f<d.length;f++){var p=d[f],g=qi.key(i.userId,p.key.path,a);h=h.add(p.key.path.h()),l.push(o.put(c)),l.push(s.put(g,qi.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Sr.ko(t,e))})),t.Vr((function(){i.No[a]=u.keys()})),gr.$n(l).next((function(){return u}))}))},t.prototype.Mo=function(t,e){var n=this;return Ti(t).get(e).next((function(t){return t?(b(t.userId===n.userId),wi(n.serializer,t)):null}))},t.prototype.Oo=function(t,e){var n=this;return this.No[e]?gr.resolve(this.No[e]):this.Mo(t,e).next((function(t){if(t){var r=t.keys();return n.No[e]=r,r}return null}))},t.prototype.Lo=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return Ti(t).ss({index:Bi.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(b(e.batchId>=r),s=wi(n.serializer,e)),i.done()})).next((function(){return s}))},t.prototype.Bo=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Ti(t).ss({index:Bi.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.qo=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ti(t).Zn(Bi.userMutationsIndex,n).next((function(t){return t.map((function(t){return wi(e.serializer,t)}))}))},t.prototype.Cr=function(t,e){var n=this,r=qi.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return Ii(t).ss({range:i},(function(r,i,o){var a=r[0],u=r[2],c=di(r[1]);if(a===n.userId&&e.path.isEqual(c))return Ti(t).get(u).next((function(t){if(!t)throw v();b(t.userId===n.userId),s.push(wi(n.serializer,t))}));o.done()})).next((function(){return s}))},t.prototype.Mr=function(t,e){var n=this,r=new xt(K),i=[];return e.forEach((function(e){var s=qi.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=Ii(t).ss({range:o},(function(t,i,s){var o=t[0],a=t[2],u=di(t[1]);o===n.userId&&e.path.isEqual(u)?r=r.add(a):s.done()}));i.push(a)})),gr.$n(i).next((function(){return n.Uo(t,r)}))},t.prototype.Qr=function(t,e){var n=this,r=e.path,i=r.length+1,s=qi.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new xt(K);return Ii(t).ss({range:o},(function(t,e,s){var o=t[0],u=t[2],c=di(t[1]);o===n.userId&&r.T(c)?c.length===i&&(a=a.add(u)):s.done()})).next((function(){return n.Uo(t,a)}))},t.prototype.Uo=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Ti(t).get(e).next((function(t){if(null===t)throw v();b(t.userId===n.userId),r.push(wi(n.serializer,t))})))})),gr.$n(i).next((function(){return r}))},t.prototype.Qo=function(t,e){var n=this;return xi(t.Wo,this.userId,e).next((function(r){return t.Vr((function(){n.jo(e.batchId)})),gr.forEach(r,(function(e){return n.Co.Ko(t,e)}))}))},t.prototype.jo=function(t){delete this.No[t]},t.prototype.Go=function(t){var e=this;return this.$o(t).next((function(n){if(!n)return gr.resolve();var r=IDBKeyRange.lowerBound(qi.prefixForUser(e.userId)),i=[];return Ii(t).ss({range:r},(function(t,n,r){if(t[0]===e.userId){var s=di(t[1]);i.push(s)}else r.done()})).next((function(){b(0===i.length)}))}))},t.prototype.zo=function(t,e){return Ai(t,this.userId,e)},t.prototype.Ho=function(t){var e=this;return Oi(t).get(this.userId).next((function(t){return t||new Ui(e.userId,-1,"")}))},t}();function Ai(t,e,n){var r=qi.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return Ii(t).ss({range:s,ns:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()})).next((function(){return o}))}function xi(t,e,n){var r=t.store(Bi.store),i=t.store(qi.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r.ss({range:o},(function(t,e,n){return a++,n.delete()}));s.push(u.next((function(){b(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=qi.key(e,f.key.path,n.batchId);s.push(i.delete(d)),c.push(f.key)}return gr.$n(s).next((function(){return c}))}function Ti(t){return cs.Un(t,Bi.store)}function Ii(t){return cs.Un(t,qi.store)}function Oi(t){return cs.Un(t,Ui.store)}var Di=function(){function t(t,e){this.serializer=t,this.Sr=e}return t.prototype.Tr=function(t,e,n){return Ni(t).put(ji(e),n)},t.prototype.Ir=function(t,e){var n=Ni(t),r=ji(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Yo(t,r)}))},t.prototype.Ar=function(t,e){var n=this;return Ni(t).get(ji(e)).next((function(t){return n.Jo(t)}))},t.prototype.Xo=function(t,e){var n=this;return Ni(t).get(ji(e)).next((function(t){var e=n.Jo(t);return e?{Zo:e,size:Pi(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=Dt();return this.ta(t,e,(function(t,e){var i=n.Jo(e);r=r.rt(t,i)})).next((function(){return r}))},t.prototype.ea=function(t,e){var n=this,r=Dt(),i=new Ct(I.i);return this.ta(t,e,(function(t,e){var s=n.Jo(e);s?(r=r.rt(t,s),i=i.rt(t,Pi(e))):(r=r.rt(t,null),i=i.rt(t,0))})).next((function(){return{na:r,sa:i}}))},t.prototype.ta=function(t,e,n){if(e.m())return gr.resolve();var r=IDBKeyRange.bound(e.first().path.A(),e.last().path.A()),i=e.lt(),s=i.Et();return Ni(t).ss({range:r},(function(t,e,r){for(var o=I.$(t);s&&I.i(s,o)<0;)n(s,null),s=i.Et();s&&s.isEqual(o)&&(n(s,e),s=i.It()?i.Et():null),s?r.Jn(s.path.A()):r.done()})).next((function(){for(;s;)n(s,null),s=i.It()?i.Et():null}))},t.prototype.Or=function(t,e,n){var r=this,i=Nt(),s=e.path.length+1,o={};if(n.isEqual(ut.min())){var a=e.path.A();o.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.A(),c=yi(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=Gi.collectionReadTimeIndex}return Ni(t).ss(o,(function(t,n,o){if(t.length===s){var a=gi(r.serializer,n);e.path.T(a.key.path)?a instanceof On&&Qn(e,a)&&(i=i.rt(a.key,a)):o.done()}})).next((function(){return i}))},t.prototype.ia=function(t,e){var n=this,r=Ot(),i=yi(e),s=Ni(t),o=IDBKeyRange.lowerBound(i,!0);return s.ss({index:Gi.readTimeIndex,range:o},(function(t,e){var s=gi(n.serializer,e);r=r.rt(s.key,s),i=e.readTime})).next((function(){return{ra:r,readTime:vi(i)}}))},t.prototype.oa=function(t){var e=Ni(t),n=ut.min();return e.ss({index:Gi.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=vi(e.readTime)),r.done()})).next((function(){return n}))},t.prototype.aa=function(e){return new t.ca(this,!!e&&e.ua)},t.prototype.ha=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return ki(t).get(Wi.key).next((function(t){return b(!!t),t}))},t.prototype.Yo=function(t,e){return ki(t).put(Wi.key,e)},t.prototype.Jo=function(t){if(t){var e=gi(this.serializer,t);return e instanceof Dn&&e.version.isEqual(ut.min())?null:e}return null},t}();function ki(t){return cs.Un(t,Wi.store)}function Ni(t){return cs.Un(t,Gi.store)}function ji(t){return t.path.A()}function Pi(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw v();e=t.noDocument}return JSON.stringify(e).length}Di.ca=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).la=e,r.ua=n,r._a=new ot((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return r.__extends(e,t),e.prototype.gr=function(t){var e=this,n=[],r=0,i=new xt((function(t,e){return K(t.R(),e.R())}));return this.dr.forEach((function(s,o){var a=e._a.get(s);if(o){var u=mi(e.la.serializer,o,e.readTime);i=i.add(s.path.h());var c=Pi(u);r+=c-a,n.push(e.la.Tr(t,s,u))}else if(r-=a,e.ua){var l=mi(e.la.serializer,new Dn(s,ut.min()),e.readTime);n.push(e.la.Tr(t,s,l))}else n.push(e.la.Ir(t,s))})),i.forEach((function(r){n.push(e.la.Sr.ko(t,r))})),n.push(this.la.updateMetadata(t,r)),gr.$n(n)},e.prototype.Rr=function(t,e){var n=this;return this.la.Xo(t,e).next((function(t){return null===t?(n._a.set(e,0),null):(n._a.set(e,t.size),t.Zo)}))},e.prototype.Pr=function(t,e){var n=this;return this.la.ea(t,e).next((function(t){var e=t.na;return t.sa.forEach((function(t,e){n._a.set(t,e)})),e}))},e}(Xr);var Ri=function(){function t(){this.fa=new Fi}return t.prototype.ko=function(t,e){return this.fa.add(e),gr.resolve()},t.prototype.Ur=function(t,e){return gr.resolve(this.fa.getEntries(e))},t}(),Fi=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t._(),n=t.h(),r=this.index[e]||new xt(A.i),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t._(),n=t.h(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new xt(A.i)).A()},t}(),Mi=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;b(n<r&&n>=0&&r<=10);var s=new _r(e);n<1&&r>=1&&(function(t){t.createObjectStore(Vi.store)}(t),function(t){t.createObjectStore(Ui.store,{keyPath:Ui.keyPath}),t.createObjectStore(Bi.store,{keyPath:Bi.keyPath,autoIncrement:!0}).createIndex(Bi.userMutationsIndex,Bi.userMutationsKeyPath,{unique:!0}),t.createObjectStore(qi.store)}(t),Yi(t),function(t){t.createObjectStore(Gi.store)}(t));var o=gr.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Ji.store),t.deleteObjectStore($i.store),t.deleteObjectStore(Qi.store)}(t),Yi(t)),o=o.next((function(){return function(t){var e=t.store(Qi.store),n=new Qi(0,0,ut.min().X(),0);return e.put(Qi.key,n)}(s)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(t,e){return e.store(Bi.store).Zn().next((function(n){t.deleteObjectStore(Bi.store),t.createObjectStore(Bi.store,{keyPath:Bi.keyPath,autoIncrement:!0}).createIndex(Bi.userMutationsIndex,Bi.userMutationsKeyPath,{unique:!0});var r=e.store(Bi.store),i=n.map((function(t){return r.put(t)}));return gr.$n(i)}))}(t,s)}))),o=o.next((function(){!function(t){t.createObjectStore(Zi.store,{keyPath:Zi.keyPath})}(t)}))),n<5&&r>=5&&(o=o.next((function(){return i.removeAcknowledgedMutations(s)}))),n<6&&r>=6&&(o=o.next((function(){return function(t){t.createObjectStore(Wi.store)}(t),i.addDocumentGlobal(s)}))),n<7&&r>=7&&(o=o.next((function(){return i.ensureSequenceNumbers(s)}))),n<8&&r>=8&&(o=o.next((function(){return i.createCollectionParentIndex(t,s)}))),n<9&&r>=9&&(o=o.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Gi.store);e.createIndex(Gi.readTimeIndex,Gi.readTimeIndexPath,{unique:!1}),e.createIndex(Gi.collectionReadTimeIndex,Gi.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.rewriteCanonicalIds(s)}))),o},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(Gi.store).ss((function(t,n){e+=Pi(n)})).next((function(){var n=new Wi(e);return t.store(Wi.store).put(Wi.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(Ui.store),r=t.store(Bi.store);return n.Zn().next((function(n){return gr.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Zn(Bi.userMutationsIndex,i).next((function(r){return gr.forEach(r,(function(r){b(r.userId===n.userId);var i=wi(e.serializer,r);return xi(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(Ji.store),n=t.store(Gi.store);return t.store(Qi.store).get(Qi.key).next((function(t){var r=[];return n.ss((function(n,i){var s=new A(n),o=function(t){return[0,li(t)]}(s);r.push(e.get(o).next((function(n){return n?gr.resolve():function(n){return e.put(new Ji(0,li(n),t.highestListenSequenceNumber))}(s)})))})).next((function(){return gr.$n(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(Ki.store,{keyPath:Ki.keyPath});var n=e.store(Ki.store),r=new Fi,i=function(t){if(r.add(t)){var e=t._(),i=t.h();return n.put({collectionId:e,parent:li(i)})}};return e.store(Gi.store).ss({ns:!0},(function(t,e){var n=new A(t);return i(n.h())})).next((function(){return e.store(qi.store).ss({ns:!0},(function(t,e){var n=di(t[1]);return i(n.h())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store($i.store);return n.ss((function(t,r){var i=Ei(r),s=Ci(e.serializer,i);return n.put(s)}))},t}(),Li=function(t,e){this.seconds=t,this.nanoseconds=e},Vi=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Vi.store="owner",Vi.key="owner";var Ui=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Ui.store="mutationQueues",Ui.keyPath="userId";var Bi=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Bi.store="mutations",Bi.keyPath="batchId",Bi.userMutationsIndex="userMutationsIndex",Bi.userMutationsKeyPath=["userId","batchId"];var qi=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,li(e)]},t.key=function(t,e,n){return[t,li(e),n]},t}();qi.store="documentMutations",qi.PLACEHOLDER=new qi;var zi=function(t,e){this.path=t,this.readTime=e},Hi=function(t,e){this.path=t,this.version=e},Gi=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};Gi.store="remoteDocuments",Gi.readTimeIndex="readTimeIndex",Gi.readTimeIndexPath="readTime",Gi.collectionReadTimeIndex="collectionReadTimeIndex",Gi.collectionReadTimeIndexPath=["parentPath","readTime"];var Wi=function(t){this.byteSize=t};Wi.store="remoteDocumentGlobal",Wi.key="remoteDocumentGlobalKey";var $i=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};$i.store="targets",$i.keyPath="targetId",$i.queryTargetsIndexName="queryTargetsIndex",$i.queryTargetsKeyPath=["canonicalId","targetId"];var Ji=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Ji.store="targetDocuments",Ji.keyPath=["targetId","path"],Ji.documentTargetsIndex="documentTargetsIndex",Ji.documentTargetsKeyPath=["path","targetId"];var Qi=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Qi.key="targetGlobalKey",Qi.store="targetGlobal";var Ki=function(t,e){this.collectionId=t,this.parent=e};function Yi(t){t.createObjectStore(Ji.store,{keyPath:Ji.keyPath}).createIndex(Ji.documentTargetsIndex,Ji.documentTargetsKeyPath,{unique:!0}),t.createObjectStore($i.store,{keyPath:$i.keyPath}).createIndex($i.queryTargetsIndexName,$i.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Qi.store)}Ki.store="collectionParents",Ki.keyPath=["collectionId","parent"];var Zi=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Zi.store="clientMetadata",Zi.keyPath="clientId";var Xi=r.__spreadArrays(r.__spreadArrays(r.__spreadArrays([Ui.store,Bi.store,qi.store,Gi.store,$i.store,Vi.store,Qi.store,Ji.store],[Zi.store]),[Wi.store]),[Ki.store]),ts=function(){function t(){this.da=new Fi}return t.prototype.ko=function(t,e){var n=this;if(!this.da.has(e)){var r=e._(),i=e.h();t.Vr((function(){n.da.add(e)}));var s={collectionId:r,parent:li(i)};return es(t).put(s)}return gr.resolve()},t.prototype.Ur=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Z(e),""],!1,!0);return es(t).Zn(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(di(s.parent))}return n}))},t}();function es(t){return cs.Un(t,Ki.store)}var ns=function(){function t(t){this.wa=t}return t.prototype.next=function(){return this.wa+=2,this.wa},t.ma=function(){return new t(0)},t.Ta=function(){return new t(-1)},t}(),rs=function(){function t(t,e){this.Co=t,this.serializer=e}return t.prototype.Ea=function(t){var e=this;return this.Ia(t).next((function(n){var r=new ns(n.highestTargetId);return n.highestTargetId=r.next(),e.Aa(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Ra=function(t){return this.Ia(t).next((function(t){return ut.Y(new at(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.Pa=function(t){return this.Ia(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.ga=function(t,e,n){var r=this;return this.Ia(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.X()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Aa(t,i)}))},t.prototype.ya=function(t,e){var n=this;return this.Va(t,e).next((function(){return n.Ia(t).next((function(r){return r.targetCount+=1,n.pa(e,r),n.Aa(t,r)}))}))},t.prototype.ba=function(t,e){return this.Va(t,e)},t.prototype.va=function(t,e){var n=this;return this.Sa(t,e.targetId).next((function(){return is(t).delete(e.targetId)})).next((function(){return n.Ia(t)})).next((function(e){return b(e.targetCount>0),e.targetCount-=1,n.Aa(t,e)}))},t.prototype.Vo=function(t,e,n){var r=this,i=0,s=[];return is(t).ss((function(o,a){var u=Ei(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,s.push(r.va(t,u)))})).next((function(){return gr.$n(s)})).next((function(){return i}))},t.prototype.De=function(t,e){return is(t).ss((function(t,n){var r=Ei(n);e(r)}))},t.prototype.Ia=function(t){return ss(t).get(Qi.key).next((function(t){return b(null!==t),t}))},t.prototype.Aa=function(t,e){return ss(t).put(Qi.key,e)},t.prototype.Va=function(t,e){return is(t).put(Ci(this.serializer,e))},t.prototype.pa=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Da=function(t){return this.Ia(t).next((function(t){return t.targetCount}))},t.prototype.Ca=function(t,e){var n=pt(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return is(t).ss({range:r,index:$i.queryTargetsIndexName},(function(t,n,r){var s=Ei(n);gt(e,s.target)&&(i=s,r.done())})).next((function(){return i}))},t.prototype.Na=function(t,e,n){var r=this,i=[],s=os(t);return e.forEach((function(e){var o=li(e.path);i.push(s.put(new Ji(n,o))),i.push(r.Co.Fa(t,n,e))})),gr.$n(i)},t.prototype.$a=function(t,e,n){var r=this,i=os(t);return gr.forEach(e,(function(e){var s=li(e.path);return gr.$n([i.delete([n,s]),r.Co.xa(t,n,e)])}))},t.prototype.Sa=function(t,e){var n=os(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.ka=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=os(t),i=Rt();return r.ss({range:n,ns:!0},(function(t,e,n){var r=di(t[1]),s=new I(r);i=i.add(s)})).next((function(){return i}))},t.prototype.zo=function(t,e){var n=li(e.path),r=IDBKeyRange.bound([n],[Z(n)],!1,!0),i=0;return os(t).ss({index:Ji.documentTargetsIndex,ns:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.qe=function(t,e){return is(t).get(e).next((function(t){return t?Ei(t):null}))},t}();function is(t){return cs.Un(t,$i.store)}function ss(t){return cs.Un(t,Qi.store)}function os(t){return cs.Un(t,Ji.store)}var as="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",us=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Wo=e,r.Ma=n,r}return r.__extends(e,t),e}(ei),cs=function(){function t(e,n,r,i,s,o,a,u,c,f){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this._n=s,this.window=o,this.document=a,this.Oa=c,this.La=f,this.Ba=null,this.qa=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ua=null,this.inForeground=!1,this.Qa=null,this.Wa=null,this.ja=Number.NEGATIVE_INFINITY,this.Ka=function(t){return Promise.resolve()},!t.On())throw new h(l.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Co=new fs(this,i),this.Ga=n+"main",this.serializer=new pi(u),this.za=new mr(this.Ga,10,new Mi(this.serializer)),this.Ha=new rs(this.Co,this.serializer),this.Sr=new ts,this.br=new Di(this.serializer,this.Sr),this.window&&this.window.localStorage?this.Ya=this.window.localStorage:(this.Ya=null,!1===f&&g("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Un=function(t,e){if(t instanceof us)return mr.Un(t.Wo,e);throw v()},t.prototype.start=function(){var t=this;return this.Ja().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new h(l.FAILED_PRECONDITION,as);return t.Xa(),t.Za(),t.tc(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.Ha.Pa(e)}))})).then((function(e){t.Ba=new Ur(e,t.Oa)})).then((function(){t.qa=!0})).catch((function(e){return t.za&&t.za.close(),Promise.reject(e)}))},t.prototype.ec=function(t){var e=this;return this.Ka=function(n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.Ti?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.nc=function(t){var e=this;this.za.jn((function(n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.sc=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this._n.ds((function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.Ti?[4,this.Ja()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.Ja=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return hs(e).put(new Zi(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.ic(e).next((function(e){e||(t.isPrimary=!1,t._n.Ds((function(){return t.Ka(!1)})))}))})).next((function(){return t.rc(e)})).next((function(n){return t.isPrimary&&!n?t.oc(e).next((function(){return!1})):!!n&&t.ac(e).next((function(){return!0}))}))})).catch((function(e){if(br(e))return p("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return p("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t._n.Ds((function(){return t.Ka(e)})),t.isPrimary=e}))},t.prototype.ic=function(t){var e=this;return ls(t).get(Vi.key).next((function(t){return gr.resolve(e.cc(t))}))},t.prototype.uc=function(t){return hs(t).delete(this.clientId)},t.prototype.hc=function(){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,s=this;return r.__generator(this,(function(r){switch(r.label){case 0:return!this.isPrimary||this.lc(this.ja,18e5)?[3,2]:(this.ja=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var n=t.Un(e,Zi.store);return n.Zn().next((function(t){var e=s._c(t,18e5),r=t.filter((function(t){return-1===e.indexOf(t)}));return gr.forEach(r,(function(t){return n.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=r.sent(),this.Ya)for(n=0,i=e;n<i.length;n++)this.Ya.removeItem(this.fc(i[n].clientId));r.label=2;case 2:return[2]}}))}))},t.prototype.tc=function(){var t=this;this.Wa=this._n.gn("client_metadata_refresh",4e3,(function(){return t.Ja().then((function(){return t.hc()})).then((function(){return t.tc()}))}))},t.prototype.cc=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.rc=function(t){var e=this;return this.La?gr.resolve(!0):ls(t).get(Vi.key).next((function(n){if(null!==n&&e.lc(n.leaseTimestampMs,5e3)&&!e.dc(n.ownerId)){if(e.cc(n)&&e.networkEnabled)return!0;if(!e.cc(n)){if(!n.allowTabSynchronization)throw new h(l.FAILED_PRECONDITION,as);return!1}}return!(!e.networkEnabled||!e.inForeground)||hs(t).Zn().next((function(t){return void 0===e._c(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&p("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.Si=function(){return r.__awaiter(this,void 0,void 0,(function(){var t=this;return r.__generator(this,(function(e){switch(e.label){case 0:return this.qa=!1,this.wc(),this.Wa&&(this.Wa.cancel(),this.Wa=null),this.mc(),this.Tc(),[4,this.za.runTransaction("readwrite",[Vi.store,Zi.store],(function(e){var n=new us(e,Ur.oi);return t.oc(n).next((function(){return t.uc(n)}))}))];case 1:return e.sent(),this.za.close(),this.Ec(),[2]}}))}))},t.prototype._c=function(t,e){var n=this;return t.filter((function(t){return n.lc(t.updateTimeMs,e)&&!n.dc(t.clientId)}))},t.prototype.Vi=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return hs(e).Zn().next((function(e){return t._c(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"Ti",{get:function(){return this.qa},enumerable:!1,configurable:!0}),t.prototype.Ic=function(t){return Si.Fo(t,this.serializer,this.Sr,this.Co)},t.prototype.Ac=function(){return this.Ha},t.prototype.Rc=function(){return this.br},t.prototype.Pc=function(){return this.Sr},t.prototype.runTransaction=function(t,e,n){var r,i=this;return p("IndexedDbPersistence","Starting transaction:",t),this.za.runTransaction("readonly"===e?"readonly":"readwrite",Xi,(function(s){return r=new us(s,i.Ba?i.Ba.next():Ur.oi),"readwrite-primary"===e?i.ic(r).next((function(t){return!!t||i.rc(r)})).next((function(e){if(!e)throw g("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i._n.Ds((function(){return i.Ka(!1)})),new h(l.FAILED_PRECONDITION,ti);return n(r)})).next((function(t){return i.ac(r).next((function(){return t}))})):i.gc(r).next((function(){return n(r)}))})).then((function(t){return r.pr(),t}))},t.prototype.gc=function(t){var e=this;return ls(t).get(Vi.key).next((function(t){if(null!==t&&e.lc(t.leaseTimestampMs,5e3)&&!e.dc(t.ownerId)&&!e.cc(t)&&!(e.La||e.allowTabSynchronization&&t.allowTabSynchronization))throw new h(l.FAILED_PRECONDITION,as)}))},t.prototype.ac=function(t){var e=new Vi(this.clientId,this.allowTabSynchronization,Date.now());return ls(t).put(Vi.key,e)},t.On=function(){return mr.On()},t.prototype.oc=function(t){var e=this,n=ls(t);return n.get(Vi.key).next((function(t){return e.cc(t)?(p("IndexedDbPersistence","Releasing primary lease."),n.delete(Vi.key)):gr.resolve()}))},t.prototype.lc=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(g("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Xa=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Qa=function(){t._n.ds((function(){return t.inForeground="visible"===t.document.visibilityState,t.Ja()}))},this.document.addEventListener("visibilitychange",this.Qa),this.inForeground="visible"===this.document.visibilityState)},t.prototype.mc=function(){this.Qa&&(this.document.removeEventListener("visibilitychange",this.Qa),this.Qa=null)},t.prototype.Za=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Ua=function(){e.wc(),e._n.ds((function(){return e.Si()}))},this.window.addEventListener("unload",this.Ua))},t.prototype.Tc=function(){this.Ua&&(this.window.removeEventListener("unload",this.Ua),this.Ua=null)},t.prototype.dc=function(t){var e;try{var n=null!==(null===(e=this.Ya)||void 0===e?void 0:e.getItem(this.fc(t)));return p("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return g("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.wc=function(){if(this.Ya)try{this.Ya.setItem(this.fc(this.clientId),String(Date.now()))}catch(r){g("Failed to set zombie client id.",r)}},t.prototype.Ec=function(){if(this.Ya)try{this.Ya.removeItem(this.fc(this.clientId))}catch(r){}},t.prototype.fc=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function ls(t){return cs.Un(t,Vi.store)}function hs(t){return cs.Un(t,Zi.store)}var fs=function(){function t(t,e){this.db=t,this.do=new ci(this,e)}return t.prototype.Ro=function(t){var e=this.yc(t);return this.db.Ac().Da(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.yc=function(t){var e=0;return this.yo(t,(function(t){e++})).next((function(){return e}))},t.prototype.De=function(t,e){return this.db.Ac().De(t,e)},t.prototype.yo=function(t,e){return this.Vc(t,(function(t,n){return e(n)}))},t.prototype.Fa=function(t,e,n){return ds(t,n)},t.prototype.xa=function(t,e,n){return ds(t,n)},t.prototype.Vo=function(t,e,n){return this.db.Ac().Vo(t,e,n)},t.prototype.Ko=function(t,e){return ds(t,e)},t.prototype.bc=function(t,e){return function(t,e){var n=!1;return Oi(t).rs((function(r){return Ai(t,r,e).next((function(t){return t&&(n=!0),gr.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.po=function(t,e){var n=this,r=this.db.Rc().aa(),i=[],s=0;return this.Vc(t,(function(o,a){if(a<=e){var u=n.bc(t,o).next((function(e){if(!e)return s++,r.Ar(t,o).next((function(){return r.Ir(o),os(t).delete([0,li(o.path)])}))}));i.push(u)}})).next((function(){return gr.$n(i)})).next((function(){return r.apply(t)})).next((function(){return s}))},t.prototype.removeTarget=function(t,e){var n=e.nt(t.Ma);return this.db.Ac().ba(t,n)},t.prototype.vc=function(t,e){return ds(t,e)},t.prototype.Vc=function(t,e){var n,r=os(t),i=Ur.oi;return r.ss({index:Ji.documentTargetsIndex},(function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==Ur.oi&&e(new I(di(n)),i),i=o,n=s):i=Ur.oi})).next((function(){i!==Ur.oi&&e(new I(di(n)),i)}))},t.prototype.vo=function(t){return this.db.Rc().ha(t)},t}();function ds(t,e){return os(t).put(function(t,e){return new Ji(0,li(t.path),e)}(e,t.Ma))}function ps(t,e){var n=t.projectId;return t.W||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var gs=function(){function t(t,e,n){this.persistence=t,this.Sc=e,this.Dc=new Ct(K),this.Cc=new ot((function(t){return pt(t)}),gt),this.Nc=ut.min(),this.vr=t.Ic(n),this.Fc=t.Rc(),this.Ha=t.Ac(),this.$c=new ni(this.Fc,this.vr,this.persistence.Pc()),this.Sc.xc(this.$c)}return t.prototype.Eo=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.bo(n,e.Dc)}))},t}();function ms(t,e){var n=_(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Fc.aa({ua:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=gr.resolve();return s.forEach((function(t){o=o.next((function(){return r.Ar(e,t)})).next((function(e){var s=e,o=n._r.get(t);b(null!==o),(!s||s.version.L(o)<0)&&(s=i.ar(t,s,n))&&r.Tr(s,n.lr)}))})),o.next((function(){return t.vr.Qo(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.vr.Go(t)})).next((function(){return n.$c.$r(t,r)}))}))}function ys(t){var e=_(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.Ha.Ra(t)}))}function vs(t,e){var n=_(t),r=e.et,i=n.Dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var s=n.Fc.aa({ua:!0});i=n.Dc;var o=[];e.Gt.forEach((function(e,s){var a=i.get(s);if(a){o.push(n.Ha.$a(t,e.ne,s).next((function(){return n.Ha.Na(t,e.te,s)})));var u=e.resumeToken;if(u.O()>0){var c=a.st(u,r).nt(t.Ma);i=i.rt(s,c),function(t,e,n){return b(e.resumeToken.O()>0),0===t.resumeToken.O()||e.et.J()-t.et.J()>=3e8||n.te.size+n.ee.size+n.ne.size>0}(a,c,e)&&o.push(n.Ha.ba(t,c))}}}));var a=Ot(),u=Rt();if(e.Ht.forEach((function(t,e){u=u.add(t)})),o.push(s.getEntries(t,u).next((function(i){e.Ht.forEach((function(u,c){var l=i.get(u);c instanceof Dn&&c.version.isEqual(ut.min())?(s.Ir(u,r),a=a.rt(u,c)):null==l||c.version.L(l.version)>0||0===c.version.L(l.version)&&l.hasPendingWrites?(s.Tr(c,r),a=a.rt(u,c)):p("LocalStore","Ignoring outdated watch update for ",u,". Current version:",l.version," Watch version:",c.version),e.Yt.has(u)&&o.push(n.persistence.Co.vc(t,u))}))}))),!r.isEqual(ut.min())){var c=n.Ha.Ra(t).next((function(e){return n.Ha.ga(t,t.Ma,r)}));o.push(c)}return gr.$n(o).next((function(){return s.apply(t)})).next((function(){return n.$c.kr(t,a)}))})).then((function(t){return n.Dc=i,t}))}function bs(t,e){var n=_(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.vr.Lo(t,e)}))}function _s(t,e){var n=_(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.Ha.Ca(t,e).next((function(i){return i?gr.resolve(r=i):n.Ha.Ea(t).next((function(i){return r=new bt(e,i,0,t.Ma),n.Ha.ya(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Dc.get(t.targetId);return(null===r||t.et.L(r.et)>0)&&(n.Dc=n.Dc.rt(t.targetId,t),n.Cc.set(e,t.targetId)),t}))}function ws(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,s,o,a;return r.__generator(this,(function(r){switch(r.label){case 0:i=_(t),s=i.Dc.get(e),o=n?"readwrite":"readwrite-primary",r.label=1;case 1:return r.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",o,(function(t){return i.persistence.Co.removeTarget(t,s)}))];case 2:r.sent(),r.label=3;case 3:return[3,5];case 4:if(!br(a=r.sent()))throw a;return p("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return i.Dc=i.Dc.remove(e),i.Cc.delete(s.target),[2]}}))}))}function Es(t,e,n){var r=_(t),i=ut.min(),s=Rt();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=_(t),i=r.Cc.get(n);return void 0!==i?gr.resolve(r.Dc.get(i)):r.Ha.Ca(e,n)}(r,t,qn(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.Ha.ka(t,e.targetId).next((function(t){s=t}))})).next((function(){return r.Sc.Or(t,e,n?i:ut.min(),n?s:Rt())})).next((function(t){return{documents:t,kc:s}}))}))}function Cs(t,e){var n=_(t),r=_(n.Ha),i=n.Dc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.qe(t,e).next((function(t){return t?t.target:null}))}))}function Ss(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){if(t.code!==l.FAILED_PRECONDITION||t.message!==ti)throw t;return p("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}var As=function(){function t(){this.Mc=new xt(xs.Oc),this.Lc=new xt(xs.Bc)}return t.prototype.m=function(){return this.Mc.m()},t.prototype.Fa=function(t,e){var n=new xs(t,e);this.Mc=this.Mc.add(n),this.Lc=this.Lc.add(n)},t.prototype.qc=function(t,e){var n=this;t.forEach((function(t){return n.Fa(t,e)}))},t.prototype.xa=function(t,e){this.Uc(new xs(t,e))},t.prototype.Qc=function(t,e){var n=this;t.forEach((function(t){return n.xa(t,e)}))},t.prototype.Wc=function(t){var e=this,n=new I(new A([])),r=new xs(n,t),i=new xs(n,t+1),s=[];return this.Lc.Nt([r,i],(function(t){e.Uc(t),s.push(t.key)})),s},t.prototype.jc=function(){var t=this;this.Mc.forEach((function(e){return t.Uc(e)}))},t.prototype.Uc=function(t){this.Mc=this.Mc.delete(t),this.Lc=this.Lc.delete(t)},t.prototype.Kc=function(t){var e=new I(new A([])),n=new xs(e,t),r=new xs(e,t+1),i=Rt();return this.Lc.Nt([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.zo=function(t){var e=new xs(t,0),n=this.Mc.$t(e);return null!==n&&t.isEqual(n.key)},t}(),xs=function(){function t(t,e){this.key=t,this.Gc=e}return t.Oc=function(t,e){return I.i(t.key,e.key)||K(t.Gc,e.Gc)},t.Bc=function(t,e){return K(t.Gc,e.Gc)||I.i(t.key,e.key)},t}(),Ts=function(t,e){this.user=e,this.type="OAuth",this.zc={},this.zc.Authorization="Bearer "+t},Is=function(){function t(){this.Hc=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.Yc=function(){},t.prototype.Jc=function(t){this.Hc=t,t(Vr.UNAUTHENTICATED)},t.prototype.Xc=function(){this.Hc=null},t}(),Os=function(){function t(t){var e=this;this.Zc=null,this.currentUser=Vr.UNAUTHENTICATED,this.tu=!1,this.eu=0,this.Hc=null,this.forceRefresh=!1,this.Zc=function(){e.eu++,e.currentUser=e.nu(),e.tu=!0,e.Hc&&e.Hc(e.currentUser)},this.eu=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Zc):(this.Zc(null),t.get().then((function(t){e.auth=t,e.Zc&&e.auth.addAuthTokenListener(e.Zc)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.eu,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.eu!==e?(p("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(b("string"==typeof n.accessToken),new Ts(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.Yc=function(){this.forceRefresh=!0},t.prototype.Jc=function(t){this.Hc=t,this.tu&&t(this.currentUser)},t.prototype.Xc=function(){this.auth&&this.auth.removeAuthTokenListener(this.Zc),this.Zc=null,this.Hc=null},t.prototype.nu=function(){var t=this.auth&&this.auth.getUid();return b(null===t||"string"==typeof t),new Vr(t)},t}(),Ds=function(){function t(t,e){this.su=t,this.iu=e,this.type="FirstParty",this.user=Vr.ei}return Object.defineProperty(t.prototype,"zc",{get:function(){var t={"X-Goog-AuthUser":this.iu},e=this.su.auth.ru([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),ks=function(){function t(t,e){this.su=t,this.iu=e}return t.prototype.getToken=function(){return Promise.resolve(new Ds(this.su,this.iu))},t.prototype.Jc=function(t){t(Vr.ei)},t.prototype.Xc=function(){},t.prototype.Yc=function(){},t}(),Ns=function(){function t(t,e,n,r,i,s){this._n=t,this.ou=n,this.au=r,this.cu=i,this.listener=s,this.state=0,this.uu=0,this.hu=null,this.stream=null,this.gs=new pr(t,e)}return t.prototype.lu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype._u=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.fu()},t.prototype.stop=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.lu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.du=function(){this.state=0,this.gs.reset()},t.prototype.wu=function(){var t=this;this._u()&&null===this.hu&&(this.hu=this._n.gn(this.ou,6e4,(function(){return t.mu()})))},t.prototype.Tu=function(t){this.Eu(),this.stream.send(t)},t.prototype.mu=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){return this._u()?[2,this.close(0)]:[2]}))}))},t.prototype.Eu=function(){this.hu&&(this.hu.cancel(),this.hu=null)},t.prototype.close=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return this.Eu(),this.gs.cancel(),this.uu++,3!==t?this.gs.reset():e&&e.code===l.RESOURCE_EXHAUSTED?(g(e.toString()),g("Using maximum backoff delay to prevent overloading the backend."),this.gs.An()):e&&e.code===l.UNAUTHENTICATED&&this.cu.Yc(),null!==this.stream&&(this.Iu(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Au(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.Iu=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.Ru(this.uu),n=this.uu;this.cu.getToken().then((function(e){t.uu===n&&t.Pu(e)}),(function(n){e((function(){var e=new h(l.UNKNOWN,"Fetching auth token failed: "+n.message);return t.gu(e)}))}))},t.prototype.Pu=function(t){var e=this,n=this.Ru(this.uu);this.stream=this.yu(t),this.stream.Vu((function(){n((function(){return e.state=2,e.listener.Vu()}))})),this.stream.Au((function(t){n((function(){return e.gu(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.fu=function(){var t=this;this.state=4,this.gs.Rn((function(){return r.__awaiter(t,void 0,void 0,(function(){return r.__generator(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.gu=function(t){return p("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.Ru=function(t){var e=this;return function(n){e._n.ds((function(){return e.uu===t?n():(p("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),js=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).serializer=i,o}return r.__extends(e,t),e.prototype.yu=function(t){return this.au.pu("Listen",t)},e.prototype.onMessage=function(t){this.gs.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:v()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.Ue?(b(void 0===e||"string"==typeof e),X.fromBase64String(e||"")):(b(void 0===e||e instanceof Uint8Array),X.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){var e=void 0===t.code?l.UNKNOWN:Et(t.code);return new h(e,t.message||"")}(o);n=new Gt(r,i,s,a||null)}else if("documentChange"in e){var u=e.documentChange,c=Te(t,u.document.name),f=Ce(u.document.updateTime),d=new An({mapValue:{fields:u.document.fields}}),p=new On(c,f,d,{});n=new zt(u.targetIds||[],u.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){var g=e.documentDelete,m=Te(t,g.document),y=g.readTime?Ce(g.readTime):ut.min(),_=new Dn(m,y);n=new zt([],g.removedTargetIds||[],_.key,_)}else if("documentRemove"in e){var w=e.documentRemove,E=Te(t,w.document);n=new zt([],w.removedTargetIds||[],E,null)}else{if(!("filter"in e))return v();var C=e.filter,S=new _t(C.count||0);n=new Ht(C.targetId,S)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return ut.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?ut.min():e.readTime?Ce(e.readTime):ut.min()}(t);return this.listener.bu(e,n)},e.prototype.vu=function(t){var e={};e.database=De(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=mt(r)?{documents:Re(t,r)}:{query:Fe(t,r)}).targetId=e.targetId,e.resumeToken.O()>0&&(n.resumeToken=we(t,e.resumeToken)),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return v()}}(0,e.tt);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.Tu(e)},e.prototype.Su=function(t){var e={};e.database=De(this.serializer),e.removeTarget=t,this.Tu(e)},e}(Ns),Ps=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).serializer=i,o.Du=!1,o}return r.__extends(e,t),Object.defineProperty(e.prototype,"Cu",{get:function(){return this.Du},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Du=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.Iu=function(){this.Du&&this.Nu([])},e.prototype.yu=function(t){return this.au.pu("Write",t)},e.prototype.onMessage=function(t){if(b(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Du){this.gs.reset();var e=function(t,e){return t&&t.length>0?(b(void 0!==e),t.map((function(t){return function(t,e){var n=Ce(t.updateTime?t.updateTime:e);n.isEqual(ut.min())&&(n=Ce(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new un(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Ce(t.commitTime);return this.listener.Fu(n,e)}return b(!t.writeResults||0===t.writeResults.length),this.Du=!0,this.listener.$u()},e.prototype.xu=function(){var t={};t.database=De(this.serializer),this.Tu(t)},e.prototype.Nu=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return je(e.serializer,t)}))};this.Tu(n)},e}(Ns),Rs=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.au=n,i.serializer=r,i.ku=!1,i}return r.__extends(e,t),e.prototype.Mu=function(){if(this.ku)throw new h(l.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ou=function(t,e,n){var r=this;return this.Mu(),this.credentials.getToken().then((function(i){return r.au.Ou(t,e,n,i)})).catch((function(t){throw t.code===l.UNAUTHENTICATED&&r.credentials.Yc(),t}))},e.prototype.Lu=function(t,e,n){var r=this;return this.Mu(),this.credentials.getToken().then((function(i){return r.au.Lu(t,e,n,i)})).catch((function(t){throw t.code===l.UNAUTHENTICATED&&r.credentials.Yc(),t}))},e.prototype.terminate=function(){this.ku=!1},e}((function(){})),Fs=function(){function t(t,e){this.os=t,this.fi=e,this.state="Unknown",this.Bu=0,this.qu=null,this.Uu=!0}return t.prototype.Qu=function(){var t=this;0===this.Bu&&(this.Wu("Unknown"),this.qu=this.os.gn("online_state_timeout",1e4,(function(){return t.qu=null,t.ju("Backend didn't respond within 10 seconds."),t.Wu("Offline"),Promise.resolve()})))},t.prototype.Ku=function(t){"Online"===this.state?this.Wu("Unknown"):(this.Bu++,this.Bu>=1&&(this.Gu(),this.ju("Connection failed 1 times. Most recent error: "+t.toString()),this.Wu("Offline")))},t.prototype.set=function(t){this.Gu(),this.Bu=0,"Online"===t&&(this.Uu=!1),this.Wu(t)},t.prototype.Wu=function(t){t!==this.state&&(this.state=t,this.fi(t))},t.prototype.ju=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Uu?(g(e),this.Uu=!1):p("OnlineStateTracker",e)},t.prototype.Gu=function(){null!==this.qu&&(this.qu.cancel(),this.qu=null)},t}(),Ms=function(){function t(t,e,n,i,s){var o=this;this.zu=t,this.Hu=e,this.os=n,this.Yu=[],this.Ju=new Map,this.Xu=null,this.Zu=new Set,this.th={},this.eh=s,this.eh.nh((function(t){n.ds((function(){return r.__awaiter(o,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return Js(this)?(p("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return(e=_(t)).Zu.add(4),[4,Us(e)];case 1:return n.sent(),e.sh.du(),e.ih.du(),e.rh.set("Unknown"),e.Zu.delete(4),[4,Vs(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.rh=new Fs(n,i),this.ih=function(t,e,n){var r=_(t);return r.Mu(),new js(e,r.au,r.credentials,r.serializer,n)}(this.Hu,n,{Vu:Ks.bind(null,this),Au:Ys.bind(null,this),bu:Zs.bind(null,this)}),this.sh=function(t,e,n){var r=_(t);return r.Mu(),new Ps(e,r.au,r.credentials,r.serializer,n)}(this.Hu,n,{Vu:io.bind(null,this),Au:ao.bind(null,this),$u:so.bind(null,this),Fu:oo.bind(null,this)})}return t.prototype.start=function(){return Ls(this)},t}();function Ls(t){var e=_(t);return e.Zu.delete(0),Vs(e)}function Vs(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return Js(t)?($s(t)?Ws(t):t.rh.set("Unknown"),[4,eo(t)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}function Us(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return[4,t.sh.stop()];case 1:return e.sent(),[4,t.ih.stop()];case 2:return e.sent(),t.Yu.length>0&&(p("RemoteStore","Stopping write stream with "+t.Yu.length+" pending writes"),t.Yu=[]),Qs(t),[2]}}))}))}function Bs(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return e=_(t),p("RemoteStore","RemoteStore shutting down."),e.Zu.add(5),[4,Us(e)];case 1:return n.sent(),e.eh.Si(),e.rh.set("Unknown"),[2]}}))}))}function qs(t,e){var n=_(t);n.Ju.has(e.targetId)||(n.Ju.set(e.targetId,e),$s(n)?Ws(n):n.ih._u()&&Hs(n,e))}function zs(t,e){var n=_(t);n.Ju.delete(e),n.ih._u()&&Gs(n,e),0===n.Ju.size&&(n.ih._u()?n.ih.wu():Js(n)&&n.rh.set("Unknown"))}function Hs(t,e){t.Xu.Ee(e.targetId),t.ih.vu(e)}function Gs(t,e){t.Xu.Ee(e),t.ih.Su(e)}function Ws(t){t.Xu=new $t({Be:function(e){return t.th.Be(e)},qe:function(e){return t.Ju.get(e)||null}}),t.ih.start(),t.rh.Qu()}function $s(t){return Js(t)&&!t.ih.lu()&&t.Ju.size>0}function Js(t){return 0===_(t).Zu.size}function Qs(t){t.Xu=null}function Ks(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return t.Ju.forEach((function(e,n){Hs(t,e)})),[2]}))}))}function Ys(t,e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){return Qs(t),$s(t)?(t.rh.Ku(e),Ws(t)):t.rh.set("Unknown"),[2]}))}))}function Zs(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,s,o;return r.__generator(this,(function(a){switch(a.label){case 0:if(t.rh.set("Online"),!(e instanceof Gt&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,s,o;return r.__generator(this,(function(r){switch(r.label){case 0:n=e.cause,i=0,s=e.targetIds,r.label=1;case 1:return i<s.length?t.Ju.has(o=s[i])?[4,t.th.oh(o,n)]:[3,3]:[3,5];case 2:r.sent(),t.Ju.delete(o),t.Xu.removeTarget(o),r.label=3;case 3:r.label=4;case 4:return i++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return a.sent(),[3,5];case 3:return i=a.sent(),p("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),[4,Xs(t,i)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof zt?t.Xu.pe(e):e instanceof Ht?t.Xu.$e(e):t.Xu.Se(e),n.isEqual(ut.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,ys(t.zu)];case 8:return s=a.sent(),n.L(s)>=0?[4,function(t,e){var n=t.Xu.Me(e);return n.Gt.forEach((function(n,r){if(n.resumeToken.O()>0){var i=t.Ju.get(r);i&&t.Ju.set(r,i.st(n.resumeToken,e))}})),n.zt.forEach((function(e){var n=t.Ju.get(e);if(n){t.Ju.set(e,n.st(X.B,n.et)),Gs(t,e);var r=new bt(n.target,e,1,n.sequenceNumber);Hs(t,r)}})),t.th.ah(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return p("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,Xs(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function Xs(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i=this;return r.__generator(this,(function(s){switch(s.label){case 0:if(!br(e))throw e;return t.Zu.add(1),[4,Us(t)];case 1:return s.sent(),t.rh.set("Offline"),n||(n=function(){return ys(t.zu)}),t.os.Ds((function(){return r.__awaiter(i,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return p("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Zu.delete(1),[4,Vs(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function to(t,e){return e().catch((function(n){return Xs(t,n,e)}))}function eo(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,s;return r.__generator(this,(function(r){switch(r.label){case 0:e=_(t),n=e.Yu.length>0?e.Yu[e.Yu.length-1].batchId:-1,r.label=1;case 1:if(!function(t){return Js(t)&&t.Yu.length<10}(e))return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,bs(e.zu,n)];case 3:return null===(i=r.sent())?(0===e.Yu.length&&e.sh.wu(),[3,7]):(n=i.batchId,function(t,e){t.Yu.push(e),t.sh._u()&&t.sh.Cu&&t.sh.Nu(e.mutations)}(e,i),[3,6]);case 4:return s=r.sent(),[4,Xs(e,s)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return no(e)&&ro(e),[2]}}))}))}function no(t){return Js(t)&&!t.sh.lu()&&t.Yu.length>0}function ro(t){t.sh.start()}function io(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return t.sh.xu(),[2]}))}))}function so(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n;return r.__generator(this,(function(r){for(e=0,n=t.Yu;e<n.length;e++)t.sh.Nu(n[e].mutations);return[2]}))}))}function oo(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,s;return r.__generator(this,(function(r){switch(r.label){case 0:return i=t.Yu.shift(),s=Zr.from(i,e,n),[4,to(t,(function(){return t.th.uh(s)}))];case 1:return r.sent(),[4,eo(t)];case 2:return r.sent(),[2]}}))}))}function ao(t,e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return e&&t.sh.Cu?[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(r){switch(r.label){case 0:return wt(i=e.code)&&i!==l.ABORTED?(n=t.Yu.shift(),t.sh.du(),[4,to(t,(function(){return t.th.hh(n.batchId,e)}))]):[3,3];case 1:return r.sent(),[4,eo(t)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return no(t)&&ro(t),[2]}}))}))}function uo(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n;return r.__generator(this,(function(r){switch(r.label){case 0:return n=_(t),e?(n.Zu.delete(2),[4,Vs(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Zu.add(2),[4,Us(n)]);case 3:r.sent(),n.rh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}var co=function(t){this.key=t},lo=function(t){this.key=t},ho=function(){function t(t,e){this.query=t,this.lh=e,this._h=null,this.Zt=!1,this.fh=Rt(),this.Qt=Rt(),this.dh=Kn(t),this.wh=new Lt(this.dh)}return Object.defineProperty(t.prototype,"mh",{get:function(){return this.lh},enumerable:!1,configurable:!0}),t.prototype.Th=function(t,e){var n=this,r=e?e.Eh:new Vt,i=e?e.wh:this.wh,s=e?e.Qt:this.Qt,o=i,a=!1,u=Fn(this.query)&&i.size===this.query.limit?i.last():null,c=Mn(this.query)&&i.size===this.query.limit?i.first():null;if(t.ut((function(t,e){var l=i.get(t),h=e instanceof On?e:null;h&&(h=Qn(n.query,h)?h:null);var f=!!l&&n.Qt.has(l.key),d=!!h&&(h.Ye||n.Qt.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Ih(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.dh(h,u)>0||c&&n.dh(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(o=o.add(h),s=d?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))})),Fn(this.query)||Mn(this.query))for(;o.size>this.query.limit;){var l=Fn(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{wh:o,Eh:r,Ah:a,Qt:s}},t.prototype.Ih=function(t,e){return t.Ye&&e.hasCommittedMutations&&!e.Ye},t.prototype.gr=function(t,e,n){var r=this,i=this.wh;this.wh=t.wh,this.Qt=t.Qt;var s=t.Eh.qt();s.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return v()}};return n(t)-n(e)}(t.type,e.type)||r.dh(t.doc,e.doc)})),this.Rh(n);var o=e?this.Ph():[],a=0===this.fh.size&&this.Zt?1:0,u=a!==this._h;return this._h=a,0!==s.length||u?{snapshot:new Ut(this.query,t.wh,i,s,t.Qt,0===a,u,!1),gh:o}:{gh:o}},t.prototype.Us=function(t){return this.Zt&&"Offline"===t?(this.Zt=!1,this.gr({wh:this.wh,Eh:new Vt,Qt:this.Qt,Ah:!1},!1)):{gh:[]}},t.prototype.yh=function(t){return!this.lh.has(t)&&!!this.wh.has(t)&&!this.wh.get(t).Ye},t.prototype.Rh=function(t){var e=this;t&&(t.te.forEach((function(t){return e.lh=e.lh.add(t)})),t.ee.forEach((function(t){})),t.ne.forEach((function(t){return e.lh=e.lh.delete(t)})),this.Zt=t.Zt)},t.prototype.Ph=function(){var t=this;if(!this.Zt)return[];var e=this.fh;this.fh=Rt(),this.wh.forEach((function(e){t.yh(e.key)&&(t.fh=t.fh.add(e.key))}));var n=[];return e.forEach((function(e){t.fh.has(e)||n.push(new lo(e))})),this.fh.forEach((function(t){e.has(t)||n.push(new co(t))})),n},t.prototype.Vh=function(t){this.lh=t.kc,this.fh=Rt();var e=this.Th(t.documents);return this.gr(e,!0)},t.prototype.ph=function(){return Ut.Kt(this.query,this.wh,this.Qt,0===this._h)},t}(),fo=function(t,e,n){this.query=t,this.targetId=e,this.view=n},po=function(t){this.key=t,this.bh=!1},go=function(){function t(t,e,n,r,i){this.zu=t,this.Sh=e,this.Dh=n,this.currentUser=r,this.Ch=i,this.Nh=null,this.Fh=new ot((function(t){return $n(t)}),Wn),this.$h=new Map,this.xh=[],this.kh=new Ct(I.i),this.Mh=new Map,this.Oh=new As,this.Lh={},this.Bh=new Map,this.qh=ns.Ta(),this.onlineState="Unknown",this.Uh=void 0}return Object.defineProperty(t.prototype,"Qh",{get:function(){return!0===this.Uh},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(t){this.Nh=t},t.prototype.Wh=function(t){},t}();function mo(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,s,o,a;return r.__generator(this,(function(r){switch(r.label){case 0:return(n=qo(t)).Wh("listen()"),(s=n.Fh.get(e))?(n.Dh.Mi(s.targetId),i=s.view.ph(),[3,4]):[3,1];case 1:return[4,_s(n.zu,qn(e))];case 2:return o=r.sent(),a=n.Dh.Mi(o.targetId),[4,yo(n,e,o.targetId,"current"===a)];case 3:i=r.sent(),n.Qh&&qs(n.Sh,o),r.label=4;case 4:return[2,i]}}))}))}function yo(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var s,o,a,u,c,l;return r.__generator(this,(function(h){switch(h.label){case 0:return t.jh=function(e,n,i){return function(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var s,o,a;return r.__generator(this,(function(r){switch(r.label){case 0:return(s=e.view.Th(n)).Ah?[4,Es(t.zu,e.query,!1).then((function(t){return e.view.Th(t.documents,s)}))]:[3,2];case 1:s=r.sent(),r.label=2;case 2:return o=i&&i.Gt.get(e.targetId),a=e.view.gr(s,t.Qh,o),[2,(Io(t,e.targetId,a.gh),a.snapshot)]}}))}))}(t,e,n,i)},[4,Es(t.zu,e,!0)];case 1:return s=h.sent(),o=new ho(e,s.kc),a=o.Th(s.documents),u=qt.Xt(n,i&&"Offline"!==t.onlineState),c=o.gr(a,t.Qh,u),Io(t,n,c.gh),l=new fo(e,n,o),[2,(t.Fh.set(e,l),t.$h.has(n)?t.$h.get(n).push(e):t.$h.set(n,[e]),c.snapshot)]}}))}))}function vo(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,s;return r.__generator(this,(function(r){switch(r.label){case 0:return(n=_(t)).Wh("unlisten()"),i=n.Fh.get(e),(s=n.$h.get(i.targetId)).length>1?[2,(n.$h.set(i.targetId,s.filter((function(t){return!Wn(t,e)}))),void n.Fh.delete(e))]:n.Qh?(n.Dh.Li(i.targetId),n.Dh.Ni(i.targetId)?[3,2]:[4,ws(n.zu,i.targetId,!1).then((function(){n.Dh.qi(i.targetId),zs(n.Sh,i.targetId),xo(n,i.targetId)})).catch(Ss)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return xo(n,i.targetId),[4,ws(n.zu,i.targetId,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))}function bo(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(r){switch(r.label){case 0:(n=_(t)).Wh("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,vs(n.zu,e)];case 2:return i=r.sent(),e.Gt.forEach((function(t,e){var r=n.Mh.get(e);r&&(b(t.te.size+t.ee.size+t.ne.size<=1),t.te.size>0?r.bh=!0:t.ee.size>0?b(r.bh):t.ne.size>0&&(b(r.bh),r.bh=!1))})),[4,ko(n,i,e)];case 3:return r.sent(),[3,6];case 4:return[4,Ss(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function _o(t,e,n){var r=_(t);if(r.Qh&&0===n||!r.Qh&&1===n){r.Wh("applyOnlineStateChange()");var i=[];r.Fh.forEach((function(t,n){var r=n.view.Us(e);r.snapshot&&i.push(r.snapshot)})),r.Nh.Kh(e),r.Nh.bu(i),r.onlineState=e,r.Qh&&r.Dh.ji(e)}}function wo(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,s,o,a,u,c;return r.__generator(this,(function(r){switch(r.label){case 0:return(i=_(t)).Wh("rejectListens()"),i.Dh.Ui(e,"rejected",n),s=i.Mh.get(e),(o=s&&s.key)?(a=(a=new Ct(I.i)).rt(o,new Dn(o,ut.min())),u=Rt().add(o),c=new Bt(ut.min(),new Map,new xt(K),a,u),[4,bo(i,c)]):[3,2];case 1:return r.sent(),i.kh=i.kh.remove(o),i.Mh.delete(e),Do(i),[3,4];case 2:return[4,ws(i.zu,e,!1).then((function(){return xo(i,e,n)})).catch(Ss)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))}function Eo(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,s;return r.__generator(this,(function(r){switch(r.label){case 0:(n=_(t)).Wh("applySuccessfulWrite()"),i=e.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,ms(n.zu,e)];case 2:return s=r.sent(),Ao(n,i,null),So(n,i),n.Dh.xi(i,"acknowledged"),[4,ko(n,s)];case 3:return r.sent(),[3,6];case 4:return[4,Ss(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function Co(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,s;return r.__generator(this,(function(r){switch(r.label){case 0:(i=_(t)).Wh("rejectFailedWrite()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,function(t,e){var n=_(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.vr.Mo(t,e).next((function(e){return b(null!==e),r=e.keys(),n.vr.Qo(t,e)})).next((function(){return n.vr.Go(t)})).next((function(){return n.$c.$r(t,r)}))}))}(i.zu,e)];case 2:return s=r.sent(),Ao(i,e,n),So(i,e),i.Dh.xi(e,"rejected",n),[4,ko(i,s)];case 3:return r.sent(),[3,6];case 4:return[4,Ss(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function So(t,e){(t.Bh.get(e)||[]).forEach((function(t){t.resolve()})),t.Bh.delete(e)}function Ao(t,e,n){var r=_(t),i=r.Lh[r.currentUser.Zs()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Lh[r.currentUser.Zs()]=i}}function xo(t,e,n){void 0===n&&(n=null),t.Dh.Li(e);for(var r=0,i=t.$h.get(e);r<i.length;r++){var s=i[r];t.Fh.delete(s),n&&t.Nh.Gh(s,n)}t.$h.delete(e),t.Qh&&t.Oh.Wc(e).forEach((function(e){t.Oh.zo(e)||To(t,e)}))}function To(t,e){var n=t.kh.get(e);null!==n&&(zs(t.Sh,n),t.kh=t.kh.remove(e),t.Mh.delete(n),Do(t))}function Io(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof co?(t.Oh.Fa(s.key,e),Oo(t,s)):s instanceof lo?(p("SyncEngine","Document no longer in limbo: "+s.key),t.Oh.xa(s.key,e),t.Oh.zo(s.key)||To(t,s.key)):v()}}function Oo(t,e){var n=e.key;t.kh.get(n)||(p("SyncEngine","New document in limbo: "+n),t.xh.push(n),Do(t))}function Do(t){for(;t.xh.length>0&&t.kh.size<t.Ch;){var e=t.xh.shift(),n=t.qh.next();t.Mh.set(n,new po(e)),t.kh=t.kh.rt(e,n),qs(t.Sh,new bt(qn(Rn(e.path)),n,2,Ur.oi))}}function ko(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,s,o,a;return r.__generator(this,(function(u){switch(u.label){case 0:return i=_(t),s=[],o=[],a=[],i.Fh.forEach((function(t,r){a.push(i.jh(r,e,n).then((function(t){if(t){i.Qh&&i.Dh.Ui(r.targetId,t.fromCache?"not-current":"current"),s.push(t);var e=ri.Gr(r.targetId,t);o.push(e)}})))})),[4,Promise.all(a)];case 1:return u.sent(),i.Nh.bu(s),[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,s,o,a,u,c,l;return r.__generator(this,(function(r){switch(r.label){case 0:n=_(t),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return gr.forEach(e,(function(e){return gr.forEach(e.jr,(function(r){return n.persistence.Co.Fa(t,e.targetId,r)})).next((function(){return gr.forEach(e.Kr,(function(r){return n.persistence.Co.xa(t,e.targetId,r)}))}))}))}))];case 2:return r.sent(),[3,4];case 3:if(!br(i=r.sent()))throw i;return p("LocalStore","Failed to update sequence numbers: "+i),[3,4];case 4:for(s=0,o=e;s<o.length;s++)u=(a=o[s]).targetId,a.fromCache||(c=n.Dc.get(u),l=c.it(c.et),n.Dc=n.Dc.rt(u,l));return[2]}}))}))}(i.zu,o)];case 2:return u.sent(),[2]}}))}))}function No(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(s){switch(s.label){case 0:return(n=_(t)).currentUser.isEqual(e)?[3,3]:(p("SyncEngine","User change. New user:",e.Zs()),[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,s,o;return r.__generator(this,(function(r){switch(r.label){case 0:return n=_(t),i=n.vr,s=n.$c,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var r;return n.vr.qo(t).next((function(o){return r=o,i=n.persistence.Ic(e),s=new ni(n.Fc,i,n.persistence.Pc()),i.qo(t)})).next((function(e){for(var n=[],i=[],o=Rt(),a=0,u=r;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];i.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)o=o.add(m[g].key)}return s.$r(t,o).next((function(t){return{zh:t,Hh:n,Yh:i}}))}))}))];case 1:return o=r.sent(),[2,(n.vr=i,n.$c=s,n.Sc.xc(n.$c),o)]}}))}))}(n.zu,e)]);case 1:return i=s.sent(),n.currentUser=e,function(t,e){t.Bh.forEach((function(t){t.forEach((function(t){t.reject(new h(l.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Bh.clear()}(n),n.Dh.Wi(e,i.Hh,i.Yh),[4,ko(n,i.zh)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function jo(t,e){var n=_(t),r=n.Mh.get(e);if(r&&r.bh)return Rt().add(r.key);var i=Rt(),s=n.$h.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var u=n.Fh.get(a[o]);i=i.xt(u.view.mh)}return i}function Po(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,s;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,Es((n=_(t)).zu,e.query,!0)];case 1:return i=r.sent(),s=e.view.Vh(i),[2,(n.Qh&&Io(n,e.targetId,s.gh),s)]}}))}))}function Ro(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var s,o;return r.__generator(this,(function(r){switch(r.label){case 0:return(s=_(t)).Wh("applyBatchState()"),[4,function(t,e){var n=_(t),r=_(n.vr);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.Oo(t,e).next((function(e){return e?n.$c.$r(t,e):gr.resolve(null)}))}))}(s.zu,e)];case 1:return null===(o=r.sent())?[3,6]:"pending"!==n?[3,3]:[4,eo(s.Sh)];case 2:return r.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Ao(s,e,i||null),function(t,e){_(_(t).vr).jo(e)}(s.zu,e)):v(),r.label=4;case 4:return[4,ko(s,o)];case 5:return r.sent(),[3,7];case 6:p("SyncEngine","Cannot apply mutation batch with id: "+e),r.label=7;case 7:return[2]}}))}))}function Fo(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,s,o,a,u,c;return r.__generator(this,(function(r){switch(r.label){case 0:return qo(n=_(t)),zo(n),!0!==e||!0===n.Uh?[3,3]:(i=n.Dh.Di(),[4,Mo(n,i.A())]);case 1:return s=r.sent(),n.Uh=!0,[4,uo(n.Sh,!0)];case 2:for(r.sent(),o=0,a=s;o<a.length;o++)qs(n.Sh,a[o]);return[3,7];case 3:return!1!==e||!1===n.Uh?[3,7]:(u=[],c=Promise.resolve(),n.$h.forEach((function(t,e){n.Dh.Bi(e)?u.push(e):c=c.then((function(){return xo(n,e),ws(n.zu,e,!0)})),zs(n.Sh,e)})),[4,c]);case 4:return r.sent(),[4,Mo(n,u)];case 5:return r.sent(),function(t){var e=_(t);e.Mh.forEach((function(t,n){zs(e.Sh,n)})),e.Oh.jc(),e.Mh=new Map,e.kh=new Ct(I.i)}(n),n.Uh=!1,[4,uo(n.Sh,!1)];case 6:r.sent(),r.label=7;case 7:return[2]}}))}))}function Mo(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var n,i,s,o,a,u,c,l,h,f,d,p,g;return r.__generator(this,(function(r){switch(r.label){case 0:n=_(t),i=[],s=[],o=0,a=e,r.label=1;case 1:return o<a.length?(c=void 0,(l=n.$h.get(u=a[o]))&&0!==l.length?[4,_s(n.zu,qn(l[0]))]:[3,7]):[3,13];case 2:c=r.sent(),h=0,f=l,r.label=3;case 3:return h<f.length?(d=n.Fh.get(f[h]),[4,Po(n,d)]):[3,6];case 4:(p=r.sent()).snapshot&&s.push(p.snapshot),r.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,Cs(n.zu,u)];case 8:return g=r.sent(),[4,_s(n.zu,g)];case 9:return c=r.sent(),[4,yo(n,Lo(g),u,!1)];case 10:r.sent(),r.label=11;case 11:i.push(c),r.label=12;case 12:return o++,[3,1];case 13:return[2,(n.Nh.bu(s),i)]}}))}))}function Lo(t){return Pn(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Vo(t){var e=_(t);return _(_(e.zu).persistence).Vi()}function Uo(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var s,o,a;return r.__generator(this,(function(r){switch(r.label){case 0:return(s=_(t)).Uh?(p("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!s.$h.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,function(t){var e=_(t),n=_(e.Fc);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return n.ia(t,e.Nc)})).then((function(t){var n=t.ra;return e.Nc=t.readTime,n}))}(s.zu)];case 3:return o=r.sent(),a=Bt.Jt(e,"current"===n),[4,ko(s,o,a)];case 4:return r.sent(),[3,8];case 5:return[4,ws(s.zu,e,!0)];case 6:return r.sent(),xo(s,e,i),[3,8];case 7:v(),r.label=8;case 8:return[2]}}))}))}function Bo(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,s,o,a,u,c,l,h,f;return r.__generator(this,(function(d){switch(d.label){case 0:if(!(i=qo(t)).Uh)return[3,10];s=0,o=e,d.label=1;case 1:return s<o.length?i.$h.has(a=o[s])?(p("SyncEngine","Adding an already active target "+a),[3,5]):[4,Cs(i.zu,a)]:[3,6];case 2:return u=d.sent(),[4,_s(i.zu,u)];case 3:return c=d.sent(),[4,yo(i,Lo(u),c.targetId,!1)];case 4:d.sent(),qs(i.Sh,c),d.label=5;case 5:return s++,[3,1];case 6:l=function(t){return r.__generator(this,(function(e){switch(e.label){case 0:return i.$h.has(t)?[4,ws(i.zu,t,!1).then((function(){zs(i.Sh,t),xo(i,t)})).catch(Ss)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},h=0,f=n,d.label=7;case 7:return h<f.length?[5,l(f[h])]:[3,10];case 8:d.sent(),d.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}function qo(t){var e=_(t);return e.Sh.th.ah=bo.bind(null,e),e.Sh.th.Be=jo.bind(null,e),e.Sh.th.oh=wo.bind(null,e),e}function zo(t){var e=_(t);return e.Sh.th.uh=Eo.bind(null,e),e.Sh.th.hh=Co.bind(null,e),e}var Ho=function(){function t(){}return t.prototype.xc=function(t){this.Jh=t},t.prototype.Or=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.rn.length||1===t.rn.length&&t.rn[0].field.p())}(e)||n.isEqual(ut.min())?this.Xh(t,e):this.Jh.$r(t,r).next((function(o){var a=i.Zh(e,o);return(Fn(e)||Mn(e))&&i.Ah(e.on,a,r,n)?i.Xh(t,e):(d()<=s.LogLevel.DEBUG&&p("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Jn(e)),i.Jh.Or(t,e,n).next((function(t){return a.forEach((function(e){t=t.rt(e.key,e)})),t})))}))},t.prototype.Zh=function(t,e){var n=new xt(Kn(t));return e.forEach((function(e,r){r instanceof On&&Qn(t,r)&&(n=n.add(r))})),n},t.prototype.Ah=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.L(r)>0)},t.prototype.Xh=function(t,e){return d()<=s.LogLevel.DEBUG&&p("IndexFreeQueryEngine","Using full collection scan to execute query:",Jn(e)),this.Jh.Or(t,e,ut.min())},t}(),Go=function(){function t(t,e){this.Sr=t,this.Co=e,this.vr=[],this.tl=1,this.el=new xt(xs.Oc)}return t.prototype.$o=function(t){return gr.resolve(0===this.vr.length)},t.prototype.xo=function(t,e,n,r){var i=this.tl;this.tl++;var s=new Yr(i,e,n,r);this.vr.push(s);for(var o=0,a=r;o<a.length;o++){var u=a[o];this.el=this.el.add(new xs(u.key,i)),this.Sr.ko(t,u.key.path.h())}return gr.resolve(s)},t.prototype.Mo=function(t,e){return gr.resolve(this.nl(e))},t.prototype.Lo=function(t,e){var n=this.sl(e+1),r=n<0?0:n;return gr.resolve(this.vr.length>r?this.vr[r]:null)},t.prototype.Bo=function(){return gr.resolve(0===this.vr.length?-1:this.tl-1)},t.prototype.qo=function(t){return gr.resolve(this.vr.slice())},t.prototype.Cr=function(t,e){var n=this,r=new xs(e,0),i=new xs(e,Number.POSITIVE_INFINITY),s=[];return this.el.Nt([r,i],(function(t){var e=n.nl(t.Gc);s.push(e)})),gr.resolve(s)},t.prototype.Mr=function(t,e){var n=this,r=new xt(K);return e.forEach((function(t){var e=new xs(t,0),i=new xs(t,Number.POSITIVE_INFINITY);n.el.Nt([e,i],(function(t){r=r.add(t.Gc)}))})),gr.resolve(this.il(r))},t.prototype.Qr=function(t,e){var n=e.path,r=n.length+1,i=n;I.F(i)||(i=i.child(""));var s=new xs(new I(i),0),o=new xt(K);return this.el.Ft((function(t){var e=t.key.path;return!!n.T(e)&&(e.length===r&&(o=o.add(t.Gc)),!0)}),s),gr.resolve(this.il(o))},t.prototype.il=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.nl(t);null!==r&&n.push(r)})),n},t.prototype.Qo=function(t,e){var n=this;b(0===this.rl(e.batchId,"removed")),this.vr.shift();var r=this.el;return gr.forEach(e.mutations,(function(i){var s=new xs(i.key,e.batchId);return r=r.delete(s),n.Co.Ko(t,i.key)})).next((function(){n.el=r}))},t.prototype.jo=function(t){},t.prototype.zo=function(t,e){var n=new xs(e,0),r=this.el.$t(n);return gr.resolve(e.isEqual(r&&r.key))},t.prototype.Go=function(t){return gr.resolve()},t.prototype.rl=function(t,e){return this.sl(t)},t.prototype.sl=function(t){return 0===this.vr.length?0:t-this.vr[0].batchId},t.prototype.nl=function(t){var e=this.sl(t);return e<0||e>=this.vr.length?null:this.vr[e]},t}(),Wo=function(){function t(t,e){this.Sr=t,this.ol=e,this.docs=new Ct(I.i),this.size=0}return t.prototype.Tr=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.ol(e);return this.docs=this.docs.rt(r,{Zo:e,size:o,readTime:n}),this.size+=o-s,this.Sr.ko(t,r.path.h())},t.prototype.Ir=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Ar=function(t,e){var n=this.docs.get(e);return gr.resolve(n?n.Zo:null)},t.prototype.getEntries=function(t,e){var n=this,r=Dt();return e.forEach((function(t){var e=n.docs.get(t);r=r.rt(t,e?e.Zo:null)})),gr.resolve(r)},t.prototype.Or=function(t,e,n){for(var r=Nt(),i=new I(e.path.child("")),s=this.docs._t(i);s.It();){var o=s.Et(),a=o.value,u=a.Zo,c=a.readTime;if(!e.path.T(o.key.path))break;c.L(n)<=0||u instanceof On&&Qn(e,u)&&(r=r.rt(u.key,u))}return gr.resolve(r)},t.prototype.al=function(t,e){return gr.forEach(this.docs,(function(t){return e(t)}))},t.prototype.aa=function(e){return new t.ca(this)},t.prototype.ha=function(t){return gr.resolve(this.size)},t}();Wo.ca=function(t){function e(e){var n=this;return(n=t.call(this)||this).la=e,n}return r.__extends(e,t),e.prototype.gr=function(t){var e=this,n=[];return this.dr.forEach((function(r,i){i?n.push(e.la.Tr(t,i,e.readTime)):e.la.Ir(r)})),gr.$n(n)},e.prototype.Rr=function(t,e){return this.la.Ar(t,e)},e.prototype.Pr=function(t,e){return this.la.getEntries(t,e)},e}(Xr);var $o=function(){function t(t){this.persistence=t,this.cl=new ot((function(t){return pt(t)}),gt),this.lastRemoteSnapshotVersion=ut.min(),this.highestTargetId=0,this.ul=0,this.hl=new As,this.targetCount=0,this.ll=ns.ma()}return t.prototype.De=function(t,e){return this.cl.forEach((function(t,n){return e(n)})),gr.resolve()},t.prototype.Ra=function(t){return gr.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Pa=function(t){return gr.resolve(this.ul)},t.prototype.Ea=function(t){return this.highestTargetId=this.ll.next(),gr.resolve(this.highestTargetId)},t.prototype.ga=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ul&&(this.ul=e),gr.resolve()},t.prototype.Va=function(t){this.cl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ll=new ns(e),this.highestTargetId=e),t.sequenceNumber>this.ul&&(this.ul=t.sequenceNumber)},t.prototype.ya=function(t,e){return this.Va(e),this.targetCount+=1,gr.resolve()},t.prototype.ba=function(t,e){return this.Va(e),gr.resolve()},t.prototype.va=function(t,e){return this.cl.delete(e.target),this.hl.Wc(e.targetId),this.targetCount-=1,gr.resolve()},t.prototype.Vo=function(t,e,n){var r=this,i=0,s=[];return this.cl.forEach((function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.cl.delete(o),s.push(r.Sa(t,a.targetId)),i++)})),gr.$n(s).next((function(){return i}))},t.prototype.Da=function(t){return gr.resolve(this.targetCount)},t.prototype.Ca=function(t,e){var n=this.cl.get(e)||null;return gr.resolve(n)},t.prototype.Na=function(t,e,n){return this.hl.qc(e,n),gr.resolve()},t.prototype.$a=function(t,e,n){this.hl.Qc(e,n);var r=this.persistence.Co,i=[];return r&&e.forEach((function(e){i.push(r.Ko(t,e))})),gr.$n(i)},t.prototype.Sa=function(t,e){return this.hl.Wc(e),gr.resolve()},t.prototype.ka=function(t,e){var n=this.hl.Kc(e);return gr.resolve(n)},t.prototype.zo=function(t,e){return gr.resolve(this.hl.zo(e))},t}(),Jo=function(){function t(t){var e=this;this._l={},this.Ba=new Ur(0),this.qa=!1,this.qa=!0,this.Co=t(this),this.Ha=new $o(this),this.Sr=new Ri,this.br=new Wo(this.Sr,(function(t){return e.Co.fl(t)}))}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Si=function(){return this.qa=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Ti",{get:function(){return this.qa},enumerable:!1,configurable:!0}),t.prototype.nc=function(){},t.prototype.sc=function(){},t.prototype.Pc=function(){return this.Sr},t.prototype.Ic=function(t){var e=this._l[t.Zs()];return e||(e=new Go(this.Sr,this.Co),this._l[t.Zs()]=e),e},t.prototype.Ac=function(){return this.Ha},t.prototype.Rc=function(){return this.br},t.prototype.runTransaction=function(t,e,n){var r=this;p("MemoryPersistence","Starting transaction:",t);var i=new Qo(this.Ba.next());return this.Co.dl(),n(i).next((function(t){return r.Co.wl(i).next((function(){return t}))})).Nn().then((function(t){return i.pr(),t}))},t.prototype.ml=function(t,e){return gr.xn(Object.values(this._l).map((function(n){return function(){return n.zo(t,e)}})))},t}(),Qo=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ma=e,n}return r.__extends(e,t),e}(ei),Ko=function(){function t(t){this.persistence=t,this.Tl=new As,this.El=null}return t.Il=function(e){return new t(e)},Object.defineProperty(t.prototype,"Al",{get:function(){if(this.El)return this.El;throw v()},enumerable:!1,configurable:!0}),t.prototype.Fa=function(t,e,n){return this.Tl.Fa(n,e),this.Al.delete(n.toString()),gr.resolve()},t.prototype.xa=function(t,e,n){return this.Tl.xa(n,e),this.Al.add(n.toString()),gr.resolve()},t.prototype.Ko=function(t,e){return this.Al.add(e.toString()),gr.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Tl.Wc(e.targetId).forEach((function(t){return n.Al.add(t.toString())}));var r=this.persistence.Ac();return r.ka(t,e.targetId).next((function(t){t.forEach((function(t){return n.Al.add(t.toString())}))})).next((function(){return r.va(t,e)}))},t.prototype.dl=function(){this.El=new Set},t.prototype.wl=function(t){var e=this,n=this.persistence.Rc().aa();return gr.forEach(this.Al,(function(r){var i=I.D(r);return e.Rl(t,i).next((function(t){t||n.Ir(i)}))})).next((function(){return e.El=null,n.apply(t)}))},t.prototype.vc=function(t,e){var n=this;return this.Rl(t,e).next((function(t){t?n.Al.delete(e.toString()):n.Al.add(e.toString())}))},t.prototype.fl=function(t){return 0},t.prototype.Rl=function(t,e){var n=this;return gr.xn([function(){return gr.resolve(n.Tl.zo(e))},function(){return n.persistence.Ac().zo(t,e)},function(){return n.persistence.ml(t,e)}])},t}(),Yo=function(){function t(t){this.Pl=t.Pl,this.gl=t.gl}return t.prototype.Vu=function(t){this.yl=t},t.prototype.Au=function(t){this.Vl=t},t.prototype.onMessage=function(t){this.pl=t},t.prototype.close=function(){this.gl()},t.prototype.send=function(t){this.Pl(t)},t.prototype.bl=function(){this.yl()},t.prototype.vl=function(t){this.Vl(t)},t.prototype.Sl=function(t){this.pl(t)},t}(),Zo={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Xo=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n}return r.__extends(e,t),e.prototype.xl=function(t,e,n,r){return new Promise((function(i,s){var o=new a.XhrIo;o.listenOnce(a.EventType.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case a.ErrorCode.NO_ERROR:var e=o.getResponseJson();p("Connection","XHR received:",JSON.stringify(e)),i(e);break;case a.ErrorCode.TIMEOUT:p("Connection",'RPC "'+t+'" timed out'),s(new h(l.DEADLINE_EXCEEDED,"Request time out"));break;case a.ErrorCode.HTTP_ERROR:var n=o.getStatus();if(p("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(l).indexOf(e)>=0?e:l.UNKNOWN}(r.status);s(new h(u,r.message))}else s(new h(l.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new h(l.UNAVAILABLE,"Connection failed."));break;default:v()}}finally{p("Connection",'RPC "'+t+'" completed.')}}));var u=JSON.stringify(r);o.send(e,"POST",u,n,15)}))},e.prototype.pu=function(t,e){var n=[this.Cl,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=a.createWebChannelTransport(),i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.U.projectId+"/databases/"+this.U.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.$l(i.initMessageHeaders,e),o.isMobileCordova()||o.isReactNative()||o.isElectron()||o.isIE()||o.isUWP()||o.isBrowserExtension()||(i.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");p("Connection","Creating WebChannel: "+s,i);var u=r.createWebChannel(s,i),c=!1,f=!1,d=new Yo({Pl:function(t){f?p("Connection","Not sending because WebChannel is closed:",t):(c||(p("Connection","Opening WebChannel transport."),u.open(),c=!0),p("Connection","WebChannel sending:",t),u.send(t))},gl:function(){return u.close()}}),g=function(t,e){u.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return g(a.WebChannel.EventType.OPEN,(function(){f||p("Connection","WebChannel transport opened.")})),g(a.WebChannel.EventType.CLOSE,(function(){f||(f=!0,p("Connection","WebChannel transport closed"),d.vl())})),g(a.WebChannel.EventType.ERROR,(function(t){f||(f=!0,m("Connection","WebChannel transport errored:",t),d.vl(new h(l.UNAVAILABLE,"The operation could not be completed")))})),g(a.WebChannel.EventType.MESSAGE,(function(t){var e;if(!f){var n=t.data[0];b(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){p("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=yt[t];if(void 0!==e)return Et(e)}(i),o=r.message;void 0===s&&(s=l.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),f=!0,d.vl(new h(s,o)),u.close()}else p("Connection","WebChannel received:",n),d.Sl(n)}})),setTimeout((function(){d.bl()}),0),d},e}(function(){function t(t){this.Dl=t,this.U=t.U,this.Cl=(t.ssl?"https":"http")+"://"+t.host,this.Nl="projects/"+this.U.projectId+"/databases/"+this.U.database+"/documents"}return t.prototype.Ou=function(t,e,n,r){var i=this.Fl(t,e);p("RestConnection","Sending: ",i,n);var s={};return this.$l(s,r),this.xl(t,i,s,n).then((function(t){return p("RestConnection","Received: ",t),t}),(function(e){throw m("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Lu=function(t,e,n,r){return this.Ou(t,e,n,r)},t.prototype.$l=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/7.20.0",t["Content-Type"]="text/plain",e)for(var n in e.zc)e.zc.hasOwnProperty(n)&&(t[n]=e.zc[n])},t.prototype.Fl=function(t,e){return this.Cl+"/v1/"+e+":"+Zo[t]},t}()),ta=function(){function t(){var t=this;this.kl=function(){return t.Ml()},this.Ol=function(){return t.Ll()},this.Bl=[],this.ql()}return t.prototype.nh=function(t){this.Bl.push(t)},t.prototype.Si=function(){window.removeEventListener("online",this.kl),window.removeEventListener("offline",this.Ol)},t.prototype.ql=function(){window.addEventListener("online",this.kl),window.addEventListener("offline",this.Ol)},t.prototype.Ml=function(){p("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Bl;t<e.length;t++)(0,e[t])(0)},t.prototype.Ll=function(){p("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Bl;t<e.length;t++)(0,e[t])(1)},t.On=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),ea=function(){function t(){}return t.prototype.nh=function(t){},t.prototype.Si=function(){},t}();function na(t){return new me(t,!0)}var ra="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",ia=function(){function t(){}return t.prototype.initialize=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return this.Dh=this.Ul(t),this.persistence=this.Ql(t),[4,this.persistence.start()];case 1:return e.sent(),this.Wl=this.jl(t),this.zu=this.Kl(t),[2]}}))}))},t.prototype.jl=function(t){return null},t.prototype.Kl=function(t){return e=this.persistence,n=new Ho,new gs(e,n,t.Gl);var e,n},t.prototype.Ql=function(t){if(t.Hl.zl)throw new h(l.FAILED_PRECONDITION,ra);return new Jo(Ko.Il)},t.prototype.Ul=function(t){return new Kr},t.prototype.terminate=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.Wl&&this.Wl.stop(),[4,this.Dh.Si()];case 1:return t.sent(),[4,this.persistence.Si()];case 2:return t.sent(),[2]}}))}))},t.prototype.clearPersistence=function(t,e){throw new h(l.FAILED_PRECONDITION,ra)},t}(),sa=function(t){function e(e){var n=this;return(n=t.call(this)||this).Yl=e,n}return r.__extends(e,t),e.prototype.initialize=function(e){return r.__awaiter(this,void 0,void 0,(function(){var n,i=this;return r.__generator(this,(function(s){switch(s.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return s.sent(),[4,this.Yl.initialize(this,e)];case 2:return s.sent(),n=this.Yl._i,this.Dh instanceof Qr?(this.Dh._i={tr:Ro.bind(null,n),er:Uo.bind(null,n),nr:Bo.bind(null,n),Vi:Vo.bind(null,n)},[4,this.Dh.start()]):[3,4];case 3:s.sent(),s.label=4;case 4:return[4,this.persistence.ec((function(t){return r.__awaiter(i,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return[4,Fo(this.Yl._i,t)];case 1:return e.sent(),this.Wl&&(t&&!this.Wl.Ti?this.Wl.start(this.zu):t||this.Wl.stop()),[2]}}))}))}))];case 5:return s.sent(),[2]}}))}))},e.prototype.Ul=function(t){if(t.Hl.zl&&t.Hl.synchronizeTabs){var e=Ar();if(!Qr.On(e))throw new h(l.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=ps(t.Dl.U,t.Dl.persistenceKey);return new Qr(e,t.os,n,t.clientId,t.Gl)}return new Kr},e}(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.initialize=function(e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n;return r.__generator(this,(function(r){return e=_(t),n=_(e.Fc),[2,e.persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return n.oa(t)})).then((function(t){e.Nc=t}))]}))}))}(this.zu)];case 2:return n.sent(),[2]}}))}))},e.prototype.jl=function(t){return new ui(this.persistence.Co.do,t.os)},e.prototype.Ql=function(t){var e=ps(t.Dl.U,t.Dl.persistenceKey),n=na(t.Dl.U);return new cs(t.Hl.synchronizeTabs,e,t.clientId,ai.oo(t.Hl.cacheSizeBytes),t.os,Ar(),xr(),n,this.Dh,t.Hl.La)},e.prototype.Ul=function(t){return new Kr},e.prototype.clearPersistence=function(t,e){return function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return mr.On()?[4,mr.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(ps(t,e))},e}(ia)),oa=function(){function t(){}return t.prototype.initialize=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.zu?[3,2]:(this.zu=t.zu,this.Dh=t.Dh,this.Hu=this.Jl(e),this.Sh=this.Xl(e),this._i=this.Zl(e),this.t_=this.e_(e),this._i.subscribe({bu:Pr.bind(null,this.t_),Gh:Rr.bind(null,this.t_),Kh:Fr.bind(null,this.t_)}),this.Dh.fi=function(t){return _o(n._i,t,1)},this.Sh.th.n_=No.bind(null,this._i),[4,uo(this.Sh,this._i.Qh)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.e_=function(t){return new kr},t.prototype.Jl=function(t){var e=na(t.Dl.U),n=new Xo(t.Dl);return function(t,e,n){return new Rs(t,e,n)}(t.credentials,n,e)},t.prototype.Xl=function(t){var e,n,r,i,s,o=this;return e=this.zu,n=this.Hu,r=t.os,i=function(t){return _o(o._i,t,0)},s=ta.On()?new ta:new ea,new Ms(e,n,r,i,s)},t.prototype.Zl=function(t){return function(t,e,n,r,i,s){var o=new go(t,e,n,r,i);return s&&(o.Uh=!0),o}(this.zu,this.Sh,this.Dh,t.Gl,t.Ch,!t.Hl.zl||!t.Hl.synchronizeTabs)},t.prototype.terminate=function(){return Bs(this.Sh)},t}();function aa(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}var ua=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.s_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.s_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.i_=function(){this.muted=!0},t.prototype.s_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),ca=function(t){!function(t,e,n,r){if(!(e instanceof Array)||e.length<1)throw new h(l.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+$(1,"element")+".")}(0,t);for(var e=0;e<t.length;++e)if(j("FieldPath","string",e,t[e]),0===t[e].length)throw new h(l.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.r_=new T(t)},la=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,e)||this}return r.__extends(e,t),e.documentId=function(){return new e(T.v().R())},e.prototype.isEqual=function(t){if(!(t instanceof e))throw H("isEqual","FieldPath",1,t);return this.r_.isEqual(t.r_)},e}(ca),ha=new RegExp("[~\\*/\\[\\]]"),fa=function(){this.o_=this},da=function(t){function e(e){var n=this;return(n=t.call(this)||this).a_=e,n}return r.__extends(e,t),e.prototype.c_=function(t){if(2!==t.u_)throw t.h_(1===t.u_?this.a_+"() can only appear at the top level of your update data":this.a_+"() cannot be used with set() unless you pass {merge:true}");return t.Qe.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(fa);function pa(t,e,n){return new Ta({u_:3,l_:e.settings.l_,methodName:t.a_,__:n},e.U,e.serializer,e.ignoreUndefinedProperties)}var ga=function(t){function e(e){var n=this;return(n=t.call(this)||this).a_=e,n}return r.__extends(e,t),e.prototype.c_=function(t){return new an(t.path,new Ye)},e.prototype.isEqual=function(t){return t instanceof e},e}(fa),ma=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).a_=e,r.f_=n,r}return r.__extends(e,t),e.prototype.c_=function(t){var e=pa(this,t,!0),n=this.f_.map((function(t){return ja(t,e)})),r=new Ze(n);return new an(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(fa),ya=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).a_=e,r.f_=n,r}return r.__extends(e,t),e.prototype.c_=function(t){var e=pa(this,t,!0),n=this.f_.map((function(t){return ja(t,e)})),r=new tn(n);return new an(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(fa),va=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).a_=e,r.d_=n,r}return r.__extends(e,t),e.prototype.c_=function(t){var e=new nn(t.serializer,be(t.serializer,this.d_));return new an(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(fa),ba=function(t){function e(){return t.call(this)||this}return r.__extends(e,t),e.delete=function(){return O("FieldValue.delete",arguments),new _a(new da("FieldValue.delete"))},e.serverTimestamp=function(){return O("FieldValue.serverTimestamp",arguments),new _a(new ga("FieldValue.serverTimestamp"))},e.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return k("FieldValue.arrayUnion",arguments,1),new _a(new ma("FieldValue.arrayUnion",t))},e.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return k("FieldValue.arrayRemove",arguments,1),new _a(new ya("FieldValue.arrayRemove",t))},e.increment=function(t){return j("FieldValue.increment","number",1,t),D("FieldValue.increment",arguments,1),new _a(new va("FieldValue.increment",t))},e}(fa),_a=function(t){function e(e){var n=this;return(n=t.call(this)||this).o_=e,n.a_=e.a_,n}return r.__extends(e,t),e.prototype.c_=function(t){return this.o_.c_(t)},e.prototype.isEqual=function(t){return t instanceof e&&this.o_.isEqual(t.o_)},e}(ba),wa=function(){function t(t,e){if(D("GeoPoint",arguments,2),j("GeoPoint","number",1,t),j("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new h(l.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new h(l.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.w_=t,this.m_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.w_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.m_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.w_===t.w_&&this.m_===t.m_},t.prototype.toJSON=function(){return{latitude:this.w_,longitude:this.m_}},t.prototype.H=function(t){return K(this.w_,t.w_)||K(this.m_,t.m_)},t}(),Ea=/^__.*__$/,Ca=function(t,e,n){this.T_=t,this.E_=e,this.I_=n},Sa=function(){function t(t,e,n){this.data=t,this.Qe=e,this.fieldTransforms=n}return t.prototype.A_=function(t,e){var n=[];return n.push(null!==this.Qe?new vn(t,this.data,this.Qe,e):new yn(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new _n(t,this.fieldTransforms)),n},t}(),Aa=function(){function t(t,e,n){this.data=t,this.Qe=e,this.fieldTransforms=n}return t.prototype.A_=function(t,e){var n=[new vn(t,this.data,this.Qe,e)];return this.fieldTransforms.length>0&&n.push(new _n(t,this.fieldTransforms)),n},t}();function xa(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw v()}}var Ta=function(){function t(t,e,n,r,i,s){this.settings=t,this.U=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.R_(),this.fieldTransforms=i||[],this.Qe=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"u_",{get:function(){return this.settings.u_},enumerable:!1,configurable:!0}),t.prototype.P_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.U,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.Qe)},t.prototype.g_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.P_({path:n,__:!1});return r.y_(t),r},t.prototype.V_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.P_({path:n,__:!1});return r.R_(),r},t.prototype.p_=function(t){return this.P_({path:void 0,__:!0})},t.prototype.h_=function(t){return Va(t,this.settings.methodName,this.settings.b_||!1,this.path,this.settings.l_)},t.prototype.contains=function(t){return void 0!==this.Qe.find((function(e){return t.T(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.T(e.field)}))},t.prototype.R_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.y_(this.path.get(t))},t.prototype.y_=function(t){if(0===t.length)throw this.h_("Document fields must not be empty");if(xa(this.u_)&&Ea.test(t))throw this.h_('Document fields cannot begin and end with "__"')},t}(),Ia=function(){function t(t,e,n){this.U=t,this.ignoreUndefinedProperties=e,this.serializer=n||na(t)}return t.prototype.v_=function(t,e,n,r){return void 0===r&&(r=!1),new Ta({u_:t,methodName:e,l_:n,path:T.g(),__:!1,b_:r},this.U,this.serializer,this.ignoreUndefinedProperties)},t}();function Oa(t,e,n,r,i,s){void 0===s&&(s={});var o=t.v_(s.merge||s.mergeFields?2:0,e,n,i);Fa("Data must be an object, but it was:",o,r);var a,u,c=Pa(r,o);if(s.merge)a=new on(o.Qe),u=o.fieldTransforms;else if(s.mergeFields){for(var f=[],d=0,p=s.mergeFields;d<p.length;d++){var g=p[d],m=void 0;if(g instanceof ca)m=g.r_;else{if("string"!=typeof g)throw v();m=La(e,g,n)}if(!o.contains(m))throw new h(l.INVALID_ARGUMENT,"Field '"+m+"' is specified in your field mask but missing from your input data.");Ua(f,m)||f.push(m)}a=new on(f),u=o.fieldTransforms.filter((function(t){return a.He(t.field)}))}else a=null,u=o.fieldTransforms;return new Sa(new An(c),a,u)}function Da(t,e,n,r){var i=t.v_(1,e,n);Fa("Data must be an object, but it was:",i,r);var s=[],o=new xn;E(r,(function(t,r){var a=La(e,t,n),u=i.V_(a);if(r instanceof fa&&r.o_ instanceof da)s.push(a);else{var c=ja(r,u);null!=c&&(s.push(a),o.set(a,c))}}));var a=new on(s);return new Aa(o.Je(),a,i.fieldTransforms)}function ka(t,e,n,r,i,s){var o=t.v_(1,e,n),a=[Ma(e,r,n)],u=[i];if(s.length%2!=0)throw new h(l.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<s.length;c+=2)a.push(Ma(e,s[c])),u.push(s[c+1]);for(var f=[],d=new xn,p=a.length-1;p>=0;--p)if(!Ua(f,a[p])){var g=a[p],m=u[p],y=o.V_(g);if(m instanceof fa&&m.o_ instanceof da)f.push(g);else{var v=ja(m,y);null!=v&&(f.push(g),d.set(g,v))}}var b=new on(f);return new Aa(d.Je(),b,o.fieldTransforms)}function Na(t,e,n,r){return void 0===r&&(r=!1),ja(n,t.v_(r?4:3,e))}function ja(t,e){if(Ra(t))return Fa("Unsupported field value:",e,t),Pa(t,e);if(t instanceof fa)return function(t,e){if(!xa(e.u_))throw e.h_(t.a_+"() can only be used with update() and set()");if(!e.path)throw e.h_(t.a_+"() is not currently supported inside arrays");var n=t.c_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.Qe.push(e.path),t instanceof Array){if(e.settings.__&&4!==e.u_)throw e.h_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=ja(s[i],e.p_(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return be(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=at.fromDate(t);return{timestampValue:_e(e.serializer,n)}}if(t instanceof at){var r=new at(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:_e(e.serializer,r)}}if(t instanceof wa)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof tt)return{bytesValue:we(e.serializer,t.q)};if(t instanceof Ca){var i=e.U,s=t.T_;if(!s.isEqual(i))throw e.h_("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:Se(t.T_||e.U,t.E_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.h_("Unsupported field value: "+B(t))}(t,e)}function Pa(t,e){var n={};return C(t)?e.path&&e.path.length>0&&e.Qe.push(e.path):E(t,(function(t,r){var i=ja(r,e.g_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Ra(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof at||t instanceof wa||t instanceof tt||t instanceof Ca||t instanceof fa)}function Fa(t,e,n){if(!Ra(n)||!U(n)){var r=B(n);throw e.h_("an object"===r?t+" a custom object":t+" "+r)}}function Ma(t,e,n){if(e instanceof ca)return e.r_;if("string"==typeof e)return La(t,e);throw Va("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}function La(t,e,n){try{return function(t){if(t.search(ha)>=0)throw new h(l.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(la.bind.apply(la,r.__spreadArrays([void 0],t.split("."))))}catch(r){throw new h(l.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).r_}catch(e){throw Va((i=e)instanceof Error?i.message:i.toString(),t,!1,void 0,n)}var i}function Va(t,e,n,r,i){var s=r&&!r.m(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(s||o)&&(u+=" (found",s&&(u+=" in field "+r),o&&(u+=" in document "+i),u+=")"),new h(l.INVALID_ARGUMENT,(a+=". ")+t+u)}function Ua(t,e){return t.some((function(t){return t.isEqual(e)}))}var Ba=function(){function t(t){this.Hu=t,this.S_=new Map,this.mutations=[],this.D_=!1,this.C_=null,this.N_=new Set}return t.prototype.F_=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(i){switch(i.label){case 0:if(this.x_(),this.mutations.length>0)throw new h(l.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,s,o,a,u;return r.__generator(this,(function(r){switch(r.label){case 0:return n=_(t),i=De(n.serializer)+"/documents",s={documents:e.map((function(t){return xe(n.serializer,t)}))},[4,n.Lu("BatchGetDocuments",i,s)];case 1:return o=r.sent(),a=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){b(!!e.found);var n=Te(t,e.found.name),r=Ce(e.found.updateTime),i=new An({mapValue:{fields:e.found.fields}});return new On(n,r,i,{})}(t,e):"missing"in e?function(t,e){b(!!e.missing),b(!!e.readTime);var n=Te(t,e.missing),r=Ce(e.readTime);return new Dn(n,r)}(t,e):v()}(n.serializer,t);a.set(e.key.toString(),e)})),u=[],[2,(e.forEach((function(t){var e=a.get(t.toString());b(!!e),u.push(e)})),u)]}}))}))}(this.Hu,t)];case 1:return[2,((e=i.sent()).forEach((function(t){t instanceof Dn||t instanceof On?n.k_(t):v()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.A_(t,this.Ke(t))),this.N_.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.A_(t,this.M_(t)))}catch(t){this.C_=t}this.N_.add(t.toString())},t.prototype.delete=function(t){this.write([new Cn(t,this.Ke(t))]),this.N_.add(t.toString())},t.prototype.commit=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){switch(n.label){case 0:if(this.x_(),this.C_)throw this.C_;return t=this.S_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=I.D(n);e.mutations.push(new Sn(r,e.Ke(r)))})),[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,s;return r.__generator(this,(function(r){switch(r.label){case 0:return n=_(t),i=De(n.serializer)+"/documents",s={writes:e.map((function(t){return je(n.serializer,t)}))},[4,n.Ou("Commit",i,s)];case 1:return r.sent(),[2]}}))}))}(this.Hu,this.mutations)];case 1:return n.sent(),this.D_=!0,[2]}}))}))},t.prototype.k_=function(t){var e;if(t instanceof On)e=t.version;else{if(!(t instanceof Dn))throw v();e=ut.min()}var n=this.S_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new h(l.ABORTED,"Document version changed between two reads.")}else this.S_.set(t.key.toString(),e)},t.prototype.Ke=function(t){var e=this.S_.get(t.toString());return!this.N_.has(t.toString())&&e?cn.updateTime(e):cn.Ge()},t.prototype.M_=function(t){var e=this.S_.get(t.toString());if(!this.N_.has(t.toString())&&e){if(e.isEqual(ut.min()))throw new h(l.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return cn.updateTime(e)}return cn.exists(!0)},t.prototype.write=function(t){this.x_(),this.mutations=this.mutations.concat(t)},t.prototype.x_=function(){},t}(),qa=function(){function t(t,e,n,r){this.os=t,this.Hu=e,this.updateFunction=n,this.hs=r,this.O_=5,this.gs=new pr(this.os,"transaction_retry")}return t.prototype.run=function(){this.L_()},t.prototype.L_=function(){var t=this;this.gs.Rn((function(){return r.__awaiter(t,void 0,void 0,(function(){var t,e,n=this;return r.__generator(this,(function(r){return t=new Ba(this.Hu),(e=this.B_(t))&&e.then((function(e){n.os.ds((function(){return t.commit().then((function(){n.hs.resolve(e)})).catch((function(t){n.q_(t)}))}))})).catch((function(t){n.q_(t)})),[2]}))}))}))},t.prototype.B_=function(t){try{var e=this.updateFunction(t);return!ct(e)&&e.catch&&e.then?e:(this.hs.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.hs.reject(t),null}},t.prototype.q_=function(t){var e=this;this.O_>0&&this.U_(t)?(this.O_-=1,this.os.ds((function(){return e.L_(),Promise.resolve()}))):this.hs.reject(t)},t.prototype.U_=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!wt(e)}return!1},t}(),za=function(){function t(t,e){this.credentials=t,this.os=e,this.clientId=Q.k(),this.Q_=new dr}return t.prototype.start=function(t,e,n,i){var s=this;this.W_(),this.Dl=t;var o=new dr,a=!1;return this.credentials.Jc((function(t){if(!a)return a=!0,p("FirestoreClient","Initializing. user=",t.uid),s.j_(e,n,i,t,o).then(s.Q_.resolve,s.Q_.reject);s.os.Ds((function(){return function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(r){switch(r.label){case 0:return(n=_(t)).os.Fs(),p("RemoteStore","RemoteStore received new credentials"),i=Js(n),n.Zu.add(3),[4,Us(n)];case 1:return r.sent(),i&&n.rh.set("Unknown"),[4,n.th.n_(e)];case 2:return r.sent(),n.Zu.delete(3),[4,Vs(n)];case 3:return r.sent(),[2]}}))}))}(s.Sh,t)}))})),this.os.ds((function(){return s.Q_.promise})),o.promise},t.prototype.enableNetwork=function(){var t=this;return this.W_(),this.os.enqueue((function(){return t.persistence.sc(!0),Ls(t.Sh)}))},t.prototype.j_=function(t,e,n,i,s){return r.__awaiter(this,void 0,void 0,(function(){var o,a,u=this;return r.__generator(this,(function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),[4,t.initialize(o={os:this.os,Dl:this.Dl,clientId:this.clientId,credentials:this.credentials,Gl:i,Ch:100,Hl:n})];case 1:return c.sent(),[4,e.initialize(t,o)];case 2:return c.sent(),this.persistence=t.persistence,this.Dh=t.Dh,this.zu=t.zu,this.Wl=t.Wl,this.Hu=e.Hu,this.Sh=e.Sh,this._i=e._i,this.K_=e.t_,this.K_.qs=mo.bind(null,this._i),this.K_.Ws=vo.bind(null,this._i),this.persistence.nc((function(){return r.__awaiter(u,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))})),s.resolve(),[3,4];case 3:if(a=c.sent(),s.reject(a),!this.G_(a))throw a;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),this.j_(new ia,new oa,{zl:!1},i,s))];case 4:return[2]}}))}))},t.prototype.G_=function(t){return"FirebaseError"===t.name?t.code===l.FAILED_PRECONDITION||t.code===l.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.W_=function(){if(this.os.Vs)throw new h(l.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.disableNetwork=function(){var t=this;return this.W_(),this.os.enqueue((function(){return t.persistence.sc(!1),function(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return(e=_(t)).Zu.add(0),[4,Us(e)];case 1:return n.sent(),e.rh.set("Offline"),[2]}}))}))}(t.Sh)}))},t.prototype.terminate=function(){var t=this;this.os.Ss();var e=new dr;return this.os.ps((function(){return r.__awaiter(t,void 0,void 0,(function(){var t,n;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),this.Wl&&this.Wl.stop(),[4,Bs(this.Sh)];case 1:return r.sent(),[4,this.Dh.Si()];case 2:return r.sent(),[4,this.persistence.Si()];case 3:return r.sent(),this.credentials.Xc(),e.resolve(),[3,5];case 4:return t=r.sent(),n=Or(t,"Failed to shutdown persistence"),e.reject(n),[3,5];case 5:return[2]}}))}))})),e.promise},t.prototype.waitForPendingWrites=function(){var t=this;this.W_();var e=new dr;return this.os.ds((function(){return function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,s,o,a;return r.__generator(this,(function(r){switch(r.label){case 0:Js((n=_(t)).Sh)||p("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,function(t){var e=_(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.vr.Bo(t)}))}(n.zu)];case 2:return-1===(i=r.sent())?[2,void e.resolve()]:((s=n.Bh.get(i)||[]).push(e),n.Bh.set(i,s),[3,4]);case 3:return o=r.sent(),a=Or(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}}))}))}(t._i,e)})),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.W_();var i=new ua(n),s=new Lr(t,i,e);return this.os.ds((function(){return Nr(r.K_,s)})),function(){i.i_(),r.os.ds((function(){return jr(r.K_,s)}))}},t.prototype.z_=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return this.W_(),[4,this.Q_.promise];case 1:return[2,(e.sent(),function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,s=this;return r.__generator(this,(function(o){switch(o.label){case 0:return i=new dr,[4,t.enqueue((function(){return r.__awaiter(s,void 0,void 0,(function(){var t,s,o;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t,e){var n=_(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.$c.Dr(t,e)}))}(e,n)];case 1:return(t=r.sent())instanceof On?i.resolve(t):t instanceof Dn?i.resolve(null):i.reject(new h(l.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return s=r.sent(),o=Or(s,"Failed to get document '"+n+" from cache"),i.reject(o),[3,3];case 3:return[2]}}))}))}))];case 1:return[2,(o.sent(),i.promise)]}}))}))}(this.os,this.zu,t))]}}))}))},t.prototype.H_=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return this.W_(),[4,this.Q_.promise];case 1:return[2,(n.sent(),function(t,e,n,r){var i=new dr,s=Ha(t,e,Rn(n.path),{includeMetadataChanges:!0,Js:!0},{next:function(t){s();var e=t.docs.has(n);!e&&t.fromCache?i.reject(new h(l.UNAVAILABLE,"Failed to get document because the client is offline.")):e&&t.fromCache&&r&&"server"===r.source?i.reject(new h(l.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(t)},error:function(t){return i.reject(t)}});return i.promise}(this.os,this.K_,t,e))]}}))}))},t.prototype.Y_=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return this.W_(),[4,this.Q_.promise];case 1:return[2,(e.sent(),function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,s=this;return r.__generator(this,(function(o){switch(o.label){case 0:return i=new dr,[4,t.enqueue((function(){return r.__awaiter(s,void 0,void 0,(function(){var t,s,o,a,u,c;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Es(e,n,!0)];case 1:return t=r.sent(),s=new ho(n,t.kc),o=s.Th(t.documents),a=s.gr(o,!1),i.resolve(a.snapshot),[3,3];case 2:return u=r.sent(),c=Or(u,"Failed to execute query '"+n+" against cache"),i.reject(c),[3,3];case 3:return[2]}}))}))}))];case 1:return[2,(o.sent(),i.promise)]}}))}))}(this.os,this.zu,t))]}}))}))},t.prototype.J_=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return this.W_(),[4,this.Q_.promise];case 1:return[2,(n.sent(),function(t,e,n,r){var i=new dr,s=Ha(t,e,n,{includeMetadataChanges:!0,Js:!0},{next:function(t){s(),t.fromCache&&r&&"server"===r.source?i.reject(new h(l.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(t)},error:function(t){return i.reject(t)}});return i.promise}(this.os,this.K_,t,e))]}}))}))},t.prototype.write=function(t){var e=this;this.W_();var n=new dr;return this.os.ds((function(){return function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,s,o,a;return r.__generator(this,(function(r){switch(r.label){case 0:(i=zo(t)).Wh("write()"),r.label=1;case 1:return r.trys.push([1,5,,6]),[4,function(t,e){var n,r=_(t),i=at.now(),s=e.reduce((function(t,e){return t.add(e.key)}),Rt());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.$c.$r(t,s).next((function(s){n=s;for(var o=[],a=0,u=e;a<u.length;a++){var c=u[a],l=pn(c,n.get(c.key));null!=l&&o.push(new vn(c.key,l,Tn(l.proto.mapValue),cn.exists(!0)))}return r.vr.xo(t,i,o,e)}))})).then((function(t){var e=t.hr(n);return{batchId:t.batchId,dr:e}}))}(i.zu,e)];case 2:return s=r.sent(),i.Dh.Fi(s.batchId),function(t,e,n){var r=t.Lh[t.currentUser.Zs()];r||(r=new Ct(K)),r=r.rt(e,n),t.Lh[t.currentUser.Zs()]=r}(i,s.batchId,n),[4,ko(i,s.dr)];case 3:return r.sent(),[4,eo(i.Sh)];case 4:return r.sent(),[3,6];case 5:return o=r.sent(),a=Or(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}(e._i,t,n)})),n.promise},t.prototype.U=function(){return this.Dl.U},t.prototype.X_=function(t){var e=this;this.W_();var n=new ua(t);return this.os.ds((function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(t){return[2,function(t,e){_(t).Bs.add(e),e.next()}(this.K_,n)]}))}))})),function(){n.i_(),e.os.ds((function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(t){return[2,function(t,e){_(t).Bs.delete(e)}(this.K_,n)]}))}))}))}},Object.defineProperty(t.prototype,"Z_",{get:function(){return this.os.Vs},enumerable:!1,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.W_();var n=new dr;return this.os.ds((function(){return new qa(e.os,e.Hu,t,n).run(),Promise.resolve()})),n.promise},t}();function Ha(t,e,n,r,i){var s=new ua(i),o=new Lr(n,s,r);return t.ds((function(){return Nr(e,o)})),function(){s.i_(),t.ds((function(){return jr(e,o)}))}}var Ga=function(){function t(t,e,n,r,i){this.U=t,this.timestampsInSnapshots=e,this.tf=n,this.ef=r,this.nf=i}return t.prototype.sf=function(t){switch(Xt(t)){case 0:return null;case 1:return t.booleanValue;case 2:return oe(t.integerValue||t.doubleValue);case 3:return this.if(t.timestampValue);case 4:return this.rf(t);case 5:return t.stringValue;case 6:return this.nf(ae(t.bytesValue));case 7:return this.af(t.referenceValue);case 8:return this.cf(t.geoPointValue);case 9:return this.uf(t.arrayValue);case 10:return this.hf(t.mapValue);default:throw v()}},t.prototype.hf=function(t){var e=this,n={};return E(t.fields||{},(function(t,r){n[t]=e.sf(r)})),n},t.prototype.cf=function(t){return new wa(oe(t.latitude),oe(t.longitude))},t.prototype.uf=function(t){var e=this;return(t.values||[]).map((function(t){return e.sf(t)}))},t.prototype.rf=function(t){switch(this.tf){case"previous":var e=function t(e){var n=e.mapValue.fields.__previous_value__;return Kt(n)?t(n):n}(t);return null==e?null:this.sf(e);case"estimate":return this.if(Yt(t));default:return null}},t.prototype.if=function(t){var e=se(t),n=new at(e.seconds,e.nanos);return this.timestampsInSnapshots?n:n.toDate()},t.prototype.af=function(t){var e=A.P(t);b(We(e));var n=new st(e.get(1),e.get(3)),r=new I(e.u(5));return n.isEqual(this.U)||g("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.U.projectId+"/"+this.U.database+") instead."),this.ef(r)},t}(),Wa=ai.uo,$a=function(){function t(t){var e,n,r,i;if(void 0===t.host){if(void 0!==t.ssl)throw new h(l.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else R("settings","non-empty string","host",t.host),this.host=t.host,F("settings","boolean","ssl",t.ssl),this.ssl=null===(e=t.ssl)||void 0===e||e;if(z("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","ignoreUndefinedProperties"]),F("settings","object","credentials",t.credentials),this.credentials=t.credentials,F("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),F("settings","boolean","ignoreUndefinedProperties",t.ignoreUndefinedProperties),!0===t.timestampsInSnapshots?g("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===t.timestampsInSnapshots&&g("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=t.timestampsInSnapshots)||void 0===n||n,this.ignoreUndefinedProperties=null!==(r=t.ignoreUndefinedProperties)&&void 0!==r&&r,F("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=ai.lo;else{if(t.cacheSizeBytes!==Wa&&t.cacheSizeBytes<ai.ho)throw new h(l.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+ai.ho);this.cacheSizeBytes=t.cacheSizeBytes}F("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.experimentalForceLongPolling=null!==(i=t.experimentalForceLongPolling)&&void 0!==i&&i}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Ja=function(){function t(e,n,i,s){var o=this;if(void 0===i&&(i=new ia),void 0===s&&(s=new oa),this.lf=i,this._f=s,this.ff=null,this.df=new Ir,this.INTERNAL={delete:function(){return r.__awaiter(o,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.wf(),[4,this.mf.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var a=e;this.ff=a,this.T_=t.Tf(a),this.Ef=a.name,this.If=new Os(n)}else{var u=e;if(!u.projectId)throw new h(l.INVALID_ARGUMENT,"Must provide projectId");this.T_=new st(u.projectId,u.database),this.Ef="[DEFAULT]",this.If=new Is}this.Af=new $a({})}return Object.defineProperty(t.prototype,"Rf",{get:function(){return this.Pf||(this.Pf=new Ia(this.T_,this.Af.ignoreUndefinedProperties)),this.Pf},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){D("Firestore.settings",arguments,1),j("Firestore.settings","object",1,t),t.merge&&delete(t=Object.assign(Object.assign({},this.Af),t)).merge;var e=new $a(t);if(this.mf&&!this.Af.isEqual(e))throw new h(l.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.Af=e,void 0!==e.credentials&&(this.If=function(t){if(!t)return new Is;switch(t.type){case"gapi":var e=t.gf;return b(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new ks(e,t.iu||"0");case"provider":return t.gf;default:throw new h(l.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.wf(),this.mf.enableNetwork()},t.prototype.disableNetwork=function(){return this.wf(),this.mf.disableNetwork()},t.prototype.enablePersistence=function(t){var e,n;if(this.mf)throw new h(l.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var r=!1,i=!1;if(t&&(void 0!==t.experimentalTabSynchronization&&g("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),r=null!==(n=null!==(e=t.synchronizeTabs)&&void 0!==e?e:t.experimentalTabSynchronization)&&void 0!==n&&n,i=!!t.experimentalForceOwningTab&&t.experimentalForceOwningTab,r&&i))throw new h(l.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.yf(this.lf,this._f,{zl:!0,cacheSizeBytes:this.Af.cacheSizeBytes,synchronizeTabs:r,La:i})},t.prototype.clearPersistence=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){if(void 0!==this.mf&&!this.mf.Z_)throw new h(l.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return t=new dr,[2,(this.df.ps((function(){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.lf.clearPersistence(this.T_,this.Ef)];case 1:return n.sent(),t.resolve(),[3,3];case 2:return e=n.sent(),t.reject(e),[3,3];case 3:return[2]}}))}))})),t.promise)]}))}))},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"Vf",{get:function(){return this.wf(),this.mf.Z_},enumerable:!1,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.wf(),this.mf.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){return this.wf(),aa(t)?this.mf.X_(t):(j("Firestore.onSnapshotsInSync","function",1,t),this.mf.X_({next:t}))},t.prototype.wf=function(){return this.mf||this.yf(new ia,new oa,{zl:!1}),this.mf},t.prototype.pf=function(){return new it(this.T_,this.Ef,this.Af.host,this.Af.ssl,this.Af.experimentalForceLongPolling)},t.prototype.yf=function(t,e,n){var r=this.pf();return this.mf=new za(this.If,this.df),this.mf.start(r,t,e,n)},t.Tf=function(t){if(!Object.prototype.hasOwnProperty.call(t.options,"projectId"))throw new h(l.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e=t.options.projectId;if(!e||"string"!=typeof e)throw new h(l.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new st(e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.ff)throw new h(l.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.ff},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){return D("Firestore.collection",arguments,1),j("Firestore.collection","non-empty string",1,t),this.wf(),new cu(A.P(t),this,null)},t.prototype.doc=function(t){return D("Firestore.doc",arguments,1),j("Firestore.doc","non-empty string",1,t),this.wf(),Ya.bf(A.P(t),this,null)},t.prototype.collectionGroup=function(t){if(D("Firestore.collectionGroup",arguments,1),j("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new h(l.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.wf(),new au(function(t){return new jn(A.g(),t)}(t),this,null)},t.prototype.runTransaction=function(t){var e=this;return D("Firestore.runTransaction",arguments,1),j("Firestore.runTransaction","function",1,t),this.wf().transaction((function(n){return t(new Qa(e,n))}))},t.prototype.batch=function(){return this.wf(),new Ka(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(d()){case s.LogLevel.DEBUG:return"debug";case s.LogLevel.ERROR:return"error";case s.LogLevel.SILENT:return"silent";case s.LogLevel.WARN:return"warn";case s.LogLevel.INFO:return"info";case s.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),t.setLogLevel=function(t){D("Firestore.setLogLevel",arguments,1),L("setLogLevel",["debug","error","silent","warn","info","verbose"],1,t),f.setLogLevel(t)},t.prototype.vf=function(){return this.Af.timestampsInSnapshots},t.prototype.Sf=function(){return this.Af},t}(),Qa=function(){function t(t,e){this.Df=t,this.Cf=e}return t.prototype.get=function(t){var e=this;D("Transaction.get",arguments,1);var n=du("Transaction.get",t,this.Df);return this.Cf.F_([n.E_]).then((function(t){if(!t||1!==t.length)return v();var r=t[0];if(r instanceof Dn)return new Xa(e.Df,n.E_,null,!1,!1,n.I_);if(r instanceof On)return new Xa(e.Df,n.E_,r,!1,!1,n.I_);throw v()}))},t.prototype.set=function(t,e,n){N("Transaction.set",arguments,2,3);var r=du("Transaction.set",t,this.Df);n=lu("Transaction.set",n);var i=gu(r.I_,e,n),s=Oa(this.Df.Rf,"Transaction.set",r.E_,i,null!==r.I_,n);return this.Cf.set(r.E_,s),this},t.prototype.update=function(t,e,n){for(var r,i,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];return"string"==typeof e||e instanceof la?(k("Transaction.update",arguments,3),r=du("Transaction.update",t,this.Df),i=ka(this.Df.Rf,"Transaction.update",r.E_,e,n,s)):(D("Transaction.update",arguments,2),r=du("Transaction.update",t,this.Df),i=Da(this.Df.Rf,"Transaction.update",r.E_,e)),this.Cf.update(r.E_,i),this},t.prototype.delete=function(t){D("Transaction.delete",arguments,1);var e=du("Transaction.delete",t,this.Df);return this.Cf.delete(e.E_),this},t}(),Ka=function(){function t(t){this.Df=t,this.Nf=[],this.Ff=!1}return t.prototype.set=function(t,e,n){N("WriteBatch.set",arguments,2,3),this.$f();var r=du("WriteBatch.set",t,this.Df);n=lu("WriteBatch.set",n);var i=gu(r.I_,e,n),s=Oa(this.Df.Rf,"WriteBatch.set",r.E_,i,null!==r.I_,n);return this.Nf=this.Nf.concat(s.A_(r.E_,cn.Ge())),this},t.prototype.update=function(t,e,n){for(var r,i,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];return this.$f(),"string"==typeof e||e instanceof la?(k("WriteBatch.update",arguments,3),r=du("WriteBatch.update",t,this.Df),i=ka(this.Df.Rf,"WriteBatch.update",r.E_,e,n,s)):(D("WriteBatch.update",arguments,2),r=du("WriteBatch.update",t,this.Df),i=Da(this.Df.Rf,"WriteBatch.update",r.E_,e)),this.Nf=this.Nf.concat(i.A_(r.E_,cn.exists(!0))),this},t.prototype.delete=function(t){D("WriteBatch.delete",arguments,1),this.$f();var e=du("WriteBatch.delete",t,this.Df);return this.Nf=this.Nf.concat(new Cn(e.E_,cn.Ge())),this},t.prototype.commit=function(){return this.$f(),this.Ff=!0,this.Nf.length>0?this.Df.wf().write(this.Nf):Promise.resolve()},t.prototype.$f=function(){if(this.Ff)throw new h(l.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Ya=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n.T_,e,r)||this).E_=e,i.firestore=n,i.I_=r,i.mf=i.firestore.wf(),i}return r.__extends(e,t),e.bf=function(t,n,r){if(t.length%2!=0)throw new h(l.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.R()+" has "+t.length);return new e(new I(t),n,r)},Object.defineProperty(e.prototype,"id",{get:function(){return this.E_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new cu(this.E_.path.h(),this.firestore,this.I_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.E_.path.R()},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){if(D("DocumentReference.collection",arguments,1),j("DocumentReference.collection","non-empty string",1,t),!t)throw new h(l.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=A.P(t);return new cu(this.E_.path.child(e),this.firestore,null)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw H("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this.E_.isEqual(t.E_)&&this.I_===t.I_},e.prototype.set=function(t,e){N("DocumentReference.set",arguments,1,2),e=lu("DocumentReference.set",e);var n=gu(this.I_,t,e),r=Oa(this.firestore.Rf,"DocumentReference.set",this.E_,n,null!==this.I_,e);return this.mf.write(r.A_(this.E_,cn.Ge()))},e.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof la?(k("DocumentReference.update",arguments,2),n=ka(this.firestore.Rf,"DocumentReference.update",this.E_,t,e,r)):(D("DocumentReference.update",arguments,1),n=Da(this.firestore.Rf,"DocumentReference.update",this.E_,t)),this.mf.write(n.A_(this.E_,cn.exists(!0)))},e.prototype.delete=function(){return D("DocumentReference.delete",arguments,0),this.mf.write([new Cn(this.E_,cn.Ge())])},e.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];N("DocumentReference.onSnapshot",arguments,1,4);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||aa(i[a])||(z("DocumentReference.onSnapshot",o=i[a],["includeMetadataChanges"]),F("DocumentReference.onSnapshot","boolean","includeMetadataChanges",o.includeMetadataChanges),a++);var u={includeMetadataChanges:o.includeMetadataChanges};if(aa(i[a])){var c=i[a];i[a]=null===(t=c.next)||void 0===t?void 0:t.bind(c),i[a+1]=null===(e=c.error)||void 0===e?void 0:e.bind(c),i[a+2]=null===(n=c.complete)||void 0===n?void 0:n.bind(c)}else j("DocumentReference.onSnapshot","function",a,i[a]),P("DocumentReference.onSnapshot","function",a+1,i[a+1]),P("DocumentReference.onSnapshot","function",a+2,i[a+2]);var l={next:function(t){i[a]&&i[a](r.xf(t))},error:i[a+1],complete:i[a+2]};return this.mf.listen(Rn(this.E_.path),u,l)},e.prototype.get=function(t){var e=this;N("DocumentReference.get",arguments,0,1),fu("DocumentReference.get",t);var n=this.firestore.wf();return t&&"cache"===t.source?n.z_(this.E_).then((function(t){return new Xa(e.firestore,e.E_,t,!0,t instanceof On&&t.Ye,e.I_)})):n.H_(this.E_,t).then((function(t){return e.xf(t)}))},e.prototype.withConverter=function(t){return new e(this.E_,this.firestore,t)},e.prototype.xf=function(t){var e=t.docs.get(this.E_);return new Xa(this.firestore,this.E_,e,t.fromCache,t.hasPendingWrites,this.I_)},e}(Ca),Za=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Xa=function(){function t(t,e,n,r,i,s){this.Df=t,this.E_=e,this.kf=n,this.Mf=r,this.Of=i,this.I_=s}return t.prototype.data=function(t){var e=this;if(N("DocumentSnapshot.data",arguments,0,1),t=hu("DocumentSnapshot.data",t),this.kf){if(this.I_){var n=new tu(this.Df,this.E_,this.kf,this.Mf,this.Of,null);return this.I_.fromFirestore(n,t)}return new Ga(this.Df.T_,this.Df.vf(),t.serverTimestamps||"none",(function(t){return new Ya(t,e.Df,null)}),(function(t){return new rt(t)})).sf(this.kf.sn())}},t.prototype.get=function(t,e){var n=this;if(N("DocumentSnapshot.get",arguments,1,2),e=hu("DocumentSnapshot.get",e),this.kf){var r=this.kf.data().field(Ma("DocumentSnapshot.get",t,this.E_));if(null!==r)return new Ga(this.Df.T_,this.Df.vf(),e.serverTimestamps||"none",(function(t){return new Ya(t,n.Df,n.I_)}),(function(t){return new rt(t)})).sf(r)}},Object.defineProperty(t.prototype,"id",{get:function(){return this.E_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ya(this.E_,this.Df,this.I_)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.kf},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new Za(this.Of,this.Mf)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw H("isEqual","DocumentSnapshot",1,e);return this.Df===e.Df&&this.Mf===e.Mf&&this.E_.isEqual(e.E_)&&(null===this.kf?null===e.kf:this.kf.isEqual(e.kf))&&this.I_===e.I_},t}(),tu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.data=function(e){return t.prototype.data.call(this,e)},e}(Xa);function eu(t,e,n,r,i,s,o){var a;if(i.p()){if("array-contains"===s||"array-contains-any"===s)throw new h(l.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){iu(o,s);for(var u=[],c=0,f=o;c<f.length;c++)u.push(ru(r,t,f[c]));a={arrayValue:{values:u}}}else a=ru(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||iu(o,s),a=Na(n,e,o,"in"===s||"not-in"===s);var d=Yn.create(i,s,a);return function(t,e){if(e.un()){var n=Vn(t);if(null!==n&&!n.isEqual(e.field))throw new h(l.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Ln(t);null!==r&&su(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new h(l.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,d),d}function nu(t,e,n){if(null!==t.startAt)throw new h(l.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new h(l.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new lr(e,n);return function(t,e){if(null===Ln(t)){var n=Vn(t);null!==n&&su(0,n,e.field)}}(t,r),r}function ru(t,e,n){if("string"==typeof n){if(""===n)throw new h(l.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Un(e)&&-1!==n.indexOf("/"))throw new h(l.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(A.P(n));if(!I.F(r))throw new h(l.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return ue(t,new I(r))}if(n instanceof Ca)return ue(t,n.E_);throw new h(l.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+B(n)+".")}function iu(t,e){if(!Array.isArray(t)||0===t.length)throw new h(l.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new h(l.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if("in"===e||"array-contains-any"===e){if(t.indexOf(null)>=0)throw new h(l.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new h(l.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")}}function su(t,e,n){if(!n.isEqual(e))throw new h(l.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function ou(t){if(Mn(t)&&0===t.rn.length)throw new h(l.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var au=function(){function t(t,e,n){this.Lf=t,this.firestore=e,this.I_=n}return t.prototype.where=function(e,n,r){var i;D("Query.where",arguments,3),q("Query.where",3,r),i="not-in"===n||"!="===n?n:L("Query.where",["<","<=","==",">=",">","array-contains","in","array-contains-any"],2,n);var s=Ma("Query.where",e),o=eu(this.Lf,"Query.where",this.firestore.Rf,this.firestore.T_,s,i,r);return new t(function(t,e){var n=t.filters.concat([e]);return new jn(t.path,t.collectionGroup,t.rn.slice(),n,t.limit,t.on,t.startAt,t.endAt)}(this.Lf,o),this.firestore,this.I_)},t.prototype.orderBy=function(e,n){var r;if(N("Query.orderBy",arguments,1,2),P("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new h(l.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}var i=Ma("Query.orderBy",e),s=nu(this.Lf,i,r);return new t(function(t,e){var n=t.rn.concat([e]);return new jn(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.on,t.startAt,t.endAt)}(this.Lf,s),this.firestore,this.I_)},t.prototype.limit=function(e){return D("Query.limit",arguments,1),j("Query.limit","number",1,e),G("Query.limit",1,e),new t(zn(this.Lf,e,"F"),this.firestore,this.I_)},t.prototype.limitToLast=function(e){return D("Query.limitToLast",arguments,1),j("Query.limitToLast","number",1,e),G("Query.limitToLast",1,e),new t(zn(this.Lf,e,"L"),this.firestore,this.I_)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];k("Query.startAt",arguments,1);var i=this.Bf("Query.startAt",e,n,!0);return new t(Hn(this.Lf,i),this.firestore,this.I_)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];k("Query.startAfter",arguments,1);var i=this.Bf("Query.startAfter",e,n,!1);return new t(Hn(this.Lf,i),this.firestore,this.I_)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];k("Query.endBefore",arguments,1);var i=this.Bf("Query.endBefore",e,n,!0);return new t(Gn(this.Lf,i),this.firestore,this.I_)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];k("Query.endAt",arguments,1);var i=this.Bf("Query.endAt",e,n,!1);return new t(Gn(this.Lf,i),this.firestore,this.I_)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw H("isEqual","Query",1,e);return this.firestore===e.firestore&&Wn(this.Lf,e.Lf)&&this.I_===e.I_},t.prototype.withConverter=function(e){return new t(this.Lf,this.firestore,e)},t.prototype.Bf=function(t,e,n,i){if(q(t,1,e),e instanceof Xa)return D(t,r.__spreadArrays([e],n),1),function(t,e,n,r,i){if(!r)throw new h(l.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=Bn(t);o<a.length;o++){var u=a[o];if(u.field.p())s.push(ue(e,r.key));else{var c=r.field(u.field);if(Kt(c))throw new h(l.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var f=u.field.R();throw new h(l.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+f+"' (used as the orderBy) does not exist.")}s.push(c)}}return new or(s,i)}(this.Lf,this.firestore.T_,t,e.kf,i);var s=[e].concat(n);return function(t,e,n,r,i,s){var o=t.rn;if(i.length>o.length)throw new h(l.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.p()){if("string"!=typeof c)throw new h(l.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Un(t)&&-1!==c.indexOf("/"))throw new h(l.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var f=t.path.child(A.P(c));if(!I.F(f))throw new h(l.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+f+"' is not because it contains an odd number of segments.");var d=new I(f);a.push(ue(e,d))}else{var p=Na(n,r,c);a.push(p)}}return new or(a,s)}(this.Lf,this.firestore.T_,this.firestore.Rf,t,s,i)},t.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];N("Query.onSnapshot",arguments,1,4);var o={},a=0;if("object"!=typeof i[a]||aa(i[a])||(z("Query.onSnapshot",o=i[a],["includeMetadataChanges"]),F("Query.onSnapshot","boolean","includeMetadataChanges",o.includeMetadataChanges),a++),aa(i[a])){var u=i[a];i[a]=null===(t=u.next)||void 0===t?void 0:t.bind(u),i[a+1]=null===(e=u.error)||void 0===e?void 0:e.bind(u),i[a+2]=null===(n=u.complete)||void 0===n?void 0:n.bind(u)}else j("Query.onSnapshot","function",a,i[a]),P("Query.onSnapshot","function",a+1,i[a+1]),P("Query.onSnapshot","function",a+2,i[a+2]);var c={next:function(t){i[a]&&i[a](new uu(r.firestore,r.Lf,t,r.I_))},error:i[a+1],complete:i[a+2]};return ou(this.Lf),this.firestore.wf().listen(this.Lf,o,c)},t.prototype.get=function(t){var e=this;N("Query.get",arguments,0,1),fu("Query.get",t),ou(this.Lf);var n=this.firestore.wf();return(t&&"cache"===t.source?n.Y_(this.Lf):n.J_(this.Lf,t)).then((function(t){return new uu(e.firestore,e.Lf,t,e.I_)}))},t}(),uu=function(){function t(t,e,n,r){this.Df=t,this.qf=e,this.Uf=n,this.I_=r,this.Qf=null,this.Wf=null,this.metadata=new Za(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.Uf.docs.m()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.Uf.docs.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;N("QuerySnapshot.forEach",arguments,1,2),j("QuerySnapshot.forEach","function",1,t),this.Uf.docs.forEach((function(r){t.call(e,n.jf(r,n.metadata.fromCache,n.Uf.Qt.has(r.key)))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new au(this.qf,this.Df,this.I_)},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){t&&(z("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),F("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.Uf.jt)throw new h(l.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Qf&&this.Wf===e||(this.Qf=function(t,e,n){if(t.Ut.m()){var r=0;return t.docChanges.map((function(e){return{type:"added",doc:n(e.doc,t.fromCache,t.Qt.has(e.doc.key)),oldIndex:-1,newIndex:r++}}))}var i=t.Ut;return t.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var r=n(e.doc,t.fromCache,t.Qt.has(e.doc.key)),s=-1,o=-1;return 0!==e.type&&(s=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(o=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:pu(e.type),doc:r,oldIndex:s,newIndex:o}}))}(this.Uf,e,this.jf.bind(this)),this.Wf=e),this.Qf},t.prototype.isEqual=function(e){if(!(e instanceof t))throw H("isEqual","QuerySnapshot",1,e);return this.Df===e.Df&&Wn(this.qf,e.qf)&&this.Uf.isEqual(e.Uf)&&this.I_===e.I_},t.prototype.jf=function(t,e,n){return new tu(this.Df,t.key,t,e,n,this.I_)},t}(),cu=function(t){function e(e,n,r){var i=this;if((i=t.call(this,Rn(e),n,r)||this).Kf=e,e.length%2!=1)throw new h(l.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.R()+" has "+e.length);return i}return r.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.Lf.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.Lf.path.h();return t.m()?null:new Ya(new I(t),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.Lf.path.R()},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){N("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=Q.k()),j("CollectionReference.doc","non-empty string",1,t);var e=A.P(t);return Ya.bf(this.Lf.path.child(e),this.firestore,this.I_)},e.prototype.add=function(t){D("CollectionReference.add",arguments,1),j("CollectionReference.add","object",1,this.I_?this.I_.toFirestore(t):t);var e=this.doc();return e.set(t).then((function(){return e}))},e.prototype.withConverter=function(t){return new e(this.Kf,this.firestore,t)},e}(au);function lu(t,e){if(void 0===e)return{merge:!1};if(z(t,e,["merge","mergeFields"]),F(t,"boolean","merge",e.merge),function(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){if(!(r instanceof Array))throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+B(r));for(var s=0;s<r.length;++s)if(!i(r[s]))throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be a string or a FieldPath, but the value at index "+s+" was: "+B(r[s]))}(t,"mergeFields",0,r,(function(t){return"string"==typeof t||t instanceof la}))}(t,0,0,e.mergeFields),void 0!==e.mergeFields&&void 0!==e.merge)throw new h(l.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function hu(t,e){return void 0===e?{}:(z(t,e,["serverTimestamps"]),M(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function fu(t,e){P(t,"object",1,e),e&&(z(t,e,["source"]),M(t,0,"source",e.source,["default","server","cache"]))}function du(t,e,n){if(e instanceof Ca){if(e.firestore!==n)throw new h(l.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw H(t,"DocumentReference",1,e)}function pu(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return v()}}function gu(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var mu={Firestore:Ja,GeoPoint:wa,Timestamp:at,Blob:rt,Transaction:Qa,WriteBatch:Ka,DocumentReference:Ya,DocumentSnapshot:Xa,Query:au,QueryDocumentSnapshot:tu,QuerySnapshot:uu,CollectionReference:cu,FieldPath:la,FieldValue:ba,setLogLevel:Ja.setLogLevel,CACHE_SIZE_UNLIMITED:Wa};function yu(t){!function(t,e){t.INTERNAL.registerComponent(new u.Component("firestore",(function(t){return function(t,e){var n=new oa,r=new sa(n);return new Ja(t,e,r,n)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},mu)))}(t),t.registerVersion("@firebase/firestore","1.16.7")}yu(c.default),e.__PRIVATE_registerFirestore=yu},"7HRe":function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("HDdC"),i=n("quSY"),s=n("kJWO"),o=n("jZKg"),a=n("Lhse"),u=n("c2HN"),c=n("I55L");function l(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new i.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(u.a)(t))return function(t,e){return new r.a(n=>{const r=new i.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(c.a)(t))return Object(o.a)(t,e);if(function(t){return t&&"function"==typeof t[a.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new i.a;let s;return r.add(()=>{s&&"function"==typeof s.return&&s.return()}),r.add(e.schedule(()=>{s=t[a.a](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=s.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}},"7Hc7":function(t,e,n){"use strict";n.d(e,"b",(function(){return f})),n.d(e,"a",(function(){return d}));let r=1;const i=(()=>Promise.resolve())(),s={};function o(t){return t in s&&(delete s[t],!0)}const a={setImmediate(t){const e=r++;return s[e]=!0,i.then(()=>o(e)&&t()),e},clearImmediate(t){o(t)}};var u=n("3N8a");class c extends u.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var l=n("IjjT");class h extends l.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const f=new h(c),d=f},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"89kA":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("qCKp"),i=n("ZR4w");r.Observable.prototype.map=i.map},"8Qeq":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},BFxc:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("7o/Q"),i=n("4I5i"),s=n("EY2u");function o(t){return function(e){return 0===t?Object(s.b)():e.lift(new a(t))}}class a{constructor(t){if(this.total=t,this.total<0)throw new i.a}call(t,e){return e.subscribe(new u(t,this.total))}}class u extends r.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}},Cfvw:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("SeVD"),s=n("7HRe");function o(t,e){return e?Object(s.a)(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return s}));var r=n("3N8a");const i=new(n("IjjT").a)(r.a),s=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EQ5u:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return u}));var r=n("XNiG"),i=n("HDdC"),s=(n("7o/Q"),n("quSY")),o=n("x+ZX");class a extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.a,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.a.EMPTY)),t}refCount(){return Object(o.a)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},EUDy:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n("XC4j")},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return s}));var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},"F97/":function(t,e,n){"use strict";function r(t,e){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=t,n.thisArg=e,n}n.d(e,"a",(function(){return r}))},GyhO:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("LRne"),i=n("0EUg");function s(...t){return Object(i.a)()(Object(r.a)(...t))}},HDdC:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("8Qeq"),i=n("7o/Q"),s=n("2QA8"),o=n("gRHU"),a=n("kJWO"),u=n("mCNh"),c=n("2fFW");let l=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,a=function(t,e,n){if(t){if(t instanceof i.a)return t;if(t[s.a])return t[s.a]()}return t||e||n?new i.a(t,e,n):new i.a(o.a)}(t,e,n);if(a.add(r?r.call(a,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),Object(r.a)(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=h(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[a.a](){return this}pipe(...t){return 0===t.length?this:Object(u.b)(t)(this)}toPromise(t){return new(t=h(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function h(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("Y/cZ");class i extends r.a{constructor(t,e=r.a.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},IzEk:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("7o/Q"),i=n("4I5i"),s=n("EY2u");function o(t){return e=>0===t?Object(s.b)():e.lift(new a(t))}class a{constructor(t){if(this.total=t,this.total<0)throw new i.a}call(t,e){return e.subscribe(new u(t,this.total))}}class u extends r.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}},JIr8:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("zx2A");function i(t){return function(e){const n=new s(t),r=e.lift(n);return n.caught=r}}class s{constructor(t){this.selector=t}call(t,e){return e.subscribe(new o(t,this.selector,this.caught))}}class o extends r.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const i=new r.a(this);this.add(i);const s=Object(r.c)(n,i);s!==i&&this.add(s)}}}},JX91:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("GyhO"),i=n("z+Ro");function s(...t){const e=t[t.length-1];return Object(i.a)(e)?(t.pop(),n=>Object(r.a)(t,n,e)):e=>Object(r.a)(t,e)}},Kj3r:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("7o/Q"),i=n("D0XW");function s(t,e=i.a){return n=>n.lift(new o(t,e))}class o{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new a(t,this.dueTime,this.scheduler))}}class a extends r.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(u,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function u(t){t.debouncedNext()}},Kqap:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new s(t,e,n))}}class s{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new o(t,this.accumulator,this.seed,this.hasSeed))}}class o extends r.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}},KqfI:function(t,e,n){"use strict";function r(){}n.d(e,"a",(function(){return r}))},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return i}));const i=r()},MKA9:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n("4Wg5")},"NHP+":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("XNiG"),i=n("quSY");class s extends r.a{constructor(){super(...arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}_subscribe(t){return this.hasError?(t.error(this.thrownError),i.a.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),i.a.EMPTY):super._subscribe(t)}next(t){this.hasCompleted||(this.value=t,this.hasNext=!0)}error(t){this.hasCompleted||super.error(t)}complete(){this.hasCompleted=!0,this.hasNext&&super.next(this.value),super.complete()}}},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",(function(){return r}))},NJ9Y:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("sVev"),i=n("pLZG"),s=n("BFxc"),o=n("XDbj"),a=n("xbPD"),u=n("SpAZ");function c(t,e){const n=arguments.length>=2;return c=>c.pipe(t?Object(i.a)((e,n)=>t(e,n,c)):u.a,Object(s.a)(1),n?Object(a.a)(e):Object(o.a)(()=>new r.a))}},NXyV:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("Cfvw"),s=n("EY2u");function o(t){return new r.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(i.a)(n):Object(s.b)()).subscribe(e)})}},Nv8m:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("DH7j"),i=n("yCtX"),s=n("l7GE"),o=n("ZUHj");function a(...t){if(1===t.length){if(!Object(r.a)(t[0]))return t[0];t=t[0]}return Object(i.a)(t,void 0).lift(new u)}class u{call(t,e){return e.subscribe(new c(t))}}class c extends s.a{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let n=0;n<e&&!this.hasFirst;n++){const e=t[n],r=Object(o.a)(this,e,void 0,n);this.subscriptions&&this.subscriptions.push(r),this.add(r)}this.observables=null}}notifyNext(t,e,n){if(!this.hasFirst){this.hasFirst=!0;for(let t=0;t<this.subscriptions.length;t++)if(t!==n){let e=this.subscriptions[t];e.unsubscribe(),this.remove(e)}this.subscriptions=null}this.destination.next(e)}}},OQgR:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return h}));var r=n("7o/Q"),i=n("quSY"),s=n("HDdC"),o=n("XNiG");function a(t,e,n,r){return i=>i.lift(new u(t,e,n,r))}class u{constructor(t,e,n,r){this.keySelector=t,this.elementSelector=e,this.durationSelector=n,this.subjectSelector=r}call(t,e){return e.subscribe(new c(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class c extends r.a{constructor(t,e,n,r,i){super(t),this.keySelector=e,this.elementSelector=n,this.durationSelector=r,this.subjectSelector=i,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(t){let e;try{e=this.keySelector(t)}catch(n){return void this.error(n)}this._group(t,e)}_group(t,e){let n=this.groups;n||(n=this.groups=new Map);let r,i=n.get(e);if(this.elementSelector)try{r=this.elementSelector(t)}catch(s){this.error(s)}else r=t;if(!i){i=this.subjectSelector?this.subjectSelector():new o.a,n.set(e,i);const t=new h(e,i,this);if(this.destination.next(t),this.durationSelector){let t;try{t=this.durationSelector(new h(e,i))}catch(s){return void this.error(s)}this.add(t.subscribe(new l(e,i,this)))}}i.closed||i.next(r)}_error(t){const e=this.groups;e&&(e.forEach((e,n)=>{e.error(t)}),e.clear()),this.destination.error(t)}_complete(){const t=this.groups;t&&(t.forEach((t,e)=>{t.complete()}),t.clear()),this.destination.complete()}removeGroup(t){this.groups.delete(t)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class l extends r.a{constructor(t,e,n){super(e),this.key=t,this.group=e,this.parent=n}_next(t){this.complete()}_unsubscribe(){const{parent:t,key:e}=this;this.key=this.parent=null,t&&t.removeGroup(e)}}class h extends s.a{constructor(t,e,n){super(),this.key=t,this.groupSubject=e,this.refCountSubscription=n}_subscribe(t){const e=new i.a,{refCountSubscription:n,groupSubject:r}=this;return n&&!n.closed&&e.add(new f(n)),e.add(r.subscribe(t)),e}}class f extends i.a{constructor(t){super(),this.parent=t,t.count++}unsubscribe(){const t=this.parent;t.closed||this.closed||(super.unsubscribe(),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())}}},PqYM:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("D0XW"),s=n("Y7HM"),o=n("z+Ro");function a(t=0,e,n){let a=-1;return Object(s.a)(e)?a=Number(e)<1?1:Number(e):Object(o.a)(e)&&(n=e),Object(o.a)(n)||(n=i.a),new r.a(e=>{const r=Object(s.a)(t)?t:+t-n.now();return n.schedule(u,r,{index:0,period:a,subscriber:e})})}function u(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}},QqCr:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("HDdC"),i=n("NHP+"),s=n("lJxs"),o=n("8Qeq"),a=n("DH7j"),u=n("z+Ro");function c(t,e,n){if(e){if(!Object(u.a)(e))return(...r)=>c(t,n)(...r).pipe(Object(s.a)(t=>Object(a.a)(t)?e(...t):e(t)));n=e}return function(...e){const s=this;let a;const u={context:s,subject:a,callbackFunc:t,scheduler:n};return new r.a(r=>{if(n)return n.schedule(l,0,{args:e,subscriber:r,params:u});if(!a){a=new i.a;const n=(...t)=>{a.next(t.length<=1?t[0]:t),a.complete()};try{t.apply(s,[...e,n])}catch(c){Object(o.a)(a)?a.error(c):console.warn(c)}}return a.subscribe(r)})}}function l(t){const{args:e,subscriber:n,params:r}=t,{callbackFunc:s,context:o,scheduler:a}=r;let{subject:u}=r;if(!u){u=r.subject=new i.a;const t=(...t)=>{this.add(a.schedule(h,0,{value:t.length<=1?t[0]:t,subject:u}))};try{s.apply(o,[...e,t])}catch(c){u.error(c)}}this.add(u.subscribe(n))}function h(t){const{value:e,subject:n}=t;n.next(e),n.complete()}},"S+S0":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("b1EX"),i=n("zVF4"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),o=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r.__assign({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var s=this.getOrInitializeService(i);if(!s){if(n)return null;throw Error("Service "+this.name+" is not available")}return s}catch(o){if(n)return null;throw o}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(l){}try{for(var i=r.__values(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var o=r.__read(s.value,2),a=o[1],u=this.normalizeInstanceIdentifier(o[0]);try{var c=this.getOrInitializeService(u);a.resolve(c)}catch(l){}}}catch(h){e={error:h}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(r.__spread(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new o(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=s,e.ComponentContainer=a,e.Provider=o},S7rW:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n("1M8x")},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[o.a])return l=t,t=>{const e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},SxV6:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("sVev"),i=n("pLZG"),s=n("IzEk"),o=n("xbPD"),a=n("XDbj"),u=n("SpAZ");function c(t,e){const n=arguments.length>=2;return c=>c.pipe(t?Object(i.a)((e,n)=>t(e,n,c)):u.a,Object(s.a)(1),n?Object(o.a)(e):Object(a.a)(()=>new r.a))}},UXun:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("jtHE");function i(t,e,n){let i;return i=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:i}){let s,o,a=0,u=!1,c=!1;return function(l){let h;a++,!s||u?(u=!1,s=new r.a(t,e,i),h=s.subscribe(this),o=l.subscribe({next(t){s.next(t)},error(t){u=!0,s.error(t)},complete(){c=!0,o=void 0,s.complete()}})):h=s.subscribe(this),this.add(()=>{a--,h.unsubscribe(),o&&!c&&n&&0===a&&(o.unsubscribe(),o=void 0,s=void 0)})}}(i))}},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},WMd4:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return a}));var r=n("EY2u"),i=n("LRne"),s=n("z6cu"),o=function(t){return t.NEXT="N",t.ERROR="E",t.COMPLETE="C",t}({});let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return Object(s.a)(this.error);case"C":return Object(r.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},Wcq6:function(t,e,n){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var i=r(n("wj3C"));i.default.registerVersion("firebase","7.20.0","app"),t.exports=i.default},XC4j:function(t,e){},XDbj:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("sVev"),i=n("7o/Q");function s(t=u){return e=>e.lift(new o(t))}class o{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new a(t,this.errorFactory))}}class a extends i.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function u(){return new r.a}},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},Xk39:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("kU1M");e._catch=function(t){return r.catchError(t)(this)}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},"Y/cZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})()},Y6u4:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t})()},Y7HM:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},ZR4w:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("kU1M");e.map=function(t,e){return r.map(t,e)(this)}},ZUHj:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("7o/Q");class i extends r.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var s=n("SeVD"),o=n("HDdC");function a(t,e,n,r,a=new i(t,n,r)){if(!a.closed)return e instanceof o.a?e.subscribe(a):Object(s.a)(e)(a)}},b1EX:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return s})),n.d(e,"__rest",(function(){return o})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return c})),n.d(e,"__awaiter",(function(){return l})),n.d(e,"__generator",(function(){return h})),n.d(e,"__createBinding",(function(){return f})),n.d(e,"__exportStar",(function(){return d})),n.d(e,"__values",(function(){return p})),n.d(e,"__read",(function(){return g})),n.d(e,"__spread",(function(){return m})),n.d(e,"__spreadArrays",(function(){return y})),n.d(e,"__await",(function(){return v})),n.d(e,"__asyncGenerator",(function(){return b})),n.d(e,"__asyncDelegator",(function(){return _})),n.d(e,"__asyncValues",(function(){return w})),n.d(e,"__makeTemplateObject",(function(){return E})),n.d(e,"__importStar",(function(){return C})),n.d(e,"__importDefault",(function(){return S})),n.d(e,"__classPrivateFieldGet",(function(){return A})),n.d(e,"__classPrivateFieldSet",(function(){return x}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,s=arguments.length,o=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,n,o):i(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))((function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}u((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function f(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}function d(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t}function y(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function v(t){return this instanceof v?(this.v=t,this):new v(t)}function b(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){s.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{(n=i[t](e)).value instanceof v?Promise.resolve(n.value.v).then(u,c):l(s[0][2],n)}catch(r){l(s[0][3],r)}var n}function u(t){a("next",t)}function c(t){a("throw",t)}function l(t,e){t(e),s.shift(),s.length&&a(s[0][0],s[0][1])}}function _(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:v(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function w(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function E(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function C(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function S(t){return t&&t.__esModule?t:{default:t}}function A(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function x(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.b)(i.a,t)}},bOdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("5+tZ");function i(t,e){return Object(r.b)(t,e,1)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},c6ID:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("zx2A");function i(t){return e=>e.lift(new s(t))}class s{constructor(t){this.notifier=t}call(t,e){const n=new o(t),i=e.subscribe(n);return i.add(Object(r.c)(this.notifier,new r.a(n))),i}}class o extends r.b{constructor(){super(...arguments),this.hasValue=!1}_next(t){this.value=t,this.hasValue=!0}notifyNext(){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))}}},cp0P:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("HDdC"),i=n("DH7j"),s=n("lJxs"),o=n("XoHu"),a=n("Cfvw");function u(...t){if(1===t.length){const e=t[0];if(Object(i.a)(e))return c(e,null);if(Object(o.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return c(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return c(t=1===t.length&&Object(i.a)(t[0])?t[0]:t,null).pipe(Object(s.a)(t=>e(...t)))}return c(t,null)}function c(t,e){return new r.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let u=0;u<r;u++){const c=Object(a.a)(t[u]);let l=!1;n.add(c.subscribe({next:t=>{l||(l=!0,o++),i[u]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&l||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}},crnd:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="crnd"},eIep:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(t,e){return"function"==typeof e?n=>n.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))))):e=>e.lift(new a(t))}class a{constructor(t){this.project=t}call(t,e){return e.subscribe(new u(t,this.project))}}class u extends s.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new s.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(s.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},itXk:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l}));var r=n("z+Ro"),i=n("DH7j"),s=n("l7GE"),o=n("ZUHj"),a=n("yCtX");const u={};function c(...t){let e=void 0,n=void 0;return Object(r.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(i.a)(t[0])&&(t=t[0]),Object(a.a)(t,n).lift(new l(e))}class l{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new h(t,this.resultSelector))}}class h extends s.a{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(u),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(Object(o.a)(this,e,void 0,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===u?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule((function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}},jtHE:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("XNiG"),i=n("qgXg"),s=n("quSY"),o=n("pxpQ"),a=n("9ppp"),u=n("Ylt2");class c extends r.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),super.next(t)}nextTimeWindow(t){this._events.push(new l(this._getNow(),t)),this._trimBufferThenGetEvents(),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let c;if(this.closed)throw new a.a;if(this.isStopped||this.hasError?c=s.a.EMPTY:(this.observers.push(t),c=new u.a(this,t)),r&&t.add(t=new o.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),c}_getNow(){return(this.scheduler||i.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class l{constructor(t,e){this.time=t,this.value=e}}},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},kU1M:function(t,e,n){"use strict";n.r(e),n.d(e,"audit",(function(){return r.a})),n.d(e,"auditTime",(function(){return i.a})),n.d(e,"buffer",(function(){return o})),n.d(e,"bufferCount",(function(){return l})),n.d(e,"bufferTime",(function(){return m})),n.d(e,"bufferToggle",(function(){return x})),n.d(e,"bufferWhen",(function(){return O})),n.d(e,"catchError",(function(){return N.a})),n.d(e,"combineAll",(function(){return P})),n.d(e,"combineLatest",(function(){return M})),n.d(e,"concat",(function(){return V})),n.d(e,"concatAll",(function(){return U.a})),n.d(e,"concatMap",(function(){return B.a})),n.d(e,"concatMapTo",(function(){return q})),n.d(e,"count",(function(){return z})),n.d(e,"debounce",(function(){return W})),n.d(e,"debounceTime",(function(){return Q.a})),n.d(e,"defaultIfEmpty",(function(){return K.a})),n.d(e,"delay",(function(){return X})),n.d(e,"delayWhen",(function(){return it})),n.d(e,"dematerialize",(function(){return ct})),n.d(e,"distinct",(function(){return ft})),n.d(e,"distinctUntilChanged",(function(){return gt.a})),n.d(e,"distinctUntilKeyChanged",(function(){return mt})),n.d(e,"elementAt",(function(){return wt})),n.d(e,"endWith",(function(){return Ct})),n.d(e,"every",(function(){return St})),n.d(e,"exhaust",(function(){return Tt})),n.d(e,"exhaustMap",(function(){return kt})),n.d(e,"expand",(function(){return Pt})),n.d(e,"filter",(function(){return vt.a})),n.d(e,"finalize",(function(){return Mt.a})),n.d(e,"find",(function(){return Lt})),n.d(e,"findIndex",(function(){return Bt})),n.d(e,"first",(function(){return qt.a})),n.d(e,"groupBy",(function(){return zt.b})),n.d(e,"ignoreElements",(function(){return Ht})),n.d(e,"isEmpty",(function(){return $t})),n.d(e,"last",(function(){return Kt.a})),n.d(e,"map",(function(){return Dt.a})),n.d(e,"mapTo",(function(){return Yt})),n.d(e,"materialize",(function(){return te})),n.d(e,"max",(function(){return ae})),n.d(e,"merge",(function(){return ce})),n.d(e,"mergeAll",(function(){return le.a})),n.d(e,"mergeMap",(function(){return he.b})),n.d(e,"flatMap",(function(){return he.a})),n.d(e,"mergeMapTo",(function(){return fe})),n.d(e,"mergeScan",(function(){return de})),n.d(e,"min",(function(){return me})),n.d(e,"multicast",(function(){return ye.a})),n.d(e,"observeOn",(function(){return ve.b})),n.d(e,"onErrorResumeNext",(function(){return be})),n.d(e,"pairwise",(function(){return Ee})),n.d(e,"partition",(function(){return xe})),n.d(e,"pluck",(function(){return Te})),n.d(e,"publish",(function(){return Oe})),n.d(e,"publishBehavior",(function(){return ke})),n.d(e,"publishLast",(function(){return je})),n.d(e,"publishReplay",(function(){return Re})),n.d(e,"race",(function(){return Me})),n.d(e,"reduce",(function(){return oe})),n.d(e,"repeat",(function(){return Ve})),n.d(e,"repeatWhen",(function(){return qe})),n.d(e,"retry",(function(){return Ge})),n.d(e,"retryWhen",(function(){return Je})),n.d(e,"refCount",(function(){return Ye.a})),n.d(e,"sample",(function(){return Ze.a})),n.d(e,"sampleTime",(function(){return Xe})),n.d(e,"scan",(function(){return re.a})),n.d(e,"sequenceEqual",(function(){return rn})),n.d(e,"share",(function(){return un.a})),n.d(e,"shareReplay",(function(){return cn.a})),n.d(e,"single",(function(){return hn})),n.d(e,"skip",(function(){return pn.a})),n.d(e,"skipLast",(function(){return gn})),n.d(e,"skipUntil",(function(){return vn})),n.d(e,"skipWhile",(function(){return wn})),n.d(e,"startWith",(function(){return Sn.a})),n.d(e,"subscribeOn",(function(){return An.a})),n.d(e,"switchAll",(function(){return In})),n.d(e,"switchMap",(function(){return xn.a})),n.d(e,"switchMapTo",(function(){return On})),n.d(e,"take",(function(){return _t.a})),n.d(e,"takeLast",(function(){return ie.a})),n.d(e,"takeUntil",(function(){return Dn.a})),n.d(e,"takeWhile",(function(){return kn})),n.d(e,"tap",(function(){return Pn.a})),n.d(e,"throttle",(function(){return Fn})),n.d(e,"throttleTime",(function(){return Vn})),n.d(e,"throwIfEmpty",(function(){return bt.a})),n.d(e,"timeInterval",(function(){return Hn})),n.d(e,"timeout",(function(){return Yn})),n.d(e,"timeoutWith",(function(){return $n})),n.d(e,"timestamp",(function(){return Zn})),n.d(e,"toArray",(function(){return er})),n.d(e,"window",(function(){return nr})),n.d(e,"windowCount",(function(){return sr})),n.d(e,"windowTime",(function(){return cr})),n.d(e,"windowToggle",(function(){return mr})),n.d(e,"windowWhen",(function(){return br})),n.d(e,"withLatestFrom",(function(){return Er})),n.d(e,"zip",(function(){return xr})),n.d(e,"zipAll",(function(){return Tr}));var r=n("tnsW"),i=n("3UWI"),s=n("zx2A");function o(t){return function(e){return e.lift(new a(t))}}class a{constructor(t){this.closingNotifier=t}call(t,e){return e.subscribe(new u(t,this.closingNotifier))}}class u extends s.b{constructor(t,e){super(t),this.buffer=[],this.add(Object(s.c)(e,new s.a(this)))}_next(t){this.buffer.push(t)}notifyNext(){const t=this.buffer;this.buffer=[],this.destination.next(t)}}var c=n("7o/Q");function l(t,e=null){return function(n){return n.lift(new h(t,e))}}class h{constructor(t,e){this.bufferSize=t,this.startBufferEvery=e,this.subscriberClass=e&&t!==e?d:f}call(t,e){return e.subscribe(new this.subscriberClass(t,this.bufferSize,this.startBufferEvery))}}class f extends c.a{constructor(t,e){super(t),this.bufferSize=e,this.buffer=[]}_next(t){const e=this.buffer;e.push(t),e.length==this.bufferSize&&(this.destination.next(e),this.buffer=[])}_complete(){const t=this.buffer;t.length>0&&this.destination.next(t),super._complete()}}class d extends c.a{constructor(t,e,n){super(t),this.bufferSize=e,this.startBufferEvery=n,this.buffers=[],this.count=0}_next(t){const{bufferSize:e,startBufferEvery:n,buffers:r,count:i}=this;this.count++,i%n==0&&r.push([]);for(let s=r.length;s--;){const n=r[s];n.push(t),n.length===e&&(r.splice(s,1),this.destination.next(n))}}_complete(){const{buffers:t,destination:e}=this;for(;t.length>0;){let n=t.shift();n.length>0&&e.next(n)}super._complete()}}var p=n("D0XW"),g=n("z+Ro");function m(t){let e=arguments.length,n=p.a;Object(g.a)(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],e--);let r=null;e>=2&&(r=arguments[1]);let i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(e){return e.lift(new y(t,r,i,n))}}class y{constructor(t,e,n,r){this.bufferTimeSpan=t,this.bufferCreationInterval=e,this.maxBufferSize=n,this.scheduler=r}call(t,e){return e.subscribe(new b(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))}}class v{constructor(){this.buffer=[]}}class b extends c.a{constructor(t,e,n,r,i){super(t),this.bufferTimeSpan=e,this.bufferCreationInterval=n,this.maxBufferSize=r,this.scheduler=i,this.contexts=[];const s=this.openContext();if(this.timespanOnly=null==n||n<0,this.timespanOnly)this.add(s.closeAction=i.schedule(_,e,{subscriber:this,context:s,bufferTimeSpan:e}));else{const t={bufferTimeSpan:e,bufferCreationInterval:n,subscriber:this,scheduler:i};this.add(s.closeAction=i.schedule(E,e,{subscriber:this,context:s})),this.add(i.schedule(w,n,t))}}_next(t){const e=this.contexts,n=e.length;let r;for(let i=0;i<n;i++){const n=e[i],s=n.buffer;s.push(t),s.length==this.maxBufferSize&&(r=n)}r&&this.onBufferFull(r)}_error(t){this.contexts.length=0,super._error(t)}_complete(){const{contexts:t,destination:e}=this;for(;t.length>0;){const n=t.shift();e.next(n.buffer)}super._complete()}_unsubscribe(){this.contexts=null}onBufferFull(t){this.closeContext(t);const e=t.closeAction;if(e.unsubscribe(),this.remove(e),!this.closed&&this.timespanOnly){t=this.openContext();const e=this.bufferTimeSpan;this.add(t.closeAction=this.scheduler.schedule(_,e,{subscriber:this,context:t,bufferTimeSpan:e}))}}openContext(){const t=new v;return this.contexts.push(t),t}closeContext(t){this.destination.next(t.buffer);const e=this.contexts;(e?e.indexOf(t):-1)>=0&&e.splice(e.indexOf(t),1)}}function _(t){const e=t.subscriber,n=t.context;n&&e.closeContext(n),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function w(t){const{bufferCreationInterval:e,bufferTimeSpan:n,subscriber:r,scheduler:i}=t,s=r.openContext();r.closed||(r.add(s.closeAction=i.schedule(E,n,{subscriber:r,context:s})),this.schedule(t,e))}function E(t){const{subscriber:e,context:n}=t;e.closeContext(n)}var C=n("quSY"),S=n("ZUHj"),A=n("l7GE");function x(t,e){return function(n){return n.lift(new T(t,e))}}class T{constructor(t,e){this.openings=t,this.closingSelector=e}call(t,e){return e.subscribe(new I(t,this.openings,this.closingSelector))}}class I extends A.a{constructor(t,e,n){super(t),this.closingSelector=n,this.contexts=[],this.add(Object(S.a)(this,e))}_next(t){const e=this.contexts,n=e.length;for(let r=0;r<n;r++)e[r].buffer.push(t)}_error(t){const e=this.contexts;for(;e.length>0;){const t=e.shift();t.subscription.unsubscribe(),t.buffer=null,t.subscription=null}this.contexts=null,super._error(t)}_complete(){const t=this.contexts;for(;t.length>0;){const e=t.shift();this.destination.next(e.buffer),e.subscription.unsubscribe(),e.buffer=null,e.subscription=null}this.contexts=null,super._complete()}notifyNext(t,e){t?this.closeBuffer(t):this.openBuffer(e)}notifyComplete(t){this.closeBuffer(t.context)}openBuffer(t){try{const e=this.closingSelector.call(this,t);e&&this.trySubscribe(e)}catch(e){this._error(e)}}closeBuffer(t){const e=this.contexts;if(e&&t){const{buffer:n,subscription:r}=t;this.destination.next(n),e.splice(e.indexOf(t),1),this.remove(r),r.unsubscribe()}}trySubscribe(t){const e=this.contexts,n=new C.a,r={buffer:[],subscription:n};e.push(r);const i=Object(S.a)(this,t,r);!i||i.closed?this.closeBuffer(r):(i.context=r,this.add(i),n.add(i))}}function O(t){return function(e){return e.lift(new D(t))}}class D{constructor(t){this.closingSelector=t}call(t,e){return e.subscribe(new k(t,this.closingSelector))}}class k extends s.b{constructor(t,e){super(t),this.closingSelector=e,this.subscribing=!1,this.openBuffer()}_next(t){this.buffer.push(t)}_complete(){const t=this.buffer;t&&this.destination.next(t),super._complete()}_unsubscribe(){this.buffer=void 0,this.subscribing=!1}notifyNext(){this.openBuffer()}notifyComplete(){this.subscribing?this.complete():this.openBuffer()}openBuffer(){let t,{closingSubscription:e}=this;e&&(this.remove(e),e.unsubscribe()),this.buffer&&this.destination.next(this.buffer),this.buffer=[];try{const{closingSelector:e}=this;t=e()}catch(n){return this.error(n)}e=new C.a,this.closingSubscription=e,this.add(e),this.subscribing=!0,e.add(Object(s.c)(t,new s.a(this))),this.subscribing=!1}}var N=n("JIr8"),j=n("itXk");function P(t){return e=>e.lift(new j.a(t))}var R=n("DH7j"),F=n("Cfvw");function M(...t){let e=null;return"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(R.a)(t[0])&&(t=t[0].slice()),n=>n.lift.call(Object(F.a)([n,...t]),new j.a(e))}var L=n("GyhO");function V(...t){return e=>e.lift.call(Object(L.a)(e,...t))}var U=n("0EUg"),B=n("bOdf");function q(t,e){return Object(B.a)(()=>t,e)}function z(t){return e=>e.lift(new H(t,e))}class H{constructor(t,e){this.predicate=t,this.source=e}call(t,e){return e.subscribe(new G(t,this.predicate,this.source))}}class G extends c.a{constructor(t,e,n){super(t),this.predicate=e,this.source=n,this.count=0,this.index=0}_next(t){this.predicate?this._tryPredicate(t):this.count++}_tryPredicate(t){let e;try{e=this.predicate(t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e&&this.count++}_complete(){this.destination.next(this.count),this.destination.complete()}}function W(t){return e=>e.lift(new $(t))}class ${constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new J(t,this.durationSelector))}}class J extends s.b{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){try{const e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(e){this.destination.error(e)}}_complete(){this.emitValue(),this.destination.complete()}_tryNext(t,e){let n=this.durationSubscription;this.value=t,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),n=Object(s.c)(e,new s.a(this)),n&&!n.closed&&this.add(this.durationSubscription=n)}notifyNext(){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){if(this.hasValue){const t=this.value,e=this.durationSubscription;e&&(this.durationSubscription=void 0,e.unsubscribe(),this.remove(e)),this.value=void 0,this.hasValue=!1,super._next(t)}}}var Q=n("Kj3r"),K=n("xbPD");function Y(t){return t instanceof Date&&!isNaN(+t)}var Z=n("WMd4");function X(t,e=p.a){const n=Y(t)?+t-e.now():Math.abs(t);return t=>t.lift(new tt(n,e))}class tt{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new et(t,this.delay,this.scheduler))}}class et extends c.a{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,r=t.scheduler,i=t.destination;for(;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){const e=Math.max(0,n[0].time-r.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(et.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new nt(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(Z.a.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(Z.a.createComplete()),this.unsubscribe()}}class nt{constructor(t,e){this.time=t,this.notification=e}}var rt=n("HDdC");function it(t,e){return e?n=>new at(n,e).lift(new st(t)):e=>e.lift(new st(t))}class st{constructor(t){this.delayDurationSelector=t}call(t,e){return e.subscribe(new ot(t,this.delayDurationSelector))}}class ot extends A.a{constructor(t,e){super(t),this.delayDurationSelector=e,this.completed=!1,this.delayNotifierSubscriptions=[],this.index=0}notifyNext(t,e,n,r,i){this.destination.next(t),this.removeSubscription(i),this.tryComplete()}notifyError(t,e){this._error(t)}notifyComplete(t){const e=this.removeSubscription(t);e&&this.destination.next(e),this.tryComplete()}_next(t){const e=this.index++;try{const n=this.delayDurationSelector(t,e);n&&this.tryDelay(n,t)}catch(n){this.destination.error(n)}}_complete(){this.completed=!0,this.tryComplete(),this.unsubscribe()}removeSubscription(t){t.unsubscribe();const e=this.delayNotifierSubscriptions.indexOf(t);return-1!==e&&this.delayNotifierSubscriptions.splice(e,1),t.outerValue}tryDelay(t,e){const n=Object(S.a)(this,t,e);n&&!n.closed&&(this.destination.add(n),this.delayNotifierSubscriptions.push(n))}tryComplete(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()}}class at extends rt.a{constructor(t,e){super(),this.source=t,this.subscriptionDelay=e}_subscribe(t){this.subscriptionDelay.subscribe(new ut(t,this.source))}}class ut extends c.a{constructor(t,e){super(),this.parent=t,this.source=e,this.sourceSubscribed=!1}_next(t){this.subscribeToSource()}_error(t){this.unsubscribe(),this.parent.error(t)}_complete(){this.unsubscribe(),this.subscribeToSource()}subscribeToSource(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))}}function ct(){return function(t){return t.lift(new lt)}}class lt{call(t,e){return e.subscribe(new ht(t))}}class ht extends c.a{constructor(t){super(t)}_next(t){t.observe(this.destination)}}function ft(t,e){return n=>n.lift(new dt(t,e))}class dt{constructor(t,e){this.keySelector=t,this.flushes=e}call(t,e){return e.subscribe(new pt(t,this.keySelector,this.flushes))}}class pt extends s.b{constructor(t,e,n){super(t),this.keySelector=e,this.values=new Set,n&&this.add(Object(s.c)(n,new s.a(this)))}notifyNext(){this.values.clear()}notifyError(t){this._error(t)}_next(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)}_useKeySelector(t){let e;const{destination:n}=this;try{e=this.keySelector(t)}catch(r){return void n.error(r)}this._finalizeNext(e,t)}_finalizeNext(t,e){const{values:n}=this;n.has(t)||(n.add(t),this.destination.next(e))}}var gt=n("/uUt");function mt(t,e){return Object(gt.a)((n,r)=>e?e(n[t],r[t]):n[t]===r[t])}var yt=n("4I5i"),vt=n("pLZG"),bt=n("XDbj"),_t=n("IzEk");function wt(t,e){if(t<0)throw new yt.a;const n=arguments.length>=2;return r=>r.pipe(Object(vt.a)((e,n)=>n===t),Object(_t.a)(1),n?Object(K.a)(e):Object(bt.a)(()=>new yt.a))}var Et=n("LRne");function Ct(...t){return e=>Object(L.a)(e,Object(Et.a)(...t))}function St(t,e){return n=>n.lift(new At(t,e,n))}class At{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new xt(t,this.predicate,this.thisArg,this.source))}}class xt extends c.a{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function Tt(){return t=>t.lift(new It)}class It{call(t,e){return e.subscribe(new Ot(t))}}class Ot extends s.b{constructor(t){super(t),this.hasCompleted=!1,this.hasSubscription=!1}_next(t){this.hasSubscription||(this.hasSubscription=!0,this.add(Object(s.c)(t,new s.a(this))))}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}var Dt=n("lJxs");function kt(t,e){return e?n=>n.pipe(kt((n,r)=>Object(F.a)(t(n,r)).pipe(Object(Dt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Nt(t))}class Nt{constructor(t){this.project=t}call(t,e){return e.subscribe(new jt(t,this.project))}}class jt extends s.b{constructor(t,e){super(t),this.project=e,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(t){this.hasSubscription||this.tryNext(t)}tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.hasSubscription=!0,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const r=Object(s.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}function Pt(t,e=Number.POSITIVE_INFINITY,n){return e=(e||0)<1?Number.POSITIVE_INFINITY:e,r=>r.lift(new Rt(t,e,n))}class Rt{constructor(t,e,n){this.project=t,this.concurrent=e,this.scheduler=n}call(t,e){return e.subscribe(new Ft(t,this.project,this.concurrent,this.scheduler))}}class Ft extends s.b{constructor(t,e,n,r){super(t),this.project=e,this.concurrent=n,this.scheduler=r,this.index=0,this.active=0,this.hasCompleted=!1,n<Number.POSITIVE_INFINITY&&(this.buffer=[])}static dispatch(t){const{subscriber:e,result:n,value:r,index:i}=t;e.subscribeToProjection(n,r,i)}_next(t){const e=this.destination;if(e.closed)return void this._complete();const n=this.index++;if(this.active<this.concurrent){e.next(t);try{const{project:e}=this,r=e(t,n);this.scheduler?this.destination.add(this.scheduler.schedule(Ft.dispatch,0,{subscriber:this,result:r,value:t,index:n})):this.subscribeToProjection(r,t,n)}catch(r){e.error(r)}}else this.buffer.push(t)}subscribeToProjection(t,e,n){this.active++,this.destination.add(Object(s.c)(t,new s.a(this)))}_complete(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this._next(t)}notifyComplete(){const t=this.buffer;this.active--,t&&t.length>0&&this._next(t.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()}}var Mt=n("nYR2");function Lt(t,e){if("function"!=typeof t)throw new TypeError("predicate is not a function");return n=>n.lift(new Vt(t,n,!1,e))}class Vt{constructor(t,e,n,r){this.predicate=t,this.source=e,this.yieldIndex=n,this.thisArg=r}call(t,e){return e.subscribe(new Ut(t,this.predicate,this.source,this.yieldIndex,this.thisArg))}}class Ut extends c.a{constructor(t,e,n,r,i){super(t),this.predicate=e,this.source=n,this.yieldIndex=r,this.thisArg=i,this.index=0}notifyComplete(t){const e=this.destination;e.next(t),e.complete(),this.unsubscribe()}_next(t){const{predicate:e,thisArg:n}=this,r=this.index++;try{e.call(n||this,t,r,this.source)&&this.notifyComplete(this.yieldIndex?r:t)}catch(i){this.destination.error(i)}}_complete(){this.notifyComplete(this.yieldIndex?-1:void 0)}}function Bt(t,e){return n=>n.lift(new Vt(t,n,!0,e))}var qt=n("SxV6"),zt=n("OQgR");function Ht(){return function(t){return t.lift(new Gt)}}class Gt{call(t,e){return e.subscribe(new Wt(t))}}class Wt extends c.a{_next(t){}}function $t(){return t=>t.lift(new Jt)}class Jt{call(t,e){return e.subscribe(new Qt(t))}}class Qt extends c.a{constructor(t){super(t)}notifyComplete(t){const e=this.destination;e.next(t),e.complete()}_next(t){this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}var Kt=n("NJ9Y");function Yt(t){return e=>e.lift(new Zt(t))}class Zt{constructor(t){this.value=t}call(t,e){return e.subscribe(new Xt(t,this.value))}}class Xt extends c.a{constructor(t,e){super(t),this.value=e}_next(t){this.destination.next(this.value)}}function te(){return function(t){return t.lift(new ee)}}class ee{call(t,e){return e.subscribe(new ne(t))}}class ne extends c.a{constructor(t){super(t)}_next(t){this.destination.next(Z.a.createNext(t))}_error(t){const e=this.destination;e.next(Z.a.createError(t)),e.complete()}_complete(){const t=this.destination;t.next(Z.a.createComplete()),t.complete()}}var re=n("Kqap"),ie=n("BFxc"),se=n("mCNh");function oe(t,e){return arguments.length>=2?function(n){return Object(se.a)(Object(re.a)(t,e),Object(ie.a)(1),Object(K.a)(e))(n)}:function(e){return Object(se.a)(Object(re.a)((e,n,r)=>t(e,n,r+1)),Object(ie.a)(1))(e)}}function ae(t){return oe("function"==typeof t?(e,n)=>t(e,n)>0?e:n:(t,e)=>t>e?t:e)}var ue=n("VRyK");function ce(...t){return e=>e.lift.call(Object(ue.a)(e,...t))}var le=n("bHdf"),he=n("5+tZ");function fe(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?Object(he.b)(()=>t,e,n):("number"==typeof e&&(n=e),Object(he.b)(()=>t,n))}function de(t,e,n=Number.POSITIVE_INFINITY){return r=>r.lift(new pe(t,e,n))}class pe{constructor(t,e,n){this.accumulator=t,this.seed=e,this.concurrent=n}call(t,e){return e.subscribe(new ge(t,this.accumulator,this.seed,this.concurrent))}}class ge extends s.b{constructor(t,e,n,r){super(t),this.accumulator=e,this.acc=n,this.concurrent=r,this.hasValue=!1,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){if(this.active<this.concurrent){const n=this.index++,r=this.destination;let i;try{const{accumulator:e}=this;i=e(this.acc,t,n)}catch(e){return r.error(e)}this.active++,this._innerSub(i)}else this.buffer.push(t)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const r=Object(s.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()}notifyNext(t){const{destination:e}=this;this.acc=t,this.hasValue=!0,e.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())}}function me(t){return oe("function"==typeof t?(e,n)=>t(e,n)<0?e:n:(t,e)=>t<e?t:e)}var ye=n("oB13"),ve=n("pxpQ");function be(...t){return 1===t.length&&Object(R.a)(t[0])&&(t=t[0]),e=>e.lift(new _e(t))}class _e{constructor(t){this.nextSources=t}call(t,e){return e.subscribe(new we(t,this.nextSources))}}class we extends s.b{constructor(t,e){super(t),this.destination=t,this.nextSources=e}notifyError(){this.subscribeToNextSource()}notifyComplete(){this.subscribeToNextSource()}_error(t){this.subscribeToNextSource(),this.unsubscribe()}_complete(){this.subscribeToNextSource(),this.unsubscribe()}subscribeToNextSource(){const t=this.nextSources.shift();if(t){const e=new s.a(this),n=this.destination;n.add(e);const r=Object(s.c)(t,e);r!==e&&n.add(r)}else this.destination.complete()}}function Ee(){return t=>t.lift(new Ce)}class Ce{call(t,e){return e.subscribe(new Se(t))}}class Se extends c.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var Ae=n("F97/");function xe(t,e){return n=>[Object(vt.a)(t,e)(n),Object(vt.a)(Object(Ae.a)(t,e))(n)]}function Te(...t){const e=t.length;if(0===e)throw new Error("list of properties cannot be empty.");return n=>Object(Dt.a)(function(t,e){return n=>{let r=n;for(let i=0;i<e;i++){const e=null!=r?r[t[i]]:void 0;if(void 0===e)return;r=e}return r}}(t,e))(n)}var Ie=n("XNiG");function Oe(t){return t?Object(ye.a)(()=>new Ie.a,t):Object(ye.a)(new Ie.a)}var De=n("2Vo4");function ke(t){return e=>Object(ye.a)(new De.a(t))(e)}var Ne=n("NHP+");function je(){return t=>Object(ye.a)(new Ne.a)(t)}var Pe=n("jtHE");function Re(t,e,n,r){n&&"function"!=typeof n&&(r=n);const i="function"==typeof n?n:void 0,s=new Pe.a(t,e,r);return t=>Object(ye.a)(()=>s,i)(t)}var Fe=n("Nv8m");function Me(...t){return function(e){return 1===t.length&&Object(R.a)(t[0])&&(t=t[0]),e.lift.call(Object(Fe.a)(e,...t))}}var Le=n("EY2u");function Ve(t=-1){return e=>0===t?Object(Le.b)():e.lift(new Ue(t<0?-1:t-1,e))}class Ue{constructor(t,e){this.count=t,this.source=e}call(t,e){return e.subscribe(new Be(t,this.count,this.source))}}class Be extends c.a{constructor(t,e,n){super(t),this.count=e,this.source=n}complete(){if(!this.isStopped){const{source:t,count:e}=this;if(0===e)return super.complete();e>-1&&(this.count=e-1),t.subscribe(this._unsubscribeAndRecycle())}}}function qe(t){return e=>e.lift(new ze(t))}class ze{constructor(t){this.notifier=t}call(t,e){return e.subscribe(new He(t,this.notifier,e))}}class He extends s.b{constructor(t,e,n){super(t),this.notifier=e,this.source=n,this.sourceIsBeingSubscribedTo=!0}notifyNext(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)}notifyComplete(){if(!1===this.sourceIsBeingSubscribedTo)return super.complete()}complete(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return super.complete();this._unsubscribeAndRecycle(),this.notifications.next(void 0)}}_unsubscribe(){const{notifications:t,retriesSubscription:e}=this;t&&(t.unsubscribe(),this.notifications=void 0),e&&(e.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}_unsubscribeAndRecycle(){const{_unsubscribe:t}=this;return this._unsubscribe=null,super._unsubscribeAndRecycle(),this._unsubscribe=t,this}subscribeToRetries(){let t;this.notifications=new Ie.a;try{const{notifier:e}=this;t=e(this.notifications)}catch(e){return super.complete()}this.retries=t,this.retriesSubscription=Object(s.c)(t,new s.a(this))}}function Ge(t=-1){return e=>e.lift(new We(t,e))}class We{constructor(t,e){this.count=t,this.source=e}call(t,e){return e.subscribe(new $e(t,this.count,this.source))}}class $e extends c.a{constructor(t,e,n){super(t),this.count=e,this.source=n}error(t){if(!this.isStopped){const{source:e,count:n}=this;if(0===n)return super.error(t);n>-1&&(this.count=n-1),e.subscribe(this._unsubscribeAndRecycle())}}}function Je(t){return e=>e.lift(new Qe(t,e))}class Qe{constructor(t,e){this.notifier=t,this.source=e}call(t,e){return e.subscribe(new Ke(t,this.notifier,this.source))}}class Ke extends s.b{constructor(t,e,n){super(t),this.notifier=e,this.source=n}error(t){if(!this.isStopped){let n=this.errors,r=this.retries,i=this.retriesSubscription;if(r)this.errors=void 0,this.retriesSubscription=void 0;else{n=new Ie.a;try{const{notifier:t}=this;r=t(n)}catch(e){return super.error(e)}i=Object(s.c)(r,new s.a(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=r,this.retriesSubscription=i,n.next(t)}}_unsubscribe(){const{errors:t,retriesSubscription:e}=this;t&&(t.unsubscribe(),this.errors=void 0),e&&(e.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}notifyNext(){const{_unsubscribe:t}=this;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=t,this.source.subscribe(this)}}var Ye=n("x+ZX"),Ze=n("c6ID");function Xe(t,e=p.a){return n=>n.lift(new tn(t,e))}class tn{constructor(t,e){this.period=t,this.scheduler=e}call(t,e){return e.subscribe(new en(t,this.period,this.scheduler))}}class en extends c.a{constructor(t,e,n){super(t),this.period=e,this.scheduler=n,this.hasValue=!1,this.add(n.schedule(nn,e,{subscriber:this,period:e}))}_next(t){this.lastValue=t,this.hasValue=!0}notifyNext(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))}}function nn(t){let{subscriber:e,period:n}=t;e.notifyNext(),this.schedule(t,n)}function rn(t,e){return n=>n.lift(new sn(t,e))}class sn{constructor(t,e){this.compareTo=t,this.comparator=e}call(t,e){return e.subscribe(new on(t,this.compareTo,this.comparator))}}class on extends c.a{constructor(t,e,n){super(t),this.compareTo=e,this.comparator=n,this._a=[],this._b=[],this._oneComplete=!1,this.destination.add(e.subscribe(new an(t,this)))}_next(t){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(t),this.checkValues())}_complete(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()}checkValues(){const{_a:t,_b:e,comparator:n}=this;for(;t.length>0&&e.length>0;){let i=t.shift(),s=e.shift(),o=!1;try{o=n?n(i,s):i===s}catch(r){this.destination.error(r)}o||this.emit(!1)}}emit(t){const{destination:e}=this;e.next(t),e.complete()}nextB(t){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(t),this.checkValues())}completeB(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0}}class an extends c.a{constructor(t,e){super(t),this.parent=e}_next(t){this.parent.nextB(t)}_error(t){this.parent.error(t),this.unsubscribe()}_complete(){this.parent.completeB(),this.unsubscribe()}}var un=n("w1tV"),cn=n("UXun"),ln=n("sVev");function hn(t){return e=>e.lift(new fn(t,e))}class fn{constructor(t,e){this.predicate=t,this.source=e}call(t,e){return e.subscribe(new dn(t,this.predicate,this.source))}}class dn extends c.a{constructor(t,e,n){super(t),this.predicate=e,this.source=n,this.seenValue=!1,this.index=0}applySingleValue(t){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=t)}_next(t){const e=this.index++;this.predicate?this.tryNext(t,e):this.applySingleValue(t)}tryNext(t,e){try{this.predicate(t,e,this.source)&&this.applySingleValue(t)}catch(n){this.destination.error(n)}}_complete(){const t=this.destination;this.index>0?(t.next(this.seenValue?this.singleValue:void 0),t.complete()):t.error(new ln.a)}}var pn=n("zP0r");function gn(t){return e=>e.lift(new mn(t))}class mn{constructor(t){if(this._skipCount=t,this._skipCount<0)throw new yt.a}call(t,e){return e.subscribe(0===this._skipCount?new c.a(t):new yn(t,this._skipCount))}}class yn extends c.a{constructor(t,e){super(t),this._skipCount=e,this._count=0,this._ring=new Array(e)}_next(t){const e=this._skipCount,n=this._count++;if(n<e)this._ring[n]=t;else{const r=n%e,i=this._ring,s=i[r];i[r]=t,this.destination.next(s)}}}function vn(t){return e=>e.lift(new bn(t))}class bn{constructor(t){this.notifier=t}call(t,e){return e.subscribe(new _n(t,this.notifier))}}class _n extends s.b{constructor(t,e){super(t),this.hasValue=!1;const n=new s.a(this);this.add(n),this.innerSubscription=n;const r=Object(s.c)(e,n);r!==n&&(this.add(r),this.innerSubscription=r)}_next(t){this.hasValue&&super._next(t)}notifyNext(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()}notifyComplete(){}}function wn(t){return e=>e.lift(new En(t))}class En{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new Cn(t,this.predicate))}}class Cn extends c.a{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}var Sn=n("JX91"),An=n("tf+s"),xn=n("eIep"),Tn=n("SpAZ");function In(){return Object(xn.a)(Tn.a)}function On(t,e){return e?Object(xn.a)(()=>t,e):Object(xn.a)(()=>t)}var Dn=n("1G5W");function kn(t,e=!1){return n=>n.lift(new Nn(t,e))}class Nn{constructor(t,e){this.predicate=t,this.inclusive=e}call(t,e){return e.subscribe(new jn(t,this.predicate,this.inclusive))}}class jn extends c.a{constructor(t,e,n){super(t),this.predicate=e,this.inclusive=n,this.index=0}_next(t){const e=this.destination;let n;try{n=this.predicate(t,this.index++)}catch(r){return void e.error(r)}this.nextOrComplete(t,n)}nextOrComplete(t,e){const n=this.destination;Boolean(e)?n.next(t):(this.inclusive&&n.next(t),n.complete())}}var Pn=n("vkgz");const Rn={leading:!0,trailing:!1};function Fn(t,e=Rn){return n=>n.lift(new Mn(t,!!e.leading,!!e.trailing))}class Mn{constructor(t,e,n){this.durationSelector=t,this.leading=e,this.trailing=n}call(t,e){return e.subscribe(new Ln(t,this.durationSelector,this.leading,this.trailing))}}class Ln extends s.b{constructor(t,e,n,r){super(t),this.destination=t,this.durationSelector=e,this._leading=n,this._trailing=r,this._hasValue=!1}_next(t){this._hasValue=!0,this._sendValue=t,this._throttled||(this._leading?this.send():this.throttle(t))}send(){const{_hasValue:t,_sendValue:e}=this;t&&(this.destination.next(e),this.throttle(e)),this._hasValue=!1,this._sendValue=void 0}throttle(t){const e=this.tryDurationSelector(t);e&&this.add(this._throttled=Object(s.c)(e,new s.a(this)))}tryDurationSelector(t){try{return this.durationSelector(t)}catch(e){return this.destination.error(e),null}}throttlingDone(){const{_throttled:t,_trailing:e}=this;t&&t.unsubscribe(),this._throttled=void 0,e&&this.send()}notifyNext(){this.throttlingDone()}notifyComplete(){this.throttlingDone()}}function Vn(t,e=p.a,n=Rn){return r=>r.lift(new Un(t,e,n.leading,n.trailing))}class Un{constructor(t,e,n,r){this.duration=t,this.scheduler=e,this.leading=n,this.trailing=r}call(t,e){return e.subscribe(new Bn(t,this.duration,this.scheduler,this.leading,this.trailing))}}class Bn extends c.a{constructor(t,e,n,r,i){super(t),this.duration=e,this.scheduler=n,this.leading=r,this.trailing=i,this._hasTrailingValue=!1,this._trailingValue=null}_next(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(qn,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)}}function qn(t){const{subscriber:e}=t;e.clearThrottle()}var zn=n("NXyV");function Hn(t=p.a){return e=>Object(zn.a)(()=>e.pipe(Object(re.a)(({current:e},n)=>({value:n,current:t.now(),last:e}),{current:t.now(),value:void 0,last:void 0}),Object(Dt.a)(({current:t,last:e,value:n})=>new Gn(n,t-e))))}class Gn{constructor(t,e){this.value=t,this.interval=e}}var Wn=n("Y6u4");function $n(t,e,n=p.a){return r=>{let i=Y(t),s=i?+t-n.now():Math.abs(t);return r.lift(new Jn(s,i,e,n))}}class Jn{constructor(t,e,n,r){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=n,this.scheduler=r}call(t,e){return e.subscribe(new Qn(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class Qn extends s.b{constructor(t,e,n,r,i){super(t),this.absoluteTimeout=e,this.waitFor=n,this.withObservable=r,this.scheduler=i,this.scheduleTimeout()}static dispatchTimeout(t){const{withObservable:e}=t;t._unsubscribeAndRecycle(),t.add(Object(s.c)(e,new s.a(t)))}scheduleTimeout(){const{action:t}=this;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(Qn.dispatchTimeout,this.waitFor,this))}_next(t){this.absoluteTimeout||this.scheduleTimeout(),super._next(t)}_unsubscribe(){this.action=void 0,this.scheduler=null,this.withObservable=null}}var Kn=n("z6cu");function Yn(t,e=p.a){return $n(t,Object(Kn.a)(new Wn.a),e)}function Zn(t=p.a){return Object(Dt.a)(e=>new Xn(e,t.now()))}class Xn{constructor(t,e){this.value=t,this.timestamp=e}}function tr(t,e,n){return 0===n?[e]:(t.push(e),t)}function er(){return oe(tr,[])}function nr(t){return function(e){return e.lift(new rr(t))}}class rr{constructor(t){this.windowBoundaries=t}call(t,e){const n=new ir(t),r=e.subscribe(n);return r.closed||n.add(Object(s.c)(this.windowBoundaries,new s.a(n))),r}}class ir extends s.b{constructor(t){super(t),this.window=new Ie.a,t.next(this.window)}notifyNext(){this.openWindow()}notifyError(t){this._error(t)}notifyComplete(){this._complete()}_next(t){this.window.next(t)}_error(t){this.window.error(t),this.destination.error(t)}_complete(){this.window.complete(),this.destination.complete()}_unsubscribe(){this.window=null}openWindow(){const t=this.window;t&&t.complete();const e=this.destination,n=this.window=new Ie.a;e.next(n)}}function sr(t,e=0){return function(n){return n.lift(new or(t,e))}}class or{constructor(t,e){this.windowSize=t,this.startWindowEvery=e}call(t,e){return e.subscribe(new ar(t,this.windowSize,this.startWindowEvery))}}class ar extends c.a{constructor(t,e,n){super(t),this.destination=t,this.windowSize=e,this.startWindowEvery=n,this.windows=[new Ie.a],this.count=0,t.next(this.windows[0])}_next(t){const e=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,n=this.destination,r=this.windowSize,i=this.windows,s=i.length;for(let a=0;a<s&&!this.closed;a++)i[a].next(t);const o=this.count-r+1;if(o>=0&&o%e==0&&!this.closed&&i.shift().complete(),++this.count%e==0&&!this.closed){const t=new Ie.a;i.push(t),n.next(t)}}_error(t){const e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().error(t);this.destination.error(t)}_complete(){const t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()}_unsubscribe(){this.count=0,this.windows=null}}var ur=n("Y7HM");function cr(t){let e=p.a,n=null,r=Number.POSITIVE_INFINITY;return Object(g.a)(arguments[3])&&(e=arguments[3]),Object(g.a)(arguments[2])?e=arguments[2]:Object(ur.a)(arguments[2])&&(r=Number(arguments[2])),Object(g.a)(arguments[1])?e=arguments[1]:Object(ur.a)(arguments[1])&&(n=Number(arguments[1])),function(i){return i.lift(new lr(t,n,r,e))}}class lr{constructor(t,e,n,r){this.windowTimeSpan=t,this.windowCreationInterval=e,this.maxWindowSize=n,this.scheduler=r}call(t,e){return e.subscribe(new fr(t,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))}}class hr extends Ie.a{constructor(){super(...arguments),this._numberOfNextedValues=0}next(t){this._numberOfNextedValues++,super.next(t)}get numberOfNextedValues(){return this._numberOfNextedValues}}class fr extends c.a{constructor(t,e,n,r,i){super(t),this.destination=t,this.windowTimeSpan=e,this.windowCreationInterval=n,this.maxWindowSize=r,this.scheduler=i,this.windows=[];const s=this.openWindow();if(null!==n&&n>=0){const t={windowTimeSpan:e,windowCreationInterval:n,subscriber:this,scheduler:i};this.add(i.schedule(gr,e,{subscriber:this,window:s,context:null})),this.add(i.schedule(pr,n,t))}else this.add(i.schedule(dr,e,{subscriber:this,window:s,windowTimeSpan:e}))}_next(t){const e=this.windows,n=e.length;for(let r=0;r<n;r++){const n=e[r];n.closed||(n.next(t),n.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(n))}}_error(t){const e=this.windows;for(;e.length>0;)e.shift().error(t);this.destination.error(t)}_complete(){const t=this.windows;for(;t.length>0;){const e=t.shift();e.closed||e.complete()}this.destination.complete()}openWindow(){const t=new hr;return this.windows.push(t),this.destination.next(t),t}closeWindow(t){t.complete();const e=this.windows;e.splice(e.indexOf(t),1)}}function dr(t){const{subscriber:e,windowTimeSpan:n,window:r}=t;r&&e.closeWindow(r),t.window=e.openWindow(),this.schedule(t,n)}function pr(t){const{windowTimeSpan:e,subscriber:n,scheduler:r,windowCreationInterval:i}=t,s=n.openWindow();let o={action:this,subscription:null};o.subscription=r.schedule(gr,e,{subscriber:n,window:s,context:o}),this.add(o.subscription),this.schedule(t,i)}function gr(t){const{subscriber:e,window:n,context:r}=t;r&&r.action&&r.subscription&&r.action.remove(r.subscription),e.closeWindow(n)}function mr(t,e){return n=>n.lift(new yr(t,e))}class yr{constructor(t,e){this.openings=t,this.closingSelector=e}call(t,e){return e.subscribe(new vr(t,this.openings,this.closingSelector))}}class vr extends A.a{constructor(t,e,n){super(t),this.openings=e,this.closingSelector=n,this.contexts=[],this.add(this.openSubscription=Object(S.a)(this,e,e))}_next(t){const{contexts:e}=this;if(e){const n=e.length;for(let r=0;r<n;r++)e[r].window.next(t)}}_error(t){const{contexts:e}=this;if(this.contexts=null,e){const n=e.length;let r=-1;for(;++r<n;){const n=e[r];n.window.error(t),n.subscription.unsubscribe()}}super._error(t)}_complete(){const{contexts:t}=this;if(this.contexts=null,t){const e=t.length;let n=-1;for(;++n<e;){const e=t[n];e.window.complete(),e.subscription.unsubscribe()}}super._complete()}_unsubscribe(){const{contexts:t}=this;if(this.contexts=null,t){const e=t.length;let n=-1;for(;++n<e;){const e=t[n];e.window.unsubscribe(),e.subscription.unsubscribe()}}}notifyNext(t,e,n,r,i){if(t===this.openings){let t;try{const{closingSelector:n}=this;t=n(e)}catch(s){return this.error(s)}const n=new Ie.a,r=new C.a,i={window:n,subscription:r};this.contexts.push(i);const o=Object(S.a)(this,t,i);o.closed?this.closeWindow(this.contexts.length-1):(o.context=i,r.add(o)),this.destination.next(n)}else this.closeWindow(this.contexts.indexOf(t))}notifyError(t){this.error(t)}notifyComplete(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))}closeWindow(t){if(-1===t)return;const{contexts:e}=this,n=e[t],{window:r,subscription:i}=n;e.splice(t,1),r.complete(),i.unsubscribe()}}function br(t){return function(e){return e.lift(new _r(t))}}class _r{constructor(t){this.closingSelector=t}call(t,e){return e.subscribe(new wr(t,this.closingSelector))}}class wr extends A.a{constructor(t,e){super(t),this.destination=t,this.closingSelector=e,this.openWindow()}notifyNext(t,e,n,r,i){this.openWindow(i)}notifyError(t){this._error(t)}notifyComplete(t){this.openWindow(t)}_next(t){this.window.next(t)}_error(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()}_complete(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()}unsubscribeClosingNotification(){this.closingNotification&&this.closingNotification.unsubscribe()}openWindow(t=null){t&&(this.remove(t),t.unsubscribe());const e=this.window;e&&e.complete();const n=this.window=new Ie.a;let r;this.destination.next(n);try{const{closingSelector:t}=this;r=t()}catch(i){return this.destination.error(i),void this.window.error(i)}this.add(this.closingNotification=Object(S.a)(this,r))}}function Er(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new Cr(t,n))}}class Cr{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new Sr(t,this.observables,this.project))}}class Sr extends A.a{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++){let t=e[i];this.add(Object(S.a)(this,t,void 0,i))}}notifyNext(t,e,n){this.values[n]=e;const r=this.toRespond;if(r.length>0){const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}var Ar=n("1uah");function xr(...t){return function(e){return e.lift.call(Object(Ar.b)(e,...t))}}function Tr(t){return e=>e.lift(new Ar.a(t))}},l7GE:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mCNh:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return s}));var r=n("SpAZ");function i(...t){return s(t)}function s(t){return 0===t.length?r.a:1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},nYR2:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("7o/Q"),i=n("quSY");function s(t){return e=>e.lift(new o(t))}class o{constructor(t){this.callback=t}call(t,e){return e.subscribe(new a(t,this.callback))}}class a extends r.a{constructor(t,e){super(t),this.add(new i.a(e))}}},nZYK:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("kU1M");e.switchMap=function(t){return r.switchMap(t)(this)}},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},oB13:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("EQ5u");function i(t,e){return function(n){let i;if(i="function"==typeof t?t:function(){return t},"function"==typeof e)return n.lift(new s(i,e));const o=Object.create(n,r.b);return o.source=n,o.subjectFactory=i,o}}class s{constructor(t,e){this.subjectFactory=t,this.selector=e}call(t,e){const{selector:n}=this,r=this.subjectFactory(),i=n(r).subscribe(t);return i.add(e.subscribe(r)),i}}},pLZG:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){return n.lift(new s(t,e))}}class s{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.predicate,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}},pjAE:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})()},pxpQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return a}));var r=n("7o/Q"),i=n("WMd4");function s(t,e=0){return function(n){return n.lift(new o(t,e))}}class o{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new u(t,this.destination)))}_next(t){this.scheduleMessage(i.a.createNext(t))}_error(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}class u{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.r(e),n.d(e,"LogLevel",(function(){return o})),n.d(e,"Logger",(function(){return h})),n.d(e,"setLogLevel",(function(){return f})),n.d(e,"setUserLogHandler",(function(){return d}));var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=c[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function f(t){s.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qCKp:function(t,e,n){"use strict";n.r(e),n.d(e,"Observable",(function(){return r.a})),n.d(e,"ConnectableObservable",(function(){return i.a})),n.d(e,"GroupedObservable",(function(){return s.a})),n.d(e,"observable",(function(){return o.a})),n.d(e,"Subject",(function(){return a.a})),n.d(e,"BehaviorSubject",(function(){return u.a})),n.d(e,"ReplaySubject",(function(){return c.a})),n.d(e,"AsyncSubject",(function(){return l.a})),n.d(e,"asap",(function(){return h.a})),n.d(e,"asapScheduler",(function(){return h.b})),n.d(e,"async",(function(){return f.a})),n.d(e,"asyncScheduler",(function(){return f.b})),n.d(e,"queue",(function(){return d.a})),n.d(e,"queueScheduler",(function(){return d.b})),n.d(e,"animationFrame",(function(){return b})),n.d(e,"animationFrameScheduler",(function(){return v})),n.d(e,"VirtualTimeScheduler",(function(){return _})),n.d(e,"VirtualAction",(function(){return w})),n.d(e,"Scheduler",(function(){return E.a})),n.d(e,"Subscription",(function(){return C.a})),n.d(e,"Subscriber",(function(){return S.a})),n.d(e,"Notification",(function(){return A.a})),n.d(e,"NotificationKind",(function(){return A.b})),n.d(e,"pipe",(function(){return x.a})),n.d(e,"noop",(function(){return T.a})),n.d(e,"identity",(function(){return I.a})),n.d(e,"isObservable",(function(){return O})),n.d(e,"ArgumentOutOfRangeError",(function(){return D.a})),n.d(e,"EmptyError",(function(){return k.a})),n.d(e,"ObjectUnsubscribedError",(function(){return N.a})),n.d(e,"UnsubscriptionError",(function(){return j.a})),n.d(e,"TimeoutError",(function(){return P.a})),n.d(e,"bindCallback",(function(){return R.a})),n.d(e,"bindNodeCallback",(function(){return U})),n.d(e,"combineLatest",(function(){return H.b})),n.d(e,"concat",(function(){return G.a})),n.d(e,"defer",(function(){return W.a})),n.d(e,"empty",(function(){return $.b})),n.d(e,"forkJoin",(function(){return J.a})),n.d(e,"from",(function(){return Q.a})),n.d(e,"fromEvent",(function(){return K.a})),n.d(e,"fromEventPattern",(function(){return Y.a})),n.d(e,"generate",(function(){return Z})),n.d(e,"iif",(function(){return tt})),n.d(e,"interval",(function(){return nt})),n.d(e,"merge",(function(){return it.a})),n.d(e,"never",(function(){return ot})),n.d(e,"of",(function(){return at.a})),n.d(e,"onErrorResumeNext",(function(){return ut})),n.d(e,"pairs",(function(){return ct})),n.d(e,"partition",(function(){return pt})),n.d(e,"race",(function(){return gt.a})),n.d(e,"range",(function(){return mt})),n.d(e,"throwError",(function(){return vt.a})),n.d(e,"timer",(function(){return bt.a})),n.d(e,"using",(function(){return _t})),n.d(e,"zip",(function(){return wt.b})),n.d(e,"scheduled",(function(){return Et.a})),n.d(e,"EMPTY",(function(){return $.a})),n.d(e,"NEVER",(function(){return st})),n.d(e,"config",(function(){return Ct.a}));var r=n("HDdC"),i=n("EQ5u"),s=n("OQgR"),o=n("kJWO"),a=n("XNiG"),u=n("2Vo4"),c=n("jtHE"),l=n("NHP+"),h=n("7Hc7"),f=n("D0XW"),d=n("qgXg"),p=n("3N8a");class g extends p.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}var m=n("IjjT");class y extends m.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const v=new y(g),b=v;let _=(()=>{class t extends m.a{constructor(t=w,e=Number.POSITIVE_INFINITY){super(t,()=>this.frame),this.maxFrames=e,this.frame=0,this.index=-1}flush(){const{actions:t,maxFrames:e}=this;let n,r;for(;(r=t[0])&&r.delay<=e&&(t.shift(),this.frame=r.delay,!(n=r.execute(r.state,r.delay))););if(n){for(;r=t.shift();)r.unsubscribe();throw n}}}return t.frameTimeFactor=10,t})();class w extends p.a{constructor(t,e,n=(t.index+=1)){super(t,e),this.scheduler=t,this.work=e,this.index=n,this.active=!0,this.index=t.index=n}schedule(t,e=0){if(!this.id)return super.schedule(t,e);this.active=!1;const n=new w(this.scheduler,this.work);return this.add(n),n.schedule(t,e)}requestAsyncId(t,e,n=0){this.delay=t.frame+n;const{actions:r}=t;return r.push(this),r.sort(w.sortActions),!0}recycleAsyncId(t,e,n=0){}_execute(t,e){if(!0===this.active)return super._execute(t,e)}static sortActions(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1}}var E=n("Y/cZ"),C=n("quSY"),S=n("7o/Q"),A=n("WMd4"),x=n("mCNh"),T=n("KqfI"),I=n("SpAZ");function O(t){return!!t&&(t instanceof r.a||"function"==typeof t.lift&&"function"==typeof t.subscribe)}var D=n("4I5i"),k=n("sVev"),N=n("9ppp"),j=n("pjAE"),P=n("Y6u4"),R=n("QqCr"),F=n("lJxs"),M=n("8Qeq"),L=n("z+Ro"),V=n("DH7j");function U(t,e,n){if(e){if(!Object(L.a)(e))return(...r)=>U(t,n)(...r).pipe(Object(F.a)(t=>Object(V.a)(t)?e(...t):e(t)));n=e}return function(...e){const i={subject:void 0,args:e,callbackFunc:t,scheduler:n,context:this};return new r.a(r=>{const{context:s}=i;let{subject:o}=i;if(n)return n.schedule(B,0,{params:i,subscriber:r,context:s});if(!o){o=i.subject=new l.a;const n=(...t)=>{const e=t.shift();e?o.error(e):(o.next(t.length<=1?t[0]:t),o.complete())};try{t.apply(s,[...e,n])}catch(a){Object(M.a)(o)?o.error(a):console.warn(a)}}return o.subscribe(r)})}}function B(t){const{params:e,subscriber:n,context:r}=t,{callbackFunc:i,args:s,scheduler:o}=e;let a=e.subject;if(!a){a=e.subject=new l.a;const t=(...t)=>{const e=t.shift();this.add(e?o.schedule(z,0,{err:e,subject:a}):o.schedule(q,0,{value:t.length<=1?t[0]:t,subject:a}))};try{i.apply(r,[...s,t])}catch(u){this.add(o.schedule(z,0,{err:u,subject:a}))}}this.add(a.subscribe(n))}function q(t){const{value:e,subject:n}=t;n.next(e),n.complete()}function z(t){const{err:e,subject:n}=t;n.error(e)}var H=n("itXk"),G=n("GyhO"),W=n("NXyV"),$=n("EY2u"),J=n("cp0P"),Q=n("Cfvw"),K=n("xgIS"),Y=n("04ZW");function Z(t,e,n,i,s){let o,a;return 1==arguments.length?(a=t.initialState,e=t.condition,n=t.iterate,o=t.resultSelector||I.a,s=t.scheduler):void 0===i||Object(L.a)(i)?(a=t,o=I.a,s=i):(a=t,o=i),new r.a(t=>{let r=a;if(s)return s.schedule(X,0,{subscriber:t,iterate:n,condition:e,resultSelector:o,state:r});for(;;){if(e){let n;try{n=e(r)}catch(i){return void t.error(i)}if(!n){t.complete();break}}let s;try{s=o(r)}catch(i){return void t.error(i)}if(t.next(s),t.closed)break;try{r=n(r)}catch(i){return void t.error(i)}}})}function X(t){const{subscriber:e,condition:n}=t;if(e.closed)return;if(t.needIterate)try{t.state=t.iterate(t.state)}catch(i){return void e.error(i)}else t.needIterate=!0;if(n){let r;try{r=n(t.state)}catch(i){return void e.error(i)}if(!r)return void e.complete();if(e.closed)return}let r;try{r=t.resultSelector(t.state)}catch(i){return void e.error(i)}return e.closed||(e.next(r),e.closed)?void 0:this.schedule(t)}function tt(t,e=$.a,n=$.a){return Object(W.a)(()=>t()?e:n)}var et=n("Y7HM");function nt(t=0,e=f.a){return(!Object(et.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=f.a),new r.a(n=>(n.add(e.schedule(rt,t,{subscriber:n,counter:0,period:t})),n))}function rt(t){const{subscriber:e,counter:n,period:r}=t;e.next(n),this.schedule({subscriber:e,counter:n+1,period:r},r)}var it=n("VRyK");const st=new r.a(T.a);function ot(){return st}var at=n("LRne");function ut(...t){if(0===t.length)return $.a;const[e,...n]=t;return 1===t.length&&Object(V.a)(e)?ut(...e):new r.a(t=>{const r=()=>t.add(ut(...n).subscribe(t));return Object(Q.a)(e).subscribe({next(e){t.next(e)},error:r,complete:r})})}function ct(t,e){return new r.a(e?n=>{const r=Object.keys(t),i=new C.a;return i.add(e.schedule(lt,0,{keys:r,index:0,subscriber:n,subscription:i,obj:t})),i}:e=>{const n=Object.keys(t);for(let r=0;r<n.length&&!e.closed;r++){const i=n[r];t.hasOwnProperty(i)&&e.next([i,t[i]])}e.complete()})}function lt(t){const{keys:e,index:n,subscriber:r,subscription:i,obj:s}=t;if(!r.closed)if(n<e.length){const t=e[n];r.next([t,s[t]]),i.add(this.schedule({keys:e,index:n+1,subscriber:r,subscription:i,obj:s}))}else r.complete()}var ht=n("F97/"),ft=n("SeVD"),dt=n("pLZG");function pt(t,e,n){return[Object(dt.a)(e,n)(new r.a(Object(ft.a)(t))),Object(dt.a)(Object(ht.a)(e,n))(new r.a(Object(ft.a)(t)))]}var gt=n("Nv8m");function mt(t=0,e,n){return new r.a(r=>{void 0===e&&(e=t,t=0);let i=0,s=t;if(n)return n.schedule(yt,0,{index:i,count:e,start:t,subscriber:r});for(;;){if(i++>=e){r.complete();break}if(r.next(s++),r.closed)break}})}function yt(t){const{start:e,index:n,count:r,subscriber:i}=t;n>=r?i.complete():(i.next(e),i.closed||(t.index=n+1,t.start=e+1,this.schedule(t)))}var vt=n("z6cu"),bt=n("PqYM");function _t(t,e){return new r.a(n=>{let r,i;try{r=t()}catch(o){return void n.error(o)}try{i=e(r)}catch(o){return void n.error(o)}const s=(i?Object(Q.a)(i):$.a).subscribe(n);return()=>{s.unsubscribe(),r&&r.unsubscribe()}})}var wt=n("1uah"),Et=n("7HRe"),Ct=n("2fFW")},qgXg:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return u}));var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("DH7j"),i=n("XoHu"),s=n("n6bG"),o=n("pjAE");let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof o.a?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o.a?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new o.a(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof o.a?e.errors:e),[])}},sVev:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})()},"tf+s":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("7Hc7"),s=n("Y7HM");class o extends r.a{constructor(t,e=0,n=i.a){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(s.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=i.a)}static create(t,e=0,n=i.a){return new o(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(o.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function a(t,e=0){return function(n){return n.lift(new u(t,e))}}class u{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new o(e,this.delay,this.scheduler).subscribe(t)}}},tnsW:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("zx2A");function i(t){return function(e){return e.lift(new s(t))}}class s{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new o(t,this.durationSelector))}}class o extends r.b{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const i=Object(r.c)(n,new r.a(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("7o/Q"),i=n("KqfI"),s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i.a,this._tapError=i.a,this._tapComplete=i.a,this._tapError=n||i.a,this._tapComplete=r||i.a,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i.a,this._tapError=e.error||i.a,this._tapComplete=e.complete||i.a)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("oB13"),i=n("x+ZX"),s=n("XNiG");function o(){return new s.a}function a(){return t=>Object(i.a)()(Object(r.a)(o)(t))}},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,s=n("b1EX"),o=n("zVF4"),a=n("S+S0"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.ErrorFactory("app","Firebase",c),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new u.Logger("@firebase/app"),d=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=o.deepCopy(t),this.container=new a.ComponentContainer(e.name),this._addComponent(new a.Component("app",(function(){return u}),"PUBLIC"));try{for(var c=s.__values(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name="[DEFAULT]");var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(o.contains(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,s,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&o&&u.push("and"),o&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(u.join(" "))}c(new a.Component(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});u.setUserLogHandler(t,e)},apps:null,SDK_VERSION:"7.20.0",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!o.contains(e,t=t||"[DEFAULT]"))throw l.create("no-app",{appName:t});return e[t]}function c(a){var u,c,h=a.name;if(n.has(h))return f.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var d=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&o.deepExtend(d,a.serviceProps),r[h]=d,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,a.multipleInstances?t:[])}}try{for(var p=s.__values(Object.keys(e)),g=p.next();!g.done;g=p.next())e[g.value]._addComponent(a)}catch(m){u={error:m}}finally{try{g&&!g.done&&(c=p.return)&&c.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(d);return e.INTERNAL=s.__assign(s.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){o.deepExtend(e,t)},createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,deepExtend:o.deepExtend}),e}(),g=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(o.isBrowser()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o.isNode()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),y.apply(void 0,t)};var v=p;!function(t,e){t.INTERNAL.registerComponent(new a.Component("platform-logger",(function(t){return new g(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.11",void 0),t.registerVersion("fire-js","")}(v),e.default=v,e.firebase=v},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(){return function(t){return t.lift(new s(t))}}class s{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new o(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class o extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},x7I3:function(t,e,n){"use strict";n.r(e),n.d(e,"ErrorCode",(function(){return Xn})),n.d(e,"EventType",(function(){return tr})),n.d(e,"WebChannel",(function(){return er})),n.d(e,"XhrIo",(function(){return nr})),n.d(e,"createWebChannelTransport",(function(){return Zn}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var s,o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},a=a||{},u=o||self;function c(){}function l(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function h(t){var e=l(t);return"array"==e||"object"==e&&"number"==typeof t.length}function f(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var d="closure_uid_"+(1e9*Math.random()>>>0),p=0;function g(t,e,n){return t.call.apply(t.bind,arguments)}function m(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function y(t,e,n){return(y=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g:m).apply(null,arguments)}function v(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var b=Date.now;function _(t,e){function n(){}n.prototype=e.prototype,t.S=e.prototype,t.prototype=new n,t.prototype.constructor=t}function w(){this.j=this.j,this.i=this.i}w.prototype.j=!1,w.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,d)&&t[d]||(t[d]=++p)}(this)},w.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var E=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},C=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function S(t){return Array.prototype.concat.apply([],arguments)}function A(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function x(t){return/^[\s\xa0]*$/.test(t)}var T,I=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function O(t,e){return-1!=t.indexOf(e)}function D(t,e){return t<e?-1:t>e?1:0}t:{var k=u.navigator;if(k){var N=k.userAgent;if(N){T=N;break t}}T=""}function j(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function P(t){var e={};for(var n in t)e[n]=t[n];return e}var R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<R.length;s++)n=R[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function M(t){return M[" "](t),t}M[" "]=c;var L,V,U=O(T,"Opera"),B=O(T,"Trident")||O(T,"MSIE"),q=O(T,"Edge"),z=q||B,H=O(T,"Gecko")&&!(O(T.toLowerCase(),"webkit")&&!O(T,"Edge"))&&!(O(T,"Trident")||O(T,"MSIE"))&&!O(T,"Edge"),G=O(T.toLowerCase(),"webkit")&&!O(T,"Edge");function W(){var t=u.document;return t?t.documentMode:void 0}t:{var $="",J=(V=T,H?/rv:([^\);]+)(\)|;)/.exec(V):q?/Edge\/([\d\.]+)/.exec(V):B?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(V):G?/WebKit\/(\S+)/.exec(V):U?/(?:Version)[ \/]?(\S+)/.exec(V):void 0);if(J&&($=J?J[1]:""),B){var Q=W();if(null!=Q&&Q>parseFloat($)){L=String(Q);break t}}L=$}var K={};function Y(t){return function(t,e){var n=K;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=I(String(L)).split("."),r=I(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=D(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||D(0==o[2].length,0==a[2].length)||D(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}var Z=u.document&&B&&(W()||parseInt(L,10))||void 0,X=!B||9<=Number(Z),tt=B&&!Y("9"),et=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",c,e),u.removeEventListener("test",c,e)}catch(n){}return t}();function nt(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function rt(t,e){if(nt.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(H){t:{try{M(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:it[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}nt.prototype.b=function(){this.defaultPrevented=!0},_(rt,nt);var it={2:"touch",3:"pen",4:"mouse"};rt.prototype.b=function(){rt.S.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,tt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var st="closure_listenable_"+(1e6*Math.random()|0),ot=0;function at(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++ot,this.Y=this.Z=!1}function ut(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function ct(t){this.src=t,this.a={},this.b=0}function lt(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=E(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(ut(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ht(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}ct.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=ht(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new at(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var ft="closure_lm_"+(1e6*Math.random()|0),dt={};function pt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,s){if(Array.isArray(n)){for(var o=0;o<n.length;o++)t(e,n[o],r,i,s);return null}return r=Et(r),e&&e[st]?e.wa(n,r,f(i)?!!i.capture:!!i,s):gt(e,n,r,!0,i,s)}(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)pt(t,e[s],n,r,i);return null}return n=Et(n),t&&t[st]?t.va(e,n,f(r)?!!r.capture:!!r,i):gt(t,e,n,!1,r,i)}function gt(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=f(i)?!!i.capture:!!i;if(o&&!X)return null;var a=_t(t);if(a||(t[ft]=a=new ct(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=bt,e=X?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)et||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(yt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function mt(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[st])lt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(yt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=_t(e))?(lt(n,t),0==n.b&&(n.src=null,e[ft]=null)):ut(t)}}}function yt(t){return t in dt?dt[t]:dt[t]="on"+t}function vt(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&mt(t),n.call(r,e)}function bt(t,e){if(t.Y)return!0;if(!X){if(!e)t:{e=["window","event"];for(var n=u,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return vt(t,e=new rt(e,this))}return vt(t,new rt(e,this))}function _t(t){return(t=t[ft])instanceof ct?t:null}var wt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Et(t){return"function"==l(t)?t:(t[wt]||(t[wt]=function(e){return t.handleEvent(e)}),t[wt])}function Ct(){w.call(this),this.c=new ct(this),this.J=this,this.C=null}function St(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,u=o.ca||o.src;o.Z&&lt(t.c,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}_(Ct,w),Ct.prototype[st]=!0,(s=Ct.prototype).addEventListener=function(t,e,n,r){pt(this,t,e,n,r)},s.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,s){if(Array.isArray(n))for(var o=0;o<n.length;o++)t(e,n[o],r,i,s);else i=f(i)?!!i.capture:!!i,r=Et(r),e&&e[st]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=ht(o=e.a[n],r,i,s))&&(ut(o[r]),Array.prototype.splice.call(o,r,1),0==o.length&&(delete e.a[n],e.b--))):e&&(e=_t(e))&&(n=e.a[n.toString()],e=-1,n&&(e=ht(n,r,i,s)),(r=-1<e?n[e]:null)&&mt(r))}(this,t,e,n,r)},s.dispatchEvent=function(t){var e,n=this.C;if(n)for(e=[];n;n=n.C)e.push(n);n=this.J;var r=t.type||t;if("string"==typeof t)t=new nt(t,n);else if(t instanceof nt)t.target=t.target||n;else{var i=t;F(t=new nt(r,n),i)}if(i=!0,e)for(var s=e.length-1;0<=s;s--){var o=t.a=e[s];i=St(o,r,!0,t)&&i}if(i=St(o=t.a=n,r,!0,t)&&i,i=St(o,r,!1,t)&&i,e)for(s=0;s<e.length;s++)i=St(o=t.a=e[s],r,!1,t)&&i;return i},s.G=function(){if(Ct.S.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ut(n[r]);delete e.a[t],e.b--}}this.C=null},s.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},s.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var At=u.JSON.stringify;function xt(){this.b=this.a=null}var Tt,It=new(function(){function t(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new Dt}),(function(t){t.reset()}),100);function Ot(){var t=Pt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Dt(){this.next=this.b=this.a=null}function kt(t){u.setTimeout((function(){throw t}),0)}function Nt(t,e){Tt||function(){var t=u.Promise.resolve(void 0);Tt=function(){t.then(Rt)}}(),jt||(Tt(),jt=!0),Pt.add(t,e)}xt.prototype.add=function(t,e){var n=It.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Dt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Dt.prototype.reset=function(){this.next=this.b=this.a=null};var jt=!1,Pt=new xt;function Rt(){for(var t;t=Ot();){try{t.a.call(t.b)}catch(n){kt(n)}var e=It;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}jt=!1}function Ft(t,e){Ct.call(this),this.b=t||1,this.a=e||u,this.f=y(this.Ya,this),this.g=b()}function Mt(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Lt(t,e,n){if("function"==l(t))n&&(t=y(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=y(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function Vt(t){t.a=Lt((function(){t.a=null,t.c&&(t.c=!1,Vt(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}_(Ft,Ct),(s=Ft.prototype).aa=!1,s.M=null,s.Ya=function(){if(this.aa){var t=b()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(Mt(this),this.start()))}},s.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=b())},s.G=function(){Ft.S.G.call(this),Mt(this),delete this.a};var Ut=function(t){function e(e,n,r){var i=t.call(this)||this;return i.g=null!=r?e.bind(r):e,i.h=n,i.b=null,i.c=!1,i.a=null,i}return function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Vt(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(u.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(w);function Bt(t){w.call(this),this.b=t,this.a={}}_(Bt,w);var qt=[];function zt(t,e,n,r){Array.isArray(n)||(n&&(qt[0]=n.toString()),n=qt);for(var i=0;i<n.length;i++){var s=pt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function Ht(t){j(t.a,(function(t,e){this.a.hasOwnProperty(e)&&mt(t)}),t),t.a={}}function Gt(){this.a=!0}function Wt(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return At(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}Bt.prototype.G=function(){Bt.S.G.call(this),Ht(this)},Bt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Gt.prototype.info=function(){};var $t=null;function Jt(){return $t=$t||new Ct}function Qt(t){nt.call(this,"serverreachability",t)}function Kt(t){var e=Jt();e.dispatchEvent(new Qt(e,t))}function Yt(t){nt.call(this,"statevent",t)}function Zt(t){var e=Jt();e.dispatchEvent(new Yt(e,t))}function Xt(t){nt.call(this,"timingevent",t)}function te(t,e){if("function"!=l(t))throw Error("Fn must not be null and must be a function");return u.setTimeout((function(){t()}),e)}_(Qt,nt),_(Yt,nt),_(Xt,nt);var ee={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},ne={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function re(){}function ie(){}re.prototype.a=null;var se,oe={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function ae(){nt.call(this,"d")}function ue(){nt.call(this,"c")}function ce(){}function le(t,e,n,r){this.g=t,this.c=e,this.f=n,this.T=r||1,this.J=new Bt(this),this.P=he,this.R=new Ft(t=z?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}_(ae,nt),_(ue,nt),_(ce,re),se=new ce;var he=45e3,fe={},de={};function pe(t,e,n){t.H=1,t.i=Fe(De(e)),t.j=n,t.I=!0,ge(t,null)}function ge(t,e){t.u=b(),ve(t),t.l=De(t.i);var n=t.l,r=t.T;Array.isArray(r)||(r=[String(r)]),Qe(n.b,"t",r),t.D=0,t.a=Hn(t.g,t.g.C?e:null),0<t.O&&(t.F=new Ut(y(t.Ca,t,t.a),t.O)),zt(t.J,t.a,"readystatechange",t.Wa),e=t.B?P(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Kt(1),function(t,e,n,r,i,s){t.info((function(){if(t.a)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o}))}(t.c,t.m,t.l,t.f,t.T,t.j)}function me(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=ye(t,n);if(i==de){4==e&&(t.h=4,Zt(14),r=!1),Wt(t.c,t.f,null,"[Incomplete Response]");break}if(i==fe){t.h=4,Zt(15),Wt(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Wt(t.c,t.f,i,null),Ce(t,i)}4==e&&0==n.length&&(t.h=1,Zt(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.W&&(t.W=!0,(e=t.g).a==t&&e.V&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Fn(e),e.F=!0)):(Wt(t.c,t.f,n,"[Invalid Chunked Response]"),Ee(t),we(t))}function ye(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?de:(n=Number(e.substring(n,r)),isNaN(n)?fe:(r+=1)+n>e.length?de:(e=e.substr(r,n),t.D=r+n,e))}function ve(t){t.U=b()+t.P,be(t,t.P)}function be(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=te(y(t.Ua,t),e)}function _e(t){t.o&&(u.clearTimeout(t.o),t.o=null)}function we(t){0==t.g.v||t.A||Vn(t.g,t)}function Ee(t){_e(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Mt(t.R),Ht(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Ce(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||nn(n.b,t)))if(n.I=t.N,!t.C&&nn(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(m){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Ln(n),Tn(n)}Rn(n),Zt(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=te(y(n.Ra,n),6e3));if(1>=en(n.b)&&n.ea){try{n.ea()}catch(m){}n.ea=void 0}}else Bn(n,11)}else if((t.C||n.a==t)&&Ln(n),!x(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(O(l,"spdy")||O(l,"quic")||O(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(rn(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Re(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.V&&(n.N=b()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=zn(u,u.C?u.ga:null,u.fa),d.C){sn(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(_e(p),ve(p)),u.a=d}else Pn(u);0<n.g.length&&Dn(n)}else"stop"!=i[0]&&"close"!=i[0]||Bn(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Bn(n,7):xn(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Kt(4)}catch(m){}}function Se(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(h(t)||"string"==typeof t)C(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(h(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(h(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Ae(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ae)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function xe(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Te(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Te(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Te(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(s=le.prototype).setTimeout=function(t){this.P=t},s.Wa=function(t){t=t.target;var e=this.F;e&&3==En(t)?e.f():this.Ca(t)},s.Ca=function(t){try{if(t==this.a)t:{var e=En(this.a),n=this.a.ua(),r=this.a.X();if(!(3>e||3==e&&!z&&!this.a.$())){this.A||4!=e||7==n||Kt(8==n||0>=r?3:2),_e(this);var i=this.a.X();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o}))}(this.c,this.m,this.l,this.f,this.T,e,i),this.b){if(this.V&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(o)){var u=o;break e}}u=null}if(!u){this.b=!1,this.h=3,Zt(12),Ee(this),we(this);break t}Wt(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Ce(this,u)}this.I?(me(this,e,s),z&&this.b&&3==e&&(zt(this.J,this.R,"tick",this.Va),this.R.start())):(Wt(this.c,this.f,s,null),Ce(this,s)),4==e&&Ee(this),this.b&&!this.A&&(4==e?Vn(this.g,this):(this.b=!1,ve(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,Zt(12)):(this.h=0,Zt(13)),Ee(this),we(this)}}}catch(c){}},s.Va=function(){if(this.a){var t=En(this.a),e=this.a.$();this.D<e.length&&(_e(this),me(this,t,e),this.b&&4!=t&&ve(this))}},s.cancel=function(){this.A=!0,Ee(this)},s.Ua=function(){this.o=null;var t=b();0<=t-this.U?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(Kt(3),Zt(17)),Ee(this),this.h=2,we(this)):be(this,this.U-t)},(s=Ae.prototype).K=function(){xe(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},s.L=function(){return xe(this),this.a.concat()},s.get=function(t,e){return Te(this.b,t)?this.b[t]:e},s.set=function(t,e){Te(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},s.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var Ie=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Oe(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Oe){this.a=void 0!==e?e:t.a,ke(this,t.f),this.j=t.j,Ne(this,t.c),je(this,t.h),this.g=t.g,e=t.b;var n=new Ge;n.c=e.c,e.a&&(n.a=new Ae(e.a),n.b=e.b),Pe(this,n),this.i=t.i}else t&&(n=String(t).match(Ie))?(this.a=!!e,ke(this,n[1]||"",!0),this.j=Me(n[2]||""),Ne(this,n[3]||"",!0),je(this,n[4]),this.g=Me(n[5]||"",!0),Pe(this,n[6]||"",!0),this.i=Me(n[7]||"")):(this.a=!!e,this.b=new Ge(null,this.a))}function De(t){return new Oe(t)}function ke(t,e,n){t.f=n?Me(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Ne(t,e,n){t.c=n?Me(e,!0):e}function je(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Pe(t,e,n){e instanceof Ge?(t.b=e,function(t,e){e&&!t.f&&(We(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&($e(this,e),Qe(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Le(e,ze)),t.b=new Ge(e,t.a))}function Re(t,e,n){t.b.set(e,n)}function Fe(t){return Re(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^b()).toString(36)),t}function Me(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Le(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Ve),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ve(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Oe.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Le(e,Ue,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Le(e,Ue,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Le(n,"/"==n.charAt(0)?qe:Be,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Le(n,He)),t.join("")};var Ue=/[#\/\?@]/g,Be=/[#\?:]/g,qe=/[#\?]/g,ze=/[#\?@]/g,He=/#/g;function Ge(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function We(t){t.a||(t.a=new Ae,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function $e(t,e){We(t),e=Ke(t,e),Te(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Te((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&xe(t)))}function Je(t,e){return We(t),e=Ke(t,e),Te(t.a.b,e)}function Qe(t,e,n){$e(t,e),0<n.length&&(t.c=null,t.a.set(Ke(t,e),A(n)),t.b+=n.length)}function Ke(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Ye(t,e){this.b=t,this.a=e}function Ze(t){this.g=t||Xe,t=u.PerformanceNavigationTiming?0<(t=u.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(u.ia&&u.ia.ya&&u.ia.ya()&&u.ia.ya().qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(s=Ge.prototype).add=function(t,e){We(this),this.c=null,t=Ke(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},s.forEach=function(t,e){We(this),this.a.forEach((function(n,r){C(n,(function(n){t.call(e,n,r,this)}),this)}),this)},s.L=function(){We(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},s.K=function(t){We(this);var e=[];if("string"==typeof t)Je(this,t)&&(e=S(e,this.a.get(Ke(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=S(e,t[n])}return e},s.set=function(t,e){return We(this),this.c=null,Je(this,t=Ke(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},s.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},s.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var Xe=10;function tn(t){return!!t.b||!!t.a&&t.a.size>=t.f}function en(t){return t.b?1:t.a?t.a.size:0}function nn(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function rn(t,e){t.a?t.a.add(e):t.b=e}function sn(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function on(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var s=i(t.a.values()),o=s.next();!o.done;o=s.next())r=r.concat(o.value.s)}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return r}return A(t.c)}function an(){}function un(){this.a=new an}function cn(t,e,n){var r=n||"";try{Se(t,(function(t,n){var i=t;f(t)&&(i=At(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function ln(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}Ze.prototype.cancel=function(){var t,e;if(this.c=on(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=i(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(s){t={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},an.prototype.stringify=function(t){return u.JSON.stringify(t,void 0)},an.prototype.parse=function(t){return u.JSON.parse(t,void 0)};var hn=u.JSON.parse;function fn(t){Ct.call(this),this.headers=new Ae,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=dn,this.D=this.F=!1}_(fn,Ct);var dn="",pn=/^https?$/i,gn=["POST","PUT"];function mn(t){return"content-type"==t.toLowerCase()}function yn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,vn(t),_n(t)}function vn(t){t.u||(t.u=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function bn(t){if(t.b&&void 0!==a&&(!t.s[1]||4!=En(t)||2!=t.X()))if(t.l&&4==En(t))Lt(t.za,0,t);else if(t.dispatchEvent("readystatechange"),4==En(t)){t.b=!1;try{var e,n=t.X();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match(Ie)[1]||null;if(!s&&u.self&&u.self.location){var o=u.self.location.protocol;s=o.substr(0,o.length-1)}i=!pn.test(s?s.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var c=2<En(t)?t.a.statusText:""}catch(l){c=""}t.f=c+" ["+t.X()+"]",vn(t)}}finally{_n(t)}}}function _n(t,e){if(t.a){wn(t);var n=t.a,r=t.s[0]?c:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function wn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(u.clearTimeout(t.m),t.m=null)}function En(t){return t.a?t.a.readyState:0}function Cn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return j(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Re(t,e,n))}function Sn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function An(t){this.pa=0,this.g=[],this.c=new Gt,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=Sn("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=Sn("baseRetryDelayMs",5e3,t),this.Ma=Sn("retryDelaySeedMs",1e4,t),this.Ja=Sn("forwardChannelMaxRetries",2,t),this.ma=Sn("forwardChannelRequestTimeoutMs",2e4,t),this.Ka=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Ze(t&&t.concurrentRequestLimit),this.ka=new un,this.da=t&&t.fastHandshake||!1,this.Ga=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&t&&t.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function xn(t){if(In(t),3==t.v){var e=t.R++,n=De(t.B);Re(n,"SID",t.J),Re(n,"RID",e),Re(n,"TYPE","terminate"),Nn(t,n),(e=new le(t,t.c,e,void 0)).H=2,e.i=Fe(De(n)),n=!1,u.navigator&&u.navigator.sendBeacon&&(n=u.navigator.sendBeacon(e.i.toString(),"")),!n&&u.Image&&((new Image).src=e.i,n=!0),n||(e.a=Hn(e.g,null),e.a.ba(e.i)),e.u=b(),ve(e)}qn(t)}function Tn(t){t.a&&(Fn(t),t.a.cancel(),t.a=null)}function In(t){Tn(t),t.j&&(u.clearTimeout(t.j),t.j=null),Ln(t),t.b.cancel(),t.h&&("number"==typeof t.h&&u.clearTimeout(t.h),t.h=null)}function On(t,e){t.g.push(new Ye(t.La++,e)),3==t.v&&Dn(t)}function Dn(t){tn(t.b)||t.h||(t.h=!0,Nt(t.Ba,t),t.u=0)}function kn(t,e){var n;n=e?e.f:t.R++;var r=De(t.B);Re(r,"SID",t.J),Re(r,"RID",n),Re(r,"AID",t.P),Nn(t,r),t.i&&t.l&&Cn(r,t.i,t.l),n=new le(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=jn(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),rn(t.b,n),pe(n,r,e)}function Nn(t,e){t.f&&Se({},(function(t,n){Re(e,n,t)}))}function jn(t,e,n){n=Math.min(t.g.length,n);var r=t.f?y(t.f.Ha,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=s))s=Math.max(0,i[u].b-100),a=!1;else try{cn(l,o,"req"+c+"_")}catch(h){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Pn(t){t.a||t.j||(t.U=1,Nt(t.Aa,t),t.o=0)}function Rn(t){return!(t.a||t.j||3<=t.o||(t.U++,t.j=te(y(t.Aa,t),Un(t,t.o)),t.o++,0))}function Fn(t){null!=t.s&&(u.clearTimeout(t.s),t.s=null)}function Mn(t){t.a=new le(t,t.c,"rpc",t.U),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=De(t.la);Re(e,"RID","rpc"),Re(e,"SID",t.J),Re(e,"CI",t.H?"0":"1"),Re(e,"AID",t.P),Nn(t,e),Re(e,"TYPE","xmlhttp"),t.i&&t.l&&Cn(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Fe(De(e)),n.j=null,n.I=!0,ge(n,t)}function Ln(t){null!=t.m&&(u.clearTimeout(t.m),t.m=null)}function Vn(t,e){var n=null;if(t.a==e){Ln(t),Fn(t),t.a=null;var r=2}else{if(!nn(t.b,e))return;n=e.s,sn(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=b()-e.u;var i=t.u;(r=Jt()).dispatchEvent(new Xt(r,n,e,i)),Dn(t)}else Pn(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(en(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.Ia?0:t.Ja)||(t.h=te(y(t.Ba,t,e),Un(t,t.u)),t.u++,0)))}(t,e)||2==r&&Rn(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Bn(t,5);break;case 4:Bn(t,10);break;case 3:Bn(t,6);break;default:Bn(t,2)}}function Un(t,e){var n=t.Fa+Math.floor(Math.random()*t.Ma);return t.f||(n*=2),n*e}function Bn(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=y(t.Xa,t);n||(n=new Oe("//www.google.com/images/cleardot.gif"),u.location&&"http"==u.location.protocol||ke(n,"https"),Fe(n)),function(t,e){var n=new Gt;if(u.Image){var r=new Image;r.onload=v(ln,n,r,"TestLoadImage: loaded",!0,e),r.onerror=v(ln,n,r,"TestLoadImage: error",!1,e),r.onabort=v(ln,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=v(ln,n,r,"TestLoadImage: timeout",!1,e),u.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Zt(2);t.v=0,t.f&&t.f.ra(e),qn(t),In(t)}function qn(t){t.v=0,t.I=-1,t.f&&(0==on(t.b).length&&0==t.g.length||(t.b.c.length=0,A(t.g),t.g.length=0),t.f.qa())}function zn(t,e,n){var r=function(t){return t instanceof Oe?De(t):new Oe(t,void 0)}(n);if(""!=r.c)e&&Ne(r,e+"."+r.c),je(r,r.h);else{var i=u.location;r=function(t,e,n,r){var i=new Oe(null,void 0);return t&&ke(i,t),e&&Ne(i,e),n&&je(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.W&&j(t.W,(function(t,e){Re(r,e,t)})),n=t.na,(e=t.A)&&n&&Re(r,e,n),Re(r,"VER",t.ha),Nn(t,r),r}function Hn(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new fn(t.Ka)).F=t.C,e}function Gn(){}function Wn(){if(B&&!(10<=Number(Z)))throw Error("Environmental error: no available transport.")}function $n(t,e){Ct.call(this),this.a=new An(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!x(t)&&(this.a.i=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!x(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Kn(this)}function Jn(t){ae.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Qn(){ue.call(this),this.status=1}function Kn(t){this.a=t}(s=fn.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:se),this.a.onreadystatechange=y(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void yn(this,s)}t=n||"";var i=new Ae(this.headers);r&&Se(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=mn,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=u.FormData&&t instanceof u.FormData,!(0<=E(gn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{wn(this),0<this.o&&((this.D=function(t){return B&&Y(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=y(this.xa,this)):this.m=Lt(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){yn(this,s)}},s.xa=function(){void 0!==a&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},s.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),_n(this))},s.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),_n(this,!0)),fn.S.G.call(this)},s.za=function(){this.j||(this.A||this.l||this.g?bn(this):this.Ta())},s.Ta=function(){bn(this)},s.X=function(){try{return 2<En(this)?this.a.status:-1}catch(V){return-1}},s.$=function(){try{return this.a?this.a.responseText:""}catch(V){return""}},s.Na=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),hn(e)}},s.ua=function(){return this.h},s.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(s=An.prototype).ha=8,s.v=1,s.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new le(this,this.c,t,void 0),r=this.l;if(this.O&&(r?F(r=P(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=jn(this,n,e),Re(i=De(this.B),"RID",t),Re(i,"CVER",22),this.A&&Re(i,"X-HTTP-Session-Id",this.A),Nn(this,i),this.i&&r&&Cn(i,this.i,r),rn(this.b,n),this.Ga&&Re(i,"TYPE","init"),this.da?(Re(i,"$req",e),Re(i,"SID","null"),n.V=!0,pe(n,i,null)):pe(n,i,e),this.v=2}}else 3==this.v&&(t?kn(this,t):0==this.g.length||tn(this.b)||kn(this))},s.Aa=function(){if(this.j=null,Mn(this),this.V&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=te(y(this.Sa,this),t)}},s.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Tn(this),Mn(this))},s.Ra=function(){null!=this.m&&(this.m=null,Tn(this),Rn(this),Zt(19))},s.Xa=function(t){t?(this.c.info("Successfully pinged google.com"),Zt(2)):(this.c.info("Failed to ping google.com"),Zt(1))},(s=Gn.prototype).ta=function(){},s.sa=function(){},s.ra=function(){},s.qa=function(){},s.Ha=function(){},Wn.prototype.a=function(t,e){return new $n(t,e)},_($n,Ct),(s=$n.prototype).addEventListener=function(t,e,n,r){$n.S.addEventListener.call(this,t,e,n,r)},s.removeEventListener=function(t,e,n,r){$n.S.removeEventListener.call(this,t,e,n,r)},s.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var t=this.a,e=this.l,n=this.b||void 0;Zt(0),t.fa=e,t.W=n||{},t.H=t.T,t.B=zn(t,null,t.fa),Dn(t)},s.close=function(){xn(this.a)},s.Pa=function(t){if("string"==typeof t){var e={};e.__data__=t,On(this.a,e)}else this.g?((e={}).__data__=At(t),On(this.a,e)):On(this.a,t)},s.G=function(){this.a.f=null,delete this.f,xn(this.a),delete this.a,$n.S.G.call(this)},_(Jn,ae),_(Qn,ue),_(Kn,Gn),Kn.prototype.ta=function(){this.a.dispatchEvent("a")},Kn.prototype.sa=function(t){this.a.dispatchEvent(new Jn(t))},Kn.prototype.ra=function(t){this.a.dispatchEvent(new Qn(t))},Kn.prototype.qa=function(){this.a.dispatchEvent("b")},Wn.prototype.createWebChannel=Wn.prototype.a,$n.prototype.send=$n.prototype.Pa,$n.prototype.open=$n.prototype.Oa,$n.prototype.close=$n.prototype.close,ee.NO_ERROR=0,ee.TIMEOUT=8,ee.HTTP_ERROR=6,ne.COMPLETE="complete",ie.EventType=oe,oe.OPEN="a",oe.CLOSE="b",oe.ERROR="c",oe.MESSAGE="d",Ct.prototype.listen=Ct.prototype.va,fn.prototype.listenOnce=fn.prototype.wa,fn.prototype.getLastError=fn.prototype.Qa,fn.prototype.getLastErrorCode=fn.prototype.ua,fn.prototype.getStatus=fn.prototype.X,fn.prototype.getResponseJson=fn.prototype.Na,fn.prototype.getResponseText=fn.prototype.$,fn.prototype.send=fn.prototype.ba;var Yn={createWebChannelTransport:function(){return new Wn},ErrorCode:ee,EventType:ne,WebChannel:ie,XhrIo:fn},Zn=Yn.createWebChannelTransport,Xn=Yn.ErrorCode,tr=Yn.EventType,er=Yn.WebChannel,nr=Yn.XhrIo;e.default=Yn},xbPD:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t=null){return e=>e.lift(new s(t))}class s{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new o(t,this.defaultValue))}}class o extends r.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},xgIS:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("DH7j"),s=n("n6bG"),o=n("lJxs");function a(t,e,n,u){return Object(s.a)(n)&&(u=n,n=void 0),u?a(t,e,n).pipe(Object(o.a)(t=>Object(i.a)(t)?u(...t):u(t))):new r.a(r=>{!function t(e,n,r,i,s){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,r,s),o=()=>t.removeEventListener(n,r,s)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,r),o=()=>t.off(n,r)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,r),o=()=>t.removeListener(n,r)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let o=0,a=e.length;o<a;o++)t(e[o],n,r,i,s)}i.add(o)}(t,e,(function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),r,n)})}},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},z6cu:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("HDdC");function i(t,e){return new r.a(e?n=>e.schedule(s,0,{error:t,subscriber:n}):e=>e.error(t))}function s({error:t,subscriber:e}){e.error(t)}},zP0r:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t){return e=>e.lift(new s(t))}class s{constructor(t){this.total=t}call(t,e){return e.subscribe(new o(t,this.total))}}class o extends r.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("w1tV");function u(t){return{toString:t}.toString()}function c(t,e,n){return u(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const l=c("Inject",t=>({token:t})),h=c("Optional"),f=c("Self"),d=c("SkipSelf");var p=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function g(t){for(let e in t)if(t[e]===g)return e;throw Error("Could not find renamed property on target object.")}function m(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function y(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function v(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function b(t){return _(t,t[E])||_(t,t[A])}function _(t,e){return e&&e.token===t?e:null}function w(t){return t&&(t.hasOwnProperty(C)||t.hasOwnProperty(x))?t[C]:null}const E=g({\u0275prov:g}),C=g({\u0275inj:g}),S=g({\u0275provFallback:g}),A=g({ngInjectableDef:g}),x=g({ngInjectorDef:g});function T(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(T).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function I(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const O=g({__forward_ref__:g});function D(t){return t.__forward_ref__=D,t.toString=function(){return T(this())},t}function k(t){return N(t)?t():t}function N(t){return"function"==typeof t&&t.hasOwnProperty(O)&&t.__forward_ref__===D}const j="undefined"!=typeof globalThis&&globalThis,P="undefined"!=typeof window&&window,R="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,F="undefined"!=typeof global&&global,M=j||F||P||R,L=g({\u0275cmp:g}),V=g({\u0275dir:g}),U=g({\u0275pipe:g}),B=g({\u0275mod:g}),q=g({\u0275loc:g}),z=g({\u0275fac:g}),H=g({__NG_ELEMENT_ID__:g});class G{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=y({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const W=new G("INJECTOR",-1),$={},J=/\n/gm,Q=g({provide:String,useValue:g});let K,Y=void 0;function Z(t){const e=Y;return Y=t,e}function X(t){const e=K;return K=t,e}function tt(t,e=p.Default){if(void 0===Y)throw new Error("inject() must be called from an injection context");return null===Y?nt(t,void 0,e):Y.get(t,e&p.Optional?null:void 0,e)}function et(t,e=p.Default){return(K||tt)(k(t),e)}function nt(t,e,n){const r=b(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&p.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${T(t)}]`)}function rt(t){const e=[];for(let n=0;n<t.length;n++){const r=k(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=p.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof h||"Optional"===i.ngMetadataName||i===h?n|=p.Optional:i instanceof d||"SkipSelf"===i.ngMetadataName||i===d?n|=p.SkipSelf:i instanceof f||"Self"===i.ngMetadataName||i===f?n|=p.Self:t=i instanceof l||i===l?i.token:i}e.push(et(t,n))}else e.push(et(r))}return e}class it{get(t,e=$){if(e===$){const e=new Error(`NullInjectorError: No provider for ${T(t)}!`);throw e.name="NullInjectorError",e}return e}}class st{}class ot{}function at(t,e){t.forEach(t=>Array.isArray(t)?at(t,e):e(t))}function ut(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ct(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function lt(t,e,n){let r=ft(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function ht(t,e){const n=ft(t,e);if(n>=0)return t[1|n]}function ft(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}var dt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),pt=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const gt={},mt=[];let yt=0;function vt(t){return u(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===dt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||mt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||pt.Emulated,id:"c",styles:t.styles||mt,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=yt++,n.inputs=Ct(t.inputs,e),n.outputs=Ct(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(bt):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(_t):null,n})}function bt(t){return xt(t)||function(t){return t[V]||null}(t)}function _t(t){return function(t){return t[U]||null}(t)}const wt={};function Et(t){const e={type:t.type,bootstrap:t.bootstrap||mt,declarations:t.declarations||mt,imports:t.imports||mt,exports:t.exports||mt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&u(()=>{wt[t.id]=t.type}),e}function Ct(t,e){if(null==t)return gt;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const St=vt;function At(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function xt(t){return t[L]||null}function Tt(t,e){return t.hasOwnProperty(z)?t[z]:null}function It(t,e){const n=t[B]||null;if(!n&&!0===e)throw new Error(`Type ${T(t)} does not have '\u0275mod' property.`);return n}function Ot(t){return Array.isArray(t)&&"object"==typeof t[1]}function Dt(t){return Array.isArray(t)&&!0===t[1]}function kt(t){return 0!=(8&t.flags)}function Nt(t){return 2==(2&t.flags)}function jt(t){return 1==(1&t.flags)}function Pt(t){return null!==t.template}function Rt(t){return 0!=(512&t[2])}class Ft{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Mt(){return Lt}function Lt(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ut),Vt}function Vt(){const t=Bt(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===gt)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Ut(t,e,n,r){const i=Bt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:gt,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new Ft(u&&u.currentValue,e,o===gt),t[r]=e}function Bt(t){return t.__ngSimpleChanges__||null}Mt.ngInherit=!0;let qt=void 0;function zt(){return void 0!==qt?qt:"undefined"!=typeof document?document:void 0}function Ht(t){return!!t.listen}const Gt={createRenderer:(t,e)=>zt()};function Wt(t){for(;Array.isArray(t);)t=t[0];return t}function $t(t,e){return Wt(e[t+20])}function Jt(t,e){return Wt(e[t.index])}function Qt(t,e){return t.data[e+20]}function Kt(t,e){const n=e[t];return Ot(n)?n:n[0]}function Yt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Zt(t){return 128==(128&t[2])}function Xt(t,e){return null===t||null==e?null:t[e]}function te(t){t[18]=0}function ee(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const ne={lFrame:Se(null),bindingsEnabled:!0,checkNoChangesMode:!1};function re(){return ne.bindingsEnabled}function ie(){return ne.lFrame.lView}function se(){return ne.lFrame.tView}function oe(t){ne.lFrame.contextLView=t}function ae(){return ne.lFrame.previousOrParentTNode}function ue(t,e){ne.lFrame.previousOrParentTNode=t,ne.lFrame.isParent=e}function ce(){return ne.lFrame.isParent}function le(){ne.lFrame.isParent=!1}function he(){return ne.checkNoChangesMode}function fe(t){ne.checkNoChangesMode=t}function de(){const t=ne.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function pe(){return ne.lFrame.bindingIndex}function ge(){return ne.lFrame.bindingIndex++}function me(t){const e=ne.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ye(t,e){const n=ne.lFrame;n.bindingIndex=n.bindingRootIndex=t,ve(e)}function ve(t){ne.lFrame.currentDirectiveIndex=t}function be(t){const e=ne.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function _e(t){ne.lFrame.currentQueryIndex=t}function we(t,e){const n=Ce();ne.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function Ee(t,e){const n=Ce(),r=t[1];ne.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex}function Ce(){const t=ne.lFrame,e=null===t?null:t.child;return null===e?Se(t):e}function Se(t){const e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function Ae(){const t=ne.lFrame;return ne.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}const xe=Ae;function Te(){const t=Ae();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ie(){return ne.lFrame.selectedIndex}function Oe(t){ne.lFrame.selectedIndex=t}function De(){const t=ne.lFrame;return Qt(t.tView,t.selectedIndex)}function ke(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Ne(t,e,n){Re(t,e,3,n)}function je(t,e,n,r){(3&t[2])===n&&Re(t,e,n,r)}function Pe(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Re(t,e,n,r){const i=null!=r?r:-1;let s=0;for(let o=void 0!==r?65535&t[18]:0;o<e.length;o++)if("number"==typeof e[o+1]){if(s=e[o],null!=r&&s>=r)break}else e[o]<0&&(t[18]+=65536),(s<i||-1==i)&&(Fe(t,n,e,o),t[18]=(4294901760&t[18])+o+2),o++}function Fe(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,s.call(o)):s.call(o)}class Me{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Le(t,e,n){const r=Ht(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];Ue(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function Ve(t){return 3===t||4===t||6===t}function Ue(t){return 64===t.charCodeAt(0)}function Be(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||qe(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function qe(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function ze(t){return-1!==t}function He(t){return 32767&t}function Ge(t){return t>>16}function We(t,e){let n=Ge(t),r=e;for(;n>0;)r=r[15],n--;return r}function $e(t){return"string"==typeof t?t:null==t?"":""+t}function Je(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():$e(t)}const Qe=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(M))();function Ke(t){return t instanceof Function?t():t}let Ye=!0;function Ze(t){const e=Ye;return Ye=t,e}let Xe=0;function tn(t,e){const n=nn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,en(r.data,t),en(e,null),en(r.blueprint,null));const i=rn(t,e),s=t.injectorIndex;if(ze(i)){const t=He(i),n=We(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function en(t,e){t.push(0,0,0,0,0,0,0,0,e)}function nn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function rn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=e[6],r=1;for(;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function sn(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(H)&&(r=n[H]),null==r&&(r=n[H]=Xe++);const i=255&r,s=1<<i,o=64&i,a=32&i,u=e.data;128&i?o?a?u[t+7]|=s:u[t+6]|=s:a?u[t+5]|=s:u[t+4]|=s:o?a?u[t+3]|=s:u[t+2]|=s:a?u[t+1]|=s:u[t]|=s}(t,e,n)}function on(t,e,n,r=p.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(H)?t[H]:void 0;return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){we(e,t);try{const t=i();if(null!=t||r&p.Optional)return t;throw new Error(`No provider for ${Je(n)}!`)}finally{xe()}}else if("number"==typeof i){if(-1===i)return new fn(t,e);let s=null,o=nn(t,e),a=-1,u=r&p.Host?e[16][6]:null;for((-1===o||r&p.SkipSelf)&&(a=-1===o?rn(t,e):e[o+8],hn(r,!1)?(s=e[1],o=He(a),e=We(a,e)):o=-1);-1!==o;){a=e[o+8];const t=e[1];if(ln(i,o,t.data)){const t=un(o,e,n,s,r,u);if(t!==an)return t}hn(r,e[1].data[o+8]===u)&&ln(i,o,e)?(s=t,o=He(a),e=We(a,e)):o=-1}}}if(r&p.Optional&&void 0===i&&(i=null),0==(r&(p.Self|p.Host))){const t=e[9],s=X(void 0);try{return t?t.get(n,i,r&p.Optional):nt(n,i,r&p.Optional)}finally{X(s)}}if(r&p.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${Je(n)}]`)}const an={};function un(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],u=function(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,c=s>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=o[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=o[u];if(t&&Pt(t)&&t.type===n)return u}return null}(a,o,n,null==r?Nt(a)&&Ye:r!=o&&3===a.type,i&p.Host&&s===a);return null!==u?cn(e,o,u,a):an}function cn(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof Me){const o=i;if(o.resolving)throw new Error("Circular dep for "+Je(s[n]));const a=Ze(o.canSeeViewProviders);let u;o.resolving=!0,o.injectImpl&&(u=X(o.injectImpl)),we(t,r);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=Lt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{o.injectImpl&&X(u),Ze(a),o.resolving=!1,xe()}}return i}function ln(t,e,n){const r=64&t,i=32&t;let s;return s=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(s&1<<t)}function hn(t,e){return!(t&p.Self||t&p.Host&&e)}class fn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return on(this._tNode,this._lView,t,void 0,e)}}function dn(t){const e=t;if(N(t))return()=>{const t=dn(k(e));return t?t():null};let n=Tt(e);if(null===n){const t=w(e);n=t&&t.factory}return n||null}function pn(t){return u(()=>{const e=t.prototype.constructor,n=e[z]||dn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[z]||dn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function gn(t){return t.ngDebugContext}function mn(t){return t.ngOriginalError}function yn(t,...e){t.error(...e)}class vn{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||yn}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?gn(t)?gn(t):this._findContext(mn(t)):null}_findOriginalError(t){let e=mn(t);for(;e&&mn(e);)e=mn(e);return e}}class bn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class _n extends bn{getTypeName(){return"HTML"}}class wn extends bn{getTypeName(){return"Style"}}class En extends bn{getTypeName(){return"Script"}}class Cn extends bn{getTypeName(){return"URL"}}class Sn extends bn{getTypeName(){return"ResourceURL"}}function An(t){return t instanceof bn?t.changingThisBreaksApplicationSecurity:t}function xn(t,e){const n=Tn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function Tn(t){return t instanceof bn&&t.getTypeName()||null}let In=!0,On=!1;function Dn(){return On=!0,In}class kn{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class Nn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const jn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Pn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Rn(t){return(t=String(t)).match(jn)||t.match(Pn)?t:(Dn()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function Fn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Mn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Ln=Fn("area,br,col,hr,img,wbr"),Vn=Fn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Un=Fn("rp,rt"),Bn=Mn(Un,Vn),qn=Mn(Ln,Mn(Vn,Fn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Mn(Un,Fn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Bn),zn=Fn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Hn=Fn("srcset"),Gn=Mn(zn,Hn,Fn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Fn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Wn=Fn("script,style,template");class $n{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!qn.hasOwnProperty(e))return this.sanitizedSomething=!0,!Wn.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!Gn.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;zn[s]&&(o=Rn(o)),Hn[s]&&(r=o,o=(r=String(r)).split(",").map(t=>Rn(t.trim())).join(", ")),this.buf.push(" ",e,'="',Kn(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();qn.hasOwnProperty(e)&&!Ln.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Kn(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const Jn=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Qn=/([^\#-~ |!])/g;function Kn(t){return t.replace(/&/g,"&amp;").replace(Jn,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(Qn,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Yn;function Zn(t,e){let n=null;try{Yn=Yn||function(t){return function(){try{return!!(new window.DOMParser).parseFromString("","text/html")}catch(t){return!1}}()?new kn:new Nn(t)}(t);let r=e?String(e):"";n=Yn.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=Yn.getInertBodyElement(r)}while(r!==s);const o=new $n,a=o.sanitizeChildren(Xn(n)||n);return Dn()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=Xn(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function Xn(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var tr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function er(t){const e=rr();return e?e.sanitize(tr.HTML,t)||"":xn(t,"HTML")?An(t):Zn(zt(),$e(t))}function nr(t){const e=rr();return e?e.sanitize(tr.URL,t)||"":xn(t,"URL")?An(t):Rn($e(t))}function rr(){const t=ie();return t&&t[12]}function ir(t,e){t.__ngContext__=e}function sr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}function or(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==sr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function ar(t){return 0===t.type&&"ng-template"!==t.tagName}function ur(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function cr(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Ve(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!ur(t,u,n)||""===u&&1===e.length){if(lr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!or(t.attrs,c,n)){if(lr(r))return!1;o=!0}continue}const l=hr(8&r?"class":u,i,ar(t),n);if(-1===l){if(lr(r))return!1;o=!0;continue}if(""!==c){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==sr(e,c,0)||2&r&&c!==t){if(lr(r))return!1;o=!0}}}}else{if(!o&&!lr(r)&&!lr(u))return!1;if(o&&lr(u))continue;o=!1,r=u|1&r}}return lr(r)||o}function lr(t){return 0==(1&t)}function hr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function fr(t,e,n=!1){for(let r=0;r<e.length;r++)if(cr(t,e[r],n))return!0;return!1}function dr(t,e){return t?":not("+e.trim()+")":e}function pr(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||lr(o)||(e+=dr(s,i),i=""),r=o,s=s||!lr(r);n++}return""!==i&&(e+=dr(s,i)),e}const gr={};function mr(t){const e=t[3];return Dt(e)?e[3]:e}function yr(t){return br(t[13])}function vr(t){return br(t[4])}function br(t){for(;null!==t&&!Dt(t);)t=t[4];return t}function _r(t){wr(se(),ie(),Ie()+t,he())}function wr(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Ne(e,r,n)}else{const r=t.preOrderHooks;null!==r&&je(e,r,0,n)}Oe(n)}function Er(t,e){return t<<17|e<<2}function Cr(t){return t>>17&32767}function Sr(t){return 2|t}function Ar(t){return(131068&t)>>2}function xr(t,e){return-131069&t|e<<2}function Tr(t){return 1|t}function Ir(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];_e(i),n.contentQueries(2,e[s],s)}}}function Or(t,e,n){return Ht(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Dr(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,te(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function kr(t,e,n,r,i,s){const o=n+20,a=t.data[o]||function(t,e,n,r,i,s){const o=ae(),a=ce(),u=a?o:o&&o.parent,c=t.data[n]=Br(0,u&&u!==e?u:null,r,n,i,s);return null===t.firstChild&&(t.firstChild=c),o&&(!a||null!=o.child||null===c.parent&&2!==o.type?a||(o.next=c):o.child=c),c}(t,e,o,r,i,s);return ue(a,!0),a}function Nr(t,e,n){Ee(e,e[6]);try{const r=t.viewQuery;null!==r&&ci(1,r,n);const i=t.template;null!==i&&Rr(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Ir(t,e),t.staticViewQueries&&ci(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)ii(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,Te()}}function jr(t,e,n,r){const i=e[2];if(256==(256&i))return;Ee(e,e[6]);const s=he();try{te(e),ne.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Rr(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&Ne(e,n,null)}else{const n=t.preOrderHooks;null!==n&&je(e,n,0,null),Pe(e,0)}if(function(t){for(let e=yr(t);null!==e;e=vr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&ee(r,1),n[2]|=1024}}}(e),function(t){for(let e=yr(t);null!==e;e=vr(e))for(let t=10;t<e.length;t++){const n=e[t],r=n[1];Zt(n)&&jr(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Ir(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&Ne(e,n)}else{const n=t.contentHooks;null!==n&&je(e,n,1),Pe(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,s=-1;for(let t=0;t<n.length;t++){const o=n[t];"number"==typeof o?o<=0?(s=0-o,Oe(s),r+=9+n[++t],i=r):r+=o:(null!==o&&(ye(r,i),o(2,e[i])),i++)}}}finally{Oe(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)ri(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&ci(2,u,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&Ne(e,n)}else{const n=t.viewHooks;null!==n&&je(e,n,2),Pe(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,ee(e[3],-1))}finally{Te()}}function Pr(t,e,n,r){const i=e[10],s=!he(),o=4==(4&e[2]);try{s&&!o&&i.begin&&i.begin(),o&&Nr(t,e,r),jr(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function Rr(t,e,n,r,i){const s=Ie();try{Oe(-1),2&r&&e.length>20&&wr(t,e,0,he()),n(r,i)}finally{Oe(s)}}function Fr(t,e,n){if(kt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Mr(t,e,n){re()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||tn(n,e),ir(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=Pt(r);s&&Xr(e,n,r);const u=cn(e,t,a,n);ir(u,e),null!==o&&ti(0,a-i,u,r,0,o),s&&(Kt(n.index,e)[8]=u)}}(t,e,n,Jt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=t.expandoInstructions,o=t.firstCreatePass,a=n.index-20,u=ne.lFrame.currentDirectiveIndex;try{Oe(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ve(n),null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?$r(r,i):o&&s.push(null)}}finally{Oe(-1),ve(u)}}(t,e,n))}function Lr(t,e,n=Jt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function Vr(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ur(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ur(t,e,n,r,i,s,o,a,u,c){const l=20+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:gr);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,id:e,blueprint:f,template:n,queries:null,viewQuery:a,node:null,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Br(t,e,n,r,i,s){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function qr(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function zr(t,e,n,r,i,s,o,a){const u=Jt(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(di(t,n,c,r,i),Nt(e)&&function(t,e){const n=Kt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.tagName||"",r):i,Ht(s)?s.setProperty(u,r,i):Ue(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Hr(t,e,n,r){let i=!1;if(re()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];fr(n,o.selectors,!1)&&(i||(i=[]),sn(tn(n,e),t,o.type),Pt(o)?(Qr(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){let r=0;i=!0,Yr(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}Jr(t,n,s.length);let a=!1,u=!1;for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=Be(n.mergedAttrs,c.hostAttrs),Zr(t,e,c),Kr(t.data.length-1,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!a&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-20),a=!0),u||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-20),u=!0),Gr(t,c),r+=c.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||ar(e)?null:ei(n,i);s.push(c),o=qr(n,u,o),a=qr(t.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n),Wr(t,e,r)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=Be(n.mergedAttrs,n.attrs),i}function Gr(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function Wr(t,e,n){for(let r=0;r<n;r++)e.push(gr),t.blueprint.push(gr),t.data.push(null)}function $r(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Jr(t,e,n){const r=20-e.index,i=t.data.length-(1048575&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function Qr(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Kr(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Pt(e)&&(n[""]=t)}}function Yr(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Zr(t,e,n){t.data.push(n);const r=n.factory||(n.factory=Tt(n.type)),i=new Me(r,Pt(n),null);t.blueprint.push(i),e.push(i)}function Xr(t,e,n){const r=Jt(e,t),i=Vr(n),s=t[10],o=si(t,Dr(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n)));t[e.index]=o}function ti(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function ei(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function ni(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function ri(t,e){const n=Kt(e,t);if(Zt(n)){const t=n[1];80&n[2]?jr(t,n,t.template,n[8]):n[5]>0&&function t(e){for(let r=yr(e);null!==r;r=vr(r))for(let e=10;e<r.length;e++){const n=r[e];if(1024&n[2]){const t=n[1];jr(t,n,t.template,n[8])}else n[5]>0&&t(n)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Kt(n[r],e);Zt(i)&&i[5]>0&&t(i)}}(n)}}function ii(t,e){const n=Kt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Nr(r,n,n[8])}function si(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function oi(t){for(;t;){t[2]|=64;const e=mr(t);if(Rt(t)&&!e)return t;t=e}return null}function ai(t,e,n){const r=e[10];r.begin&&r.begin();try{jr(t,e,t.template,n)}catch(i){throw fi(e,i),i}finally{r.end&&r.end()}}function ui(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Yt(n),i=r[1];Pr(i,r,i.template,n)}}(t[8])}function ci(t,e,n){_e(0),e(t,n)}const li=(()=>Promise.resolve(null))();function hi(t){return t[7]||(t[7]=[])}function fi(t,e){const n=t[9],r=n?n.get(vn,null):null;r&&r.handleError(e)}function di(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function pi(t,e,n){const r=$t(e,t),i=t[11];Ht(i)?i.setValue(r,n):r.textContent=n}function gi(t,e){const n=e[3];return-1===t.index?Dt(n)?n:null:n}function mi(t,e){const n=gi(t,e);return n?Ti(e[11],n[7]):null}function yi(t,e,n,r,i){if(null!=r){let s,o=!1;Dt(r)?s=r:Ot(r)&&(o=!0,r=r[0]);const a=Wt(r);0===t&&null!==n?null==i?Ai(e,n,a):Si(e,n,a,i||null):1===t&&null!==n?Si(e,n,a,i||null):2===t?function(t,e,n){const r=Ti(t,e);r&&function(t,e,n,r){Ht(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==Wt(n)&&yi(e,t,r,s,i);for(let o=10;o<n.length;o++){const i=n[o];ki(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function vi(t,e,n,r){const i=mi(t.node,e);i&&ki(t,e,e[11],n?1:2,i,r)}function bi(t,e){const n=t[9],r=n.indexOf(e);1024&e[2]&&ee(e[3],-1),n.splice(r,1)}function _i(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&bi(i,r),e>0&&(t[n-1][4]=r[4]);const s=ct(t,10+e);vi(r[1],r,!1,null);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function wi(t,e){if(!(256&e[2])){const n=e[11];Ht(n)&&n.destroyNode&&ki(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Ci(t[1],t);for(;e;){let n=null;if(Ot(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Ot(e)&&Ci(e[1],e),e=Ei(e,t);null===e&&(e=t),Ot(e)&&Ci(e[1],e),n=e&&e[4]}e=n}}(e)}}function Ei(t,e){let n;return Ot(t)&&(n=t[6])&&2===n.type?gi(n,t):t[3]===e?null:t[3]}function Ci(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Me)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],s="function"==typeof i?i(e):Wt(e[i]),o=t[n[r+2]],a=n[r+3];"boolean"==typeof a?s.removeEventListener(n[r],o,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e);const n=e[6];n&&3===n.type&&Ht(e[11])&&e[11].destroy();const r=e[17];if(null!==r&&Dt(e[3])){r!==e[3]&&bi(r,e);const n=e[19];null!==n&&n.detachView(t)}}}function Si(t,e,n,r){Ht(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Ai(t,e,n){Ht(t)?t.appendChild(e,n):e.appendChild(n)}function xi(t,e,n,r){null!==r?Si(t,e,n,r):Ai(t,e,n)}function Ti(t,e){return Ht(t)?t.parentNode(e):e.parentNode}function Ii(t,e,n,r){const i=function(t,e,n){let r=e.parent;for(;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){const t=n[6];return 2===t.type?mi(t,n):n[0]}if(e&&5===e.type&&4&e.flags)return Jt(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==pt.ShadowDom&&n!==pt.Native)return null}return Jt(r,n)}(t,r,e);if(null!=i){const t=e[11],s=function(t,e){if(2===t.type){const n=gi(t,e);return null===n?null:Oi(n.indexOf(e,10)-10,n)}return 4===t.type||5===t.type?Jt(t,e):null}(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)xi(t,i,n[e],s);else xi(t,i,n,s)}}function Oi(t,e){const n=10+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return function t(e,n){if(null!==n){const r=n.type;if(3===r)return Jt(n,e);if(0===r)return Oi(-1,e[n.index]);if(4===r||5===r){const r=n.child;if(null!==r)return t(e,r);{const t=e[n.index];return Dt(t)?Oi(-1,t):Wt(t)}}{const r=e[16],i=r[6],s=mr(r),o=i.projection[n.projection];return null!=o?t(s,o):t(e,n.next)}}return null}(t,r)}return e[7]}function Di(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;o&&0===e&&(a&&ir(Wt(a),r),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?(Di(t,e,n.child,r,i,s,!1),yi(e,t,i,a,s)):1===u?Ni(t,e,r,n,i,s):yi(e,t,i,a,s)),n=o?n.projectionNext:n.next}}function ki(t,e,n,r,i,s){Di(n,r,t.node.child,e,i,s,!1)}function Ni(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)yi(e,t,i,a[u],s);else Di(t,e,a,o[3],i,s,!0)}function ji(t,e,n){Ht(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Pi(t,e,n){Ht(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class Ri{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView;return null==t[0]?function t(e,n,r,i,s=!1){for(;null!==r;){const o=n[r.index];if(null!==o&&i.push(Wt(o)),Dt(o))for(let e=10;e<o.length;e++){const n=o[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const a=r.type;if(4===a||5===a)t(e,n,r.child,i);else if(1===a){const e=n[16],s=e[6].projection[r.projection];if(Array.isArray(s))i.push(...s);else{const n=mr(e);t(n[1],n,s,i,!0)}}r=s?r.projectionNext:r.next}return i}(t[1],t,t[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}wi(this._lView[1],this._lView)}onDestroy(t){!function(t,e,n,r){const i=hi(e);i.push(null),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}(this._lView[1],this._lView,0,t)}markForCheck(){oi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ai(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){fe(!0);try{ai(t,e,n)}finally{fe(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,ki(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Fi extends Ri{constructor(t){super(t),this._view=t}detectChanges(){ui(this._view)}checkNoChanges(){!function(t){fe(!0);try{ui(t)}finally{fe(!1)}}(this._view)}get context(){return null}}let Mi,Li,Vi;function Ui(t,e,n){return Mi||(Mi=class extends t{}),new Mi(Jt(e,n))}let Bi=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>qi(),t})();const qi=function(t=!1){return function(t,e,n){if(!n&&Nt(t)){const n=Kt(t.index,e);return new Ri(n,n)}return 3===t.type||0===t.type||4===t.type||5===t.type?new Ri(e[16],e):null}(ae(),ie(),t)},zi=Function,Hi=new G("Set Injector scope."),Gi={},Wi={},$i=[];let Ji=void 0;function Qi(){return void 0===Ji&&(Ji=new it),Ji}function Ki(t,e=null,n=null,r){return new Yi(t,n,e||Qi(),r)}class Yi{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&at(e,n=>this.processProvider(n,t,e)),at([t],t=>this.processInjectorType(t,[],i)),this.records.set(W,ts(void 0,this));const s=this.records.get(Hi);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:T(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=$,n=p.Default){this.assertNotDestroyed();const r=Z(this);try{if(!(n&p.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof G)&&b(t);e=n&&this.injectableDefInScope(n)?ts(Zi(t),Gi):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&p.Self?Qi():this.parent).get(t,e=n&p.Optional&&e===$?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(T(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=T(e);if(Array.isArray(e))i=e.map(T).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):T(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(J,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{Z(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(T(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=k(t)))return!1;let r=w(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=w(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{at(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];at(r,t=>this.processProvider(t,n,r||$i))}}this.injectorDefTypes.add(s),this.records.set(s,ts(r.factory,Gi));const a=r.providers;if(null!=a&&!o){const e=t;at(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=ns(t=k(t))?t:k(t&&t.provide);const i=function(t,e,n){return es(t)?ts(void 0,t.useValue):ts(Xi(t),Gi)}(t);if(ns(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=ts(void 0,Gi,!0),e.factory=()=>rt(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===Gi&&(e.value=Wi,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Zi(t){const e=b(t),n=null!==e?e.factory:Tt(t);if(null!==n)return n;const r=w(t);if(null!==r)return r.factory;if(t instanceof G)throw new Error(`Token ${T(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${T(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[E]||t[A]||t[S]&&t[S]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Xi(t,e,n){let r=void 0;if(ns(t)){const e=k(t);return Tt(e)||Zi(e)}if(es(t))r=()=>k(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...rt(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>et(k(t.useExisting));else{const e=k(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Tt(e)||Zi(e);r=()=>new e(...rt(t.deps))}var i;return r}function ts(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function es(t){return null!==t&&"object"==typeof t&&Q in t}function ns(t){return"function"==typeof t}const rs=function(t,e,n){return function(t,e=null,n=null,r){const i=Ki(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let is=(()=>{class t{static create(t,e){return Array.isArray(t)?rs(t,e,""):rs(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=$,t.NULL=new it,t.\u0275prov=y({token:t,providedIn:"any",factory:()=>et(W)}),t.__NG_ELEMENT_ID__=-1,t})();const ss=new G("AnalyzeForEntryComponents");function os(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=I(i,t):2==s&&(r=I(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}let as=null;function us(){if(!as){const t=M.Symbol;if(t&&t.iterator)as=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(as=n)}}}return as}class cs{constructor(t){this.wrapped=t}static wrap(t){return new cs(t)}static unwrap(t){return cs.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof cs}}function ls(t){return!!hs(t)&&(Array.isArray(t)||!(t instanceof Map)&&us()in t)}function hs(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function fs(t,e,n){return t[e]=n}function ds(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ps(t,e,n,r){const i=ds(t,e,n);return ds(t,e+1,r)||i}function gs(t,e,n,r){const i=ie();return ds(i,ge(),e)&&(se(),function(t,e,n,r,i,s){const o=Jt(t,e),a=e[11];if(null==r)Ht(a)?a.removeAttribute(o,n,s):o.removeAttribute(n);else{const e=null==i?$e(r):i(r,t.tagName||"",n);Ht(a)?a.setAttribute(o,n,e,s):s?o.setAttributeNS(s,n,e):o.setAttribute(n,e)}}(De(),i,t,e,n,r)),gs}function ms(t,e,n,r){return ds(t,ge(),n)?e+$e(n)+r:gr}function ys(t,e,n,r,i,s,o,a){const u=ie(),c=se(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=kr(e,n[6],t,0,o||null,Xt(c,a));Hr(e,n,l,Xt(c,u)),ke(e,l);const h=l.tViews=Ur(2,-1,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c),f=Br(0,null,2,-1,null,null);return f.injectorIndex=l.injectorIndex,h.node=f,null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,s,o):c.data[l];ue(h,!1);const f=u[11].createComment("");Ii(c,u,f,h),ir(f,u),si(u,u[l]=ni(f,u,f,h)),jt(h)&&Mr(c,u,h),null!=o&&Lr(u,h,a)}function vs(t,e=p.Default){const n=ie();return null==n?et(t,e):on(ae(),n,k(t),e)}function bs(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ve(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(ae(),t)}function _s(t,e,n){const r=ie();return ds(r,ge(),e)&&zr(se(),De(),r,t,e,r[11],n,!1),_s}function ws(t,e,n,r,i){const s=i?"class":"style";di(t,n,e.inputs[s],s,r)}function Es(t,e,n,r){const i=ie(),s=se(),o=20+t,a=i[11],u=i[o]=Or(e,a,ne.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,u=Xt(a,s),c=kr(e,n[6],t,3,i,u);return Hr(e,n,c,Xt(a,o)),null!==c.attrs&&os(c,c.attrs,!1),null!==c.mergedAttrs&&os(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(t,s,i,0,e,n,r):s.data[o];ue(c,!0);const l=c.mergedAttrs;null!==l&&Le(a,u,l);const h=c.classes;null!==h&&Pi(a,u,h);const f=c.styles;null!==f&&ji(a,u,f),Ii(s,i,u,c),0===ne.lFrame.elementDepthCount&&ir(u,i),ne.lFrame.elementDepthCount++,jt(c)&&(Mr(s,i,c),Fr(s,c,i)),null!==r&&Lr(i,c)}function Cs(){let t=ae();ce()?le():(t=t.parent,ue(t,!1));const e=t;ne.lFrame.elementDepthCount--;const n=se();n.firstCreatePass&&(ke(n,t),kt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&ws(n,e,ie(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&ws(n,e,ie(),e.stylesWithoutHost,!1)}function Ss(t,e,n,r){Es(t,e,n,r),Cs()}function As(){return ie()}function xs(t){return!!t&&"function"==typeof t.then}function Ts(t){return!!t&&"function"==typeof t.subscribe}function Is(t,e,n=!1,r){const i=ie(),s=se(),o=ae();return function(t,e,n,r,i,s,o=!1,a){const u=jt(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=hi(e);let h=!0;if(3===r.type){const f=Jt(r,e),d=a?a(f):gt,p=d.target||f,g=l.length,m=a?t=>a(Wt(t[r.index])).target:r.index;if(Ht(n)){let o=null;if(!a&&u&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=Ds(r,e,s,!1);const t=n.listen(d.name||p,i,s);l.push(s,t),c&&c.push(i,m,g,g+1)}}else s=Ds(r,e,s,!0),p.addEventListener(i,s,o),l.push(s),c&&c.push(i,m,g,o)}const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(s),o=l.length;l.push(s,t),c&&c.push(i,r.index,o,-(o+1))}}}(s,i,i[11],o,t,e,n,r),Is}function Os(t,e,n){try{return!1!==e(n)}catch(r){return fi(t,r),!1}}function Ds(t,e,n,r){return function i(s){if(s===Function)return n;const o=2&t.flags?Kt(t.index,e):e;0==(32&e[2])&&oi(o);let a=Os(e,n,s),u=i.__ngNextListenerFn__;for(;u;)a=Os(e,u,s)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function ks(t=1){return function(t){return(ne.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,ne.lFrame.contextLView))[8]}(t)}function Ns(t,e,n){return js(t,"",e,"",n),Ns}function js(t,e,n,r,i){const s=ie(),o=ms(s,e,n,r);return o!==gr&&zr(se(),De(),s,t,o,s[11],i,!1),js}const Ps=[];function Rs(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Cr(s):Ar(s),u=!1;for(;0!==a&&(!1===u||o);){const n=t[a+1];Fs(t[a],e)&&(u=!0,t[a+1]=r?Tr(n):Sr(n)),a=r?Cr(n):Ar(n)}u&&(t[n+1]=r?Sr(s):Tr(s))}function Fs(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ft(t,e)>=0}const Ms={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ls(t){return t.substring(Ms.key,Ms.keyEnd)}function Vs(t,e){const n=Ms.textEnd;return n===e?-1:(e=Ms.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Ms.key=e,n),Us(t,e,n))}function Us(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Bs(t,e,n){return Gs(t,e,n,!1),Bs}function qs(t,e){return Gs(t,e,null,!0),qs}function zs(t){!function(t,e,n,r){const i=se(),s=me(2);i.firstUpdatePass&&$s(i,null,s,true);const o=ie();if(n!==gr&&ds(o,s,n)){const r=i.data[Ie()+20];if(Xs(r,true)&&!Ws(i,s)){let t=r.classesWithoutHost;null!==t&&(n=I(t,n||"")),ws(i,r,o,n,true)}else!function(t,e,n,r,i,s,o,a){i===gr&&(i=Ps);let u=0,c=0,l=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==l||null!==h;){const o=u<i.length?i[u+1]:void 0,f=c<s.length?s[c+1]:void 0;let d=null,p=void 0;l===h?(u+=2,c+=2,o!==f&&(d=h,p=f)):null===h||null!==l&&l<h?(u+=2,d=l):(c+=2,d=h,p=f),null!==d&&Ks(t,e,n,r,d,p,true,a),l=u<i.length?i[u]:null,h=c<s.length?s[c]:null}}(i,r,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return Ps;const r=[],i=An(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),0,s)}}(lt,Hs,t)}function Hs(t,e){for(let n=function(t){return function(t){Ms.key=0,Ms.keyEnd=0,Ms.value=0,Ms.valueEnd=0,Ms.textEnd=t.length}(t),Vs(t,Us(t,0,Ms.textEnd))}(e);n>=0;n=Vs(e,n))lt(t,Ls(e),!0)}function Gs(t,e,n,r){const i=ie(),s=se(),o=me(2);s.firstUpdatePass&&$s(s,t,o,r),e!==gr&&ds(i,o,e)&&Ks(s,s.data[Ie()+20],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=T(An(t)))),t}(e,n),r,o)}function Ws(t,e){return e>=t.expandoStartIndex}function $s(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Ie()+20],o=Ws(t,n);Xs(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=be(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Qs(n=Js(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Js(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Ar(r))return t[Cr(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=Js(null,t,e,n[1],r),n=Qs(n,e.attrs,r),function(t,e,n,r){t[Cr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Qs(r,t[s].hostAttrs,n);return Qs(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Cr(o),u=Ar(o);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||ft(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=Cr(t[a+1]);t[r+1]=Er(e,a),0!==e&&(t[e+1]=xr(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Er(a,0),0!==a&&(t[a+1]=xr(t[a+1],r)),a=r;else t[r+1]=Er(u,0),0===a?a=r:t[u+1]=xr(t[u+1],r),u=r;l&&(t[r+1]=Sr(t[r+1])),Rs(t,c,r,!0),Rs(t,c,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&ft(s,e)>=0&&(n[r+1]=Tr(n[r+1]))}(e,c,t,r,s),o=Er(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function Js(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Qs(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Qs(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),lt(t,o,!!n||e[++s]))}return void 0===t?null:t}function Ks(t,e,n,r,i,s,o,a){if(3!==e.type)return;const u=t.data,c=u[a+1];Zs(1==(1&c)?Ys(u,e,n,i,Ar(c),o):void 0)||(Zs(s)||2==(2&c)&&(s=Ys(u,null,n,i,a,o)),function(t,e,n,r,i){const s=Ht(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{const e=-1==r.indexOf("-")?void 0:2;null==i?s?t.removeStyle(n,r,e):n.style.removeProperty(r):s?t.setStyle(n,r,i,e):n.style.setProperty(r,i)}}(r,o,$t(Ie(),n),i,s))}function Ys(t,e,n,r,i,s){const o=null===e;let a=void 0;for(;i>0;){const e=t[i],s=Array.isArray(e),u=s?e[1]:e,c=null===u;let l=n[i+1];l===gr&&(l=c?Ps:void 0);let h=c?ht(l,r):u===r?l:void 0;if(s&&!Zs(h)&&(h=ht(e,r)),Zs(h)&&(a=h,o))return a;const f=t[i+1];i=o?Cr(f):Ar(f)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=ht(t,r))}return a}function Zs(t){return void 0!==t}function Xs(t,e){return 0!=(t.flags&(e?16:32))}function to(t,e=""){const n=ie(),r=se(),i=t+20,s=r.firstCreatePass?kr(r,n[6],t,3,null,null):r.data[i],o=n[i]=function(t,e){return Ht(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Ii(r,n,o,s),ue(s,!1)}function eo(t){return no("",t,""),eo}function no(t,e,n){const r=ie(),i=ms(r,t,e,n);return i!==gr&&pi(r,Ie(),i),no}function ro(t,e,n,r,i){const s=ie(),o=function(t,e,n,r,i,s){const o=ps(t,pe(),n,i);return me(2),o?e+$e(n)+r+$e(i)+s:gr}(s,t,e,n,r,i);return o!==gr&&pi(s,Ie(),o),ro}function io(t,e,n,r,i,s,o,a,u){const c=ie(),l=function(t,e,n,r,i,s,o,a,u,c){const l=function(t,e,n,r,i,s){const o=ps(t,e,n,r);return ps(t,e+2,i,s)||o}(t,pe(),n,i,o,u);return me(4),l?e+$e(n)+r+$e(i)+s+$e(o)+a+$e(u)+c:gr}(c,t,e,n,r,i,s,o,a,u);return l!==gr&&pi(c,Ie(),l),io}function so(t,e,n){const r=ie();return ds(r,ge(),e)&&zr(se(),De(),r,t,e,r[11],n,!0),so}function oo(t,e,n){const r=ie();if(ds(r,ge(),e)){const i=se(),s=De();zr(i,s,r,t,e,function(t,e,n){return(null===t||Pt(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}(be(i.data),s,r),n,!0)}return oo}function ao(t,e){const n=Yt(t)[1],r=n.data.length-1;ke(n,{directiveStart:r,directiveEnd:r+1})}function uo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(Pt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=co(t.inputs),e.declaredInputs=co(t.declaredInputs),e.outputs=co(t.outputs);const n=i.hostBindings;n&&fo(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&lo(t,s),o&&ho(t,o),m(t.inputs,i.inputs),m(t.declaredInputs,i.declaredInputs),m(t.outputs,i.outputs),Pt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===uo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Be(i.hostAttrs,n=Be(n,i.hostAttrs))}}(r)}function co(t){return t===gt?{}:t===mt?[]:t}function lo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function ho(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function fo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}function po(t,e,n,r,i){if(t=k(t),Array.isArray(t))for(let s=0;s<t.length;s++)po(t[s],e,n,r,i);else{const s=se(),o=ie();let a=ns(t)?t:k(t.provide),u=Xi(t);const c=ae(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(ns(t)||!t.multi){const r=new Me(u,i,vs),d=yo(a,e,i?l:l+f,h);-1===d?(sn(tn(c,o),s,a),go(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[d]=r,o[d]=r)}else{const d=yo(a,e,l+f,h),p=yo(a,e,l,l+f),g=d>=0&&n[d],m=p>=0&&n[p];if(i&&!m||!i&&!g){sn(tn(c,o),s,a);const l=function(t,e,n,r,i){const s=new Me(t,n,vs);return s.multi=[],s.index=e,s.componentProviders=0,mo(s,i,r&&!n),s}(i?bo:vo,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),go(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),o.push(l)}else go(s,t,d>-1?d:p,mo(n[i?p:d],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function go(t,e,n,r){const i=ns(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function mo(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function yo(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function vo(t,e,n,r){return _o(this.multi,[])}function bo(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=cn(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),_o(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],_o(i,s);return s}function _o(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function wo(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=se();if(r.firstCreatePass){const i=Pt(t);po(n,r.data,r.blueprint,i,!0),po(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Eo{}class Co{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${T(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let So=(()=>{class t{}return t.NULL=new Co,t})(),Ao=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>xo(t),t})();const xo=function(t){return Ui(t,ae(),ie())};class To{}var Io=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let Oo=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Do(),t})();const Do=function(){const t=ie(),e=Kt(ae().index,t);return function(t){const e=t[11];if(Ht(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Ot(e)?e:t)};let ko=(()=>{class t{}return t.\u0275prov=y({token:t,providedIn:"root",factory:()=>null}),t})();class No{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const jo=new No("10.1.1");class Po{constructor(){}supports(t){return ls(t)}create(t){return new Fo(t)}}const Ro=(t,e)=>e;class Fo{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ro}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<Uo(n,r,i)?e:n,o=Uo(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!ls(t))throw new Error(`Error trying to diff '${T(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[us()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Mo(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Vo),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Vo),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Mo{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Lo{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Vo{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Lo,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Uo(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Bo{constructor(){}supports(t){return t instanceof Map||hs(t)}create(){return new qo}}class qo{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||hs(t)))throw new Error(`Error trying to diff '${T(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new zo(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class zo{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Ho=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new d,new h]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=y({token:t,providedIn:"root",factory:()=>new t([new Po])}),t})(),Go=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new d,new h]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=y({token:t,providedIn:"root",factory:()=>new t([new Bo])}),t})();const Wo=[new Bo],$o=new Ho([new Po]),Jo=new Go(Wo);let Qo=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ko(t,Ao),t})();const Ko=function(t,e){return function(t,e,n,r){return Li||(Li=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Dr(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Nr(e,n,t),new Ri(n)}}),0===n.type?new Li(r,n,Ui(e,n,r)):null}(t,e,ae(),ie())};let Yo=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Zo(t,Ao),t})();const Zo=function(t,e){return function(t,e,n,r){let i;Vi||(Vi=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return Ui(e,this._hostTNode,this._hostView)}get injector(){return new fn(this._hostTNode,this._hostView)}get parentInjector(){const t=rn(this._hostTNode,this._hostView),e=We(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){const t=n.parent.injectorIndex;let e=n.parent;for(;null!=e.parent&&t==e.parent.injectorIndex;)e=e.parent;return e}let r=Ge(t),i=e,s=e[6];for(;r>1;)i=i[15],s=i[6],r--;return s}(t,this._hostView,this._hostTNode);return ze(t)&&null!=n?new fn(n,e):new fn(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(st,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Dt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Vi(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e);return function(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],ut(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,this._lContainer,i),vi(r,n,!0,Oi(i,this._lContainer)),t.attachToViewContainerRef(this),ut(this._lContainer[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=_i(this._lContainer,e);n&&(ct(this._lContainer[8],e),wi(n[1],n))}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=_i(this._lContainer,e);return n&&null!=ct(this._lContainer[8],e)?new Ri(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const s=r[n.index];if(Dt(s))i=s;else{let t;if(4===n.type)t=Wt(s);else if(t=r[11].createComment(""),Rt(r)){const e=r[11],i=Jt(n,r);Si(e,Ti(e,i),t,function(t,e){return Ht(t)?t.nextSibling(e):e.nextSibling}(e,i))}else Ii(r[1],r,t,n);r[n.index]=i=ni(s,r,t,n),si(r,i)}return new Vi(i,n,r)}(t,e,ae(),ie())},Xo={};class ta extends So{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=xt(t);return new ra(e,this.ngModule)}}function ea(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const na=new G("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Qe});class ra extends Eo{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(pr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return ea(this.componentDef.inputs)}get outputs(){return ea(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,Xo,i);return s!==Xo||r===Xo?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(To,Gt),o=i.get(ko,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Ht(t))return t.selectRootElement(e,n===pt.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Or(u,s.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Qe,clean:li,playerHandler:null,flags:0},f=Ur(0,-1,null,1,0,null,null,null,null,null),d=Dr(null,f,h,l,null,null,s,a,o,i);let p,g;Ee(d,null);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=kr(o,null,0,3,null,null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(os(a,u,!0),null!==t&&(Le(i,t,u),null!==a.classes&&Pi(i,t,a.classes),null!==a.styles&&ji(i,t,a.styles)));const c=r.createRenderer(t,e),l=Dr(n,Vr(e),null,e.onPush?64:16,n[20],a,r,c,void 0);return o.firstCreatePass&&(sn(tn(a,n),o,e.type),Qr(o,a),Yr(a,n.length,1)),si(n,l),n[20]=l}(c,this.componentDef,d,s,a);if(c)if(n)Le(a,c,["ng-version",jo.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!lr(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Le(a,c,t),e&&e.length>0&&Pi(a,c,e.join(" "))}if(g=Qt(f,0),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=ae();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Jr(t,r,1),Zr(t,e,n));const i=cn(e,t,e.length-1,r);ir(i,e);const s=Jt(r,e);return s&&ir(s,e),i}(s,n,e);r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries&&e.contentQueries(1,o,n.length-1);const a=ae();if(s.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){Oe(a.index-20);const t=n[1];Gr(t,e),Wr(t,n,e.hostVars),$r(e,o)}return o}(t,this.componentDef,d,h,[ao]),Nr(f,d,null)}finally{Te()}const m=new ia(this.componentType,p,Ui(Ao,g,d),d,g);return f.node.child=g,m}}class ia extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new Fi(r),function(t,e,n,r){let i=t.node;null==i&&(t.node=i=Br(0,null,2,-1,null,null)),r[6]=i}(r[1],0,0,r),this.componentType=t}get injector(){return new fn(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const sa=void 0;var oa=["en",[["a","p"],["AM","PM"],sa],[["AM","PM"],sa,sa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],sa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],sa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",sa,"{1} 'at' {0}",sa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let aa={};function ua(t){return t in aa||(aa[t]=M.ng&&M.ng.common&&M.ng.common.locales&&M.ng.common.locales[t]),aa[t]}var ca=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});let la="en-US";function ha(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(la=t.toLowerCase().replace(/_/g,"-"))}const fa=new Map;class da extends st{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ta(this);const n=It(t),r=t[q]||null;r&&ha(r),this._bootstrapComponents=Ke(n.bootstrap),this._r3Injector=Ki(t,e,[{provide:st,useValue:this},{provide:So,useValue:this.componentFactoryResolver}],T(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=is.THROW_IF_NOT_FOUND,n=p.Default){return t===is||t===st||t===W?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class pa extends ot{constructor(t){super(),this.moduleType=t,null!==It(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${T(e)} vs ${T(e.name)}`)})(t,fa.get(t),e),fa.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new da(this.moduleType,t)}}function ga(t,e,n){const r=de()+t,i=ie();return i[r]===gr?fs(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function ma(t,e){const n=se();let r;const i=t+20;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new Error(`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=Tt(r.type)),o=X(vs),a=Ze(!1),u=s();return Ze(a),X(o),function(t,e,n,r){const i=n+20;i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=r}(n,ie(),t,u),u}function ya(t,e,n){const r=ie(),i=function(t,e){return t[e+20]}(r,t);return function(t,e){return cs.isWrapped(e)&&(e=cs.unwrap(e),t[pe()]=gr),e}(r,function(t,e){return t[1].data[e+20].pure}(r,t)?function(t,e,n,r,i,s){const o=e+n;return ds(t,o,i)?fs(t,o+1,s?r.call(s,i):r(i)):function(t,e){const n=t[e];return n===gr?void 0:n}(t,o+1)}(r,de(),e,i.transform,n,i):i.transform(n))}const va=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,s=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(s=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(s=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,s,o);return t instanceof i.a&&t.add(a),a}},ba=new G("Application Initializer");let _a=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();xs(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(et(ba,8))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();const wa=new G("AppId"),Ea={provide:wa,useFactory:function(){return`${Ca()}${Ca()}${Ca()}`},deps:[]};function Ca(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Sa=new G("Platform Initializer"),Aa=new G("Platform ID"),xa=new G("appBootstrapListener");let Ta=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();const Ia=new G("LocaleId"),Oa=new G("DefaultCurrencyCode");class Da{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const ka=function(t){return new pa(t)},Na=ka,ja=function(t){return Promise.resolve(ka(t))},Pa=function(t){const e=ka(t),n=Ke(It(t).declarations).reduce((t,e)=>{const n=xt(e);return n&&t.push(new ra(n)),t},[]);return new Da(e,n)},Ra=Pa,Fa=function(t){return Promise.resolve(Pa(t))};let Ma=(()=>{class t{constructor(){this.compileModuleSync=Na,this.compileModuleAsync=ja,this.compileModuleAndAllComponentsSync=Ra,this.compileModuleAndAllComponentsAsync=Fa}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();const La=(()=>Promise.resolve(0))();function Va(t){"undefined"==typeof Zone?La.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ua{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new va(!1),this.onMicrotaskEmpty=new va(!1),this.onStable=new va(!1),this.onError=new va(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=M.requestAnimationFrame,e=M.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(M,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ha(t),za(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ha(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,s,o,a)=>{try{return Ga(t),n.invokeTask(i,s,o,a)}finally{e&&"eventTask"===s.type&&e(),Wa(t)}},onInvoke:(e,n,r,i,s,o,a)=>{try{return Ga(t),e.invoke(r,i,s,o,a)}finally{Wa(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Ha(t),za(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ua.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ua.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,qa,Ba,Ba);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function Ba(){}const qa={};function za(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ha(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Ga(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Wa(t){t._nesting--,za(t)}class $a{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new va,this.onMicrotaskEmpty=new va,this.onStable=new va,this.onError=new va}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Ja=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ua.assertNotInAngularZone(),Va(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Va(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(et(Ua))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})(),Qa=(()=>{class t{constructor(){this._applications=new Map,Za.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Za.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();class Ka{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let Ya,Za=new Ka;const Xa=new G("AllowMultipleToken");class tu{constructor(t,e){this.name=t,this.token=e}}function eu(t,e,n=[]){const r="Platform: "+e,i=new G(r);return(e=[])=>{let s=nu();if(!s||s.injector.get(Xa,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Hi,useValue:"platform"});!function(t){if(Ya&&!Ya.destroyed&&!Ya.injector.get(Xa,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ya=t.get(ru);const e=t.get(Sa,null);e&&e.forEach(t=>t())}(is.create({providers:t,name:r}))}return function(t){const e=nu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function nu(){return Ya&&!Ya.destroyed?Ya:null}let ru=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new $a:("zone.js"===t?void 0:t)||new Ua({enableLongStackTrace:Dn(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Ua,useValue:n}];return n.run(()=>{const e=is.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(vn,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>ou(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{s.handleError(t)}})),function(t,e,n){try{const r=n();return xs(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(_a);return t.runInitializers(),t.donePromise.then(()=>(ha(i.injector.get(Ia,"en-US")||"en-US"),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=iu({},e);return function(t,e,n){const r=new pa(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(su);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${T(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(et(is))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();function iu(t,e){return Array.isArray(e)?e.reduce(iu,t):Object.assign(Object.assign({},t),e)}let su=(()=>{class t{constructor(t,e,n,r,i,u){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Dn(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Ua.assertNotInAngularZone(),Va(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Ua.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(c,l.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Eo?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(st),i=n.create(is.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const s=i.injector.get(Ja,null);return s&&i.injector.get(Qa).registerApplication(i.location.nativeElement,s),this._loadComponent(i),Dn()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;ou(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(xa,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),ou(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(et(Ua),et(Ta),et(is),et(vn),et(So),et(_a))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();function ou(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class au{}class uu{}const cu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let lu=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||cu}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("crnd")(e).then(t=>t[r]).then(t=>hu(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("crnd")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>hu(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(et(Ma),et(uu,8))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();function hu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const fu=eu(null,"core",[{provide:Aa,useValue:"unknown"},{provide:ru,deps:[is]},{provide:Qa,deps:[]},{provide:Ta,deps:[]}]),du=[{provide:su,useClass:su,deps:[Ua,Ta,is,vn,So,_a]},{provide:na,deps:[Ua],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:_a,useClass:_a,deps:[[new h,ba]]},{provide:Ma,useClass:Ma,deps:[]},Ea,{provide:Ho,useFactory:function(){return $o},deps:[]},{provide:Go,useFactory:function(){return Jo},deps:[]},{provide:Ia,useFactory:function(t){return ha(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new l(Ia),new h,new d]]},{provide:Oa,useValue:"USD"}];let pu=(()=>{class t{constructor(t){}}return t.\u0275mod=Et({type:t}),t.\u0275inj=v({factory:function(e){return new(e||t)(et(su))},providers:du}),t})();const gu={apiKey:"AIzaSyDiEVuogub3_XM940Hyefln_Fjl8WUIKm4",authDomain:"dlp-labo4.firebaseapp.com",databaseURL:"https://dlp-labo4.firebaseio.com",projectId:"dlp-labo4",storageBucket:"dlp-labo4.appspot.com",messagingSenderId:"211875682513",appId:"1:211875682513:web:f38741645cbf314a1b0df0",measurementId:"G-BX1F8Q1JY9"};let mu=null;function yu(){return mu}const vu=new G("DocumentToken");let bu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=y({factory:_u,token:t,providedIn:"platform"}),t})();function _u(){return et(Eu)}const wu=new G("Location Initialized");let Eu=(()=>{class t extends bu{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=yu().getLocation(),this._history=yu().getHistory()}getBaseHrefFromDOM(){return yu().getBaseHref(this._doc)}onPopState(t){yu().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){yu().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){Cu()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){Cu()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(et(vu))},t.\u0275prov=y({factory:Su,token:t,providedIn:"platform"}),t})();function Cu(){return!!window.history.pushState}function Su(){return new Eu(et(vu))}function Au(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function xu(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Tu(t){return t&&"?"!==t[0]?"?"+t:t}let Iu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=y({factory:Ou,token:t,providedIn:"root"}),t})();function Ou(t){const e=et(vu).location;return new ku(et(bu),e&&e.origin||"")}const Du=new G("appBaseHref");let ku=(()=>{class t extends Iu{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Au(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+Tu(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+Tu(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+Tu(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(et(bu),et(Du,8))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})(),Nu=(()=>{class t extends Iu{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=Au(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+Tu(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+Tu(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(et(bu),et(Du,8))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})(),ju=(()=>{class t{constructor(t,e){this._subject=new va,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=xu(Ru(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+Tu(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,Ru(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Tu(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Tu(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(et(Iu),et(bu))},t.normalizeQueryParams=Tu,t.joinWithSlash=Au,t.stripTrailingSlash=xu,t.\u0275prov=y({factory:Pu,token:t,providedIn:"root"}),t})();function Pu(){return new ju(et(Iu),et(bu))}function Ru(t){return t.replace(/\/index.html$/,"")}var Fu=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});class Mu{}let Lu=(()=>{class t extends Mu{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ua(e);if(n)return n;const r=e.split("-")[0];if(n=ua(r),n)return n;if("en"===r)return oa;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[ca.PluralCase]}(e||this.locale)(t)){case Fu.Zero:return"zero";case Fu.One:return"one";case Fu.Two:return"two";case Fu.Few:return"few";case Fu.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(et(Ia))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();class Vu{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Uu=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Dn()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Vu(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new Bu(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new Bu(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(vs(Yo),vs(Qo),vs(Ho))},t.\u0275dir=St({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class Bu{constructor(t,e){this.record=t,this.view=e}}let qu=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new zu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Hu("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Hu("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(vs(Yo),vs(Qo))},t.\u0275dir=St({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class zu{constructor(){this.$implicit=null,this.ngIf=null}}function Hu(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${T(e)}'.`)}function Gu(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${T(t)}'`)}const Wu=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g;let $u=(()=>{class t{transform(e){if(!e)return e;if("string"!=typeof e)throw Gu(t,e);return e.replace(Wu,t=>t[0].toUpperCase()+t.substr(1).toLowerCase())}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=At({name:"titlecase",type:t,pure:!0}),t})(),Ju=(()=>{class t{transform(e){if(!e)return e;if("string"!=typeof e)throw Gu(t,e);return e.toUpperCase()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=At({name:"uppercase",type:t,pure:!0}),t})(),Qu=(()=>{class t{}return t.\u0275mod=Et({type:t}),t.\u0275inj=v({factory:function(e){return new(e||t)},providers:[{provide:Mu,useClass:Lu}]}),t})(),Ku=(()=>{class t{}return t.\u0275prov=y({token:t,providedIn:"root",factory:()=>new Yu(et(vu),window,et(vn))}),t})();class Yu{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.window||!this.window.scrollTo)return!1;const t=Zu(this.window.history)||Zu(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window.scrollTo}catch(t){return!1}}}function Zu(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Xu extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new Xu,mu||(mu=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=ec||(ec=document.querySelector("base"),ec)?ec.getAttribute("href"):null;return null==e?null:(n=e,tc||(tc=document.createElement("a")),tc.setAttribute("href",n),"/"===tc.pathname.charAt(0)?tc.pathname:"/"+tc.pathname);var n}resetBaseElement(){ec=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let tc,ec=null;const nc=new G("TRANSITION_ID"),rc=[{provide:ba,useFactory:function(t,e,n){return()=>{n.get(_a).donePromise.then(()=>{const n=yu();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[nc,vu,is],multi:!0}];class ic{static init(){var t;t=new ic,Za=t}addToWindow(t){M.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},M.getAllAngularTestabilities=()=>t.getAllTestabilities(),M.getAllAngularRootElements=()=>t.getAllRootElements(),M.frameworkStabilizers||(M.frameworkStabilizers=[]),M.frameworkStabilizers.push(t=>{const e=M.getAllAngularTestabilities();let n=e.length,r=!1;const i=function(e){r=r||e,n--,0==n&&t(r)};e.forEach((function(t){t.whenStable(i)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?yu().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const sc=new G("EventManagerPlugins");let oc=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(et(sc),et(Ua))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();class ac{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=yu().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let uc=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})(),cc=(()=>{class t extends uc{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>yu().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(et(vu))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();const lc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},hc=/%COMP%/g;function fc(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?fc(t,i,n):(i=i.replace(hc,t),n.push(i))}return n}function dc(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let pc=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new gc(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case pt.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new mc(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case pt.Native:case pt.ShadowDom:return new yc(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=fc(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(et(oc),et(cc),et(wa))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();class gc{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(lc[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=lc[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=lc[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&Io.DashCase?t.style.setProperty(e,n,r&Io.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&Io.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,dc(n)):this.eventManager.addEventListener(t,e,dc(n))}}class mc extends gc{constructor(t,e,n,r){super(t),this.component=n;const i=fc(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(hc,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(hc,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class yc extends gc{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=r,this.shadowRoot=r.encapsulation===pt.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const i=fc(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let vc=(()=>{class t extends ac{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(et(vu))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();const bc=["alt","control","meta","shift"],_c={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},wc={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ec={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Cc=(()=>{class t extends ac{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>yu().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(bc.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&wc.hasOwnProperty(e)&&(e=wc[e]))}return _c[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),bc.forEach(r=>{r!=n&&(0,Ec[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(et(vu))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})(),Sc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=y({factory:function(){return et(Ac)},token:t,providedIn:"root"}),t})(),Ac=(()=>{class t extends Sc{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case tr.NONE:return e;case tr.HTML:return xn(e,"HTML")?An(e):Zn(this._doc,String(e));case tr.STYLE:return xn(e,"Style")?An(e):e;case tr.SCRIPT:if(xn(e,"Script"))return An(e);throw new Error("unsafe value used in a script context");case tr.URL:return Tn(e),xn(e,"URL")?An(e):Rn(String(e));case tr.RESOURCE_URL:if(xn(e,"ResourceURL"))return An(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return new _n(t)}bypassSecurityTrustStyle(t){return new wn(t)}bypassSecurityTrustScript(t){return new En(t)}bypassSecurityTrustUrl(t){return new Cn(t)}bypassSecurityTrustResourceUrl(t){return new Sn(t)}}return t.\u0275fac=function(e){return new(e||t)(et(vu))},t.\u0275prov=y({factory:function(){return t=et(W),new Ac(t.get(vu));var t},token:t,providedIn:"root"}),t})();const xc=eu(fu,"browser",[{provide:Aa,useValue:"browser"},{provide:Sa,useValue:function(){Xu.makeCurrent(),ic.init()},multi:!0},{provide:vu,useFactory:function(){return function(t){qt=t}(document),document},deps:[]}]),Tc=[[],{provide:Hi,useValue:"root"},{provide:vn,useFactory:function(){return new vn},deps:[]},{provide:sc,useClass:vc,multi:!0,deps:[vu,Ua,Aa]},{provide:sc,useClass:Cc,multi:!0,deps:[vu]},[],{provide:pc,useClass:pc,deps:[oc,cc,wa]},{provide:To,useExisting:pc},{provide:uc,useExisting:cc},{provide:cc,useClass:cc,deps:[vu]},{provide:Ja,useClass:Ja,deps:[Ua]},{provide:oc,useClass:oc,deps:[sc,Ua]},[]];let Ic=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:wa,useValue:e.appId},{provide:nc,useExisting:wa},rc]}}}return t.\u0275mod=Et({type:t}),t.\u0275inj=v({factory:function(e){return new(e||t)(et(t,12))},providers:Tc,imports:[Qu,pu]}),t})();"undefined"!=typeof window&&window;var Oc=n("cp0P"),Dc=n("Cfvw"),kc=n("lJxs");const Nc=new G("NgValueAccessor"),jc={provide:Nc,useExisting:D(()=>Pc),multi:!0};let Pc=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(vs(Oo),vs(Ao))},t.\u0275dir=St({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&Is("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[wo([jc])]}),t})();const Rc={provide:Nc,useExisting:D(()=>Mc),multi:!0},Fc=new G("CompositionEventMode");let Mc=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=yu()?yu().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(vs(Oo),vs(Ao),vs(Fc,8))},t.\u0275dir=St({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&Is("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[wo([Rc])]}),t})(),Lc=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=St({type:t}),t})(),Vc=(()=>{class t extends Lc{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Uc(e||t)},t.\u0275dir=St({type:t,features:[uo]}),t})();const Uc=pn(Vc);class Bc extends Lc{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){}get asyncValidator(){}}class qc{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let zc=(()=>{class t extends qc{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(vs(Bc,2))},t.\u0275dir=St({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&qs("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[uo]}),t})(),Hc=(()=>{class t extends qc{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(vs(Vc,2))},t.\u0275dir=St({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&qs("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[uo]}),t})();function Gc(t){return null==t||0===t.length}function Wc(t){return null!=t&&"number"==typeof t.length}const $c=new G("NgValidators"),Jc=new G("NgAsyncValidators"),Qc=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Kc{static min(t){return e=>{if(Gc(e.value)||Gc(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Gc(e.value)||Gc(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Gc(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Gc(t.value)||Qc.test(t.value)?null:{email:!0}}static minLength(t){return e=>Gc(e.value)||!Wc(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>Wc(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return Kc.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Gc(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Yc);return 0==e.length?null:function(t){return Xc(tl(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Yc);return 0==e.length?null:function(t){const n=tl(t,e).map(Zc);return Object(Oc.a)(n).pipe(Object(kc.a)(Xc))}}}function Yc(t){return null!=t}function Zc(t){const e=xs(t)?Object(Dc.a)(t):t;return Ts(e),e}function Xc(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function tl(t,e){return e.map(e=>e(t))}function el(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}const nl={provide:Nc,useExisting:D(()=>rl),multi:!0};let rl=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(vs(Oo),vs(Ao))},t.\u0275dir=St({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&Is("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[wo([nl])]}),t})();const il={provide:Nc,useExisting:D(()=>ol),multi:!0};let sl=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})(),ol=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Bc),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(vs(Oo),vs(Ao),vs(sl),vs(is))},t.\u0275dir=St({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&Is("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[wo([il])]}),t})();const al={provide:Nc,useExisting:D(()=>ul),multi:!0};let ul=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(vs(Oo),vs(Ao))},t.\u0275dir=St({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&Is("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[wo([al])]}),t})();const cl={provide:Nc,useExisting:D(()=>ll),multi:!0};let ll=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(vs(Oo),vs(Ao))},t.\u0275dir=St({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&Is("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[wo([cl])]}),t})();const hl={provide:Nc,useExisting:D(()=>fl),multi:!0};let fl=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(vs(Oo),vs(Ao))},t.\u0275dir=St({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&Is("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[wo([hl])]}),t})();function dl(t,e){return[...e.path,t]}function pl(t,e){t.validator=Kc.compose([t.validator,e.validator]),t.asyncValidator=Kc.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&gl(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&gl(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function gl(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function ml(t,e){t.validator=Kc.compose([t.validator,e.validator]),t.asyncValidator=Kc.composeAsync([t.asyncValidator,e.asyncValidator])}function yl(t){return null!=t?Kc.compose(el(t)):null}function vl(t){return null!=t?Kc.composeAsync(el(t)):null}function bl(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}const _l=[Pc,ul,rl,ll,fl,ol];function wl(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function El(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===Mc?n=t:(e=t,_l.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}function Cl(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function Sl(t){return(Il(t)?t.validators:t)||null}function Al(t){return Array.isArray(t)?yl(t):t||null}function xl(t,e){return(Il(e)?e.asyncValidators:t)||null}function Tl(t){return Array.isArray(t)?vl(t):t||null}function Il(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Ol{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Al(this._rawValidators),this._composedAsyncValidatorFn=Tl(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Al(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Tl(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING",this._hasOwnPendingAsyncValidator=!0;const e=Zc(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof kl?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Nl&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new va,this.statusChanges=new va}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Il(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class Dl extends Ol{constructor(t=null,e,n){super(Sl(e),xl(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class kl extends Ol{constructor(t,e,n){super(Sl(e),xl(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Dl?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Nl extends Ol{constructor(t,e,n){super(Sl(e),xl(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Dl?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const jl={provide:Vc,useExisting:D(()=>Rl)},Pl=(()=>Promise.resolve(null))();let Rl=(()=>{class t extends Vc{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new va,this.form=new kl({},yl(t),vl(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Pl.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),pl(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Pl.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),Cl(this._directives,t)})}addFormGroup(t){Pl.then(()=>{const e=this._findContainer(t.path),n=new kl({});ml(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Pl.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Pl.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,wl(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(vs($c,10),vs(Jc,10))},t.\u0275dir=St({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&Is("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[wo([jl]),uo]}),t})();const Fl={provide:Bc,useExisting:D(()=>Ll)},Ml=(()=>Promise.resolve(null))();let Ll=(()=>{class t extends Bc{constructor(t,e,n,r){super(),this.control=new Dl,this._registered=!1,this.update=new va,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=El(0,r)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),bl(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?dl(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return yl(this._rawValidators)}get asyncValidator(){return vl(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){pl(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Ml.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;Ml.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(vs(Vc,9),vs($c,10),vs(Jc,10),vs(Nc,10))},t.\u0275dir=St({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[wo([Fl]),uo,Mt]}),t})(),Vl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=St({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const Ul=new G("NgModelWithFormControlWarning"),Bl={provide:Vc,useExisting:D(()=>ql)};let ql=(()=>{class t extends Vc{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new va}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return pl(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){Cl(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);ml(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);ml(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,wl(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){const n=()=>{};e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&pl(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=yl(this._validators);this.form.validator=Kc.compose([this.form.validator,t]);const e=vl(this._asyncValidators);this.form.asyncValidator=Kc.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(vs($c,10),vs(Jc,10))},t.\u0275dir=St({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&Is("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[wo([Bl]),uo,Mt]}),t})();const zl={provide:Bc,useExisting:D(()=>Hl)};let Hl=(()=>{class t extends Bc{constructor(t,e,n,r,i){super(),this._ngModelWarningConfig=i,this._added=!1,this.update=new va,this._ngModelWarningSent=!1,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=El(0,r)}set isDisabled(t){}ngOnChanges(e){var n,r;this._added||this._setUpControl(),bl(e,this.viewModel)&&(n=t,this,r=this._ngModelWarningConfig,Dn()&&"never"!==r&&((null!==r&&"once"!==r||n._ngModelWarningSentOnce)&&("always"!==r||this._ngModelWarningSent)||(n._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return dl(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return yl(this._rawValidators)}get asyncValidator(){return vl(this._rawAsyncValidators)}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(vs(Vc,13),vs($c,10),vs(Jc,10),vs(Nc,10),vs(Ul,8))},t.\u0275dir=St({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[wo([zl]),uo,Mt]}),t._ngModelWarningSentOnce=!1,t})();const Gl={provide:$c,useExisting:D(()=>Wl),multi:!0};let Wl=(()=>{class t{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()}validate(t){return this.required?Kc.required(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=St({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&gs("required",e.required?"":null)},inputs:{required:"required"},features:[wo([Gl])]}),t})(),$l=(()=>{class t{}return t.\u0275mod=Et({type:t}),t.\u0275inj=v({factory:function(e){return new(e||t)}}),t})(),Jl=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,s=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,s=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new kl(n,{asyncValidators:i,updateOn:s,validators:r})}control(t,e,n){return new Dl(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new Nl(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof Dl||t instanceof kl||t instanceof Nl?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})(),Ql=(()=>{class t{}return t.\u0275mod=Et({type:t}),t.\u0275inj=v({factory:function(e){return new(e||t)},providers:[sl],imports:[$l]}),t})(),Kl=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Ul,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=Et({type:t}),t.\u0275inj=v({factory:function(e){return new(e||t)},providers:[Jl,sl],imports:[$l]}),t})();var Yl=n("LRne"),Zl=n("pxpQ"),Xl=n("eIep"),th=n("UXun"),eh=n("SxV6"),nh=n("qgXg"),rh=n("D0XW"),ih=n("vkgz"),sh=n("tf+s"),oh=n("Wcq6");function ah(){}class uh{constructor(t,e=nh.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class ch{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ah,{},ah,ah)),e.pipe(Object(ih.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class lh{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new uh(Zone.current)),this.insideAngular=t.run(()=>new uh(Zone.current,rh.b))}}function hh(t){return function(e){return(e=e.lift(new ch(t.ngZone))).pipe(Object(sh.a)(t.outsideAngular),Object(Zl.b)(t.insideAngular))}}const fh=["ngOnDestroy"],dh=new G("angularfire2.app.options"),ph=new G("angularfire2.app.nameOrConfig"),gh=new No("6.0.2");function mh(t,e,n){const r="object"==typeof n&&n||{};return r.name=r.name||"string"==typeof n&&n||"[DEFAULT]",oh.apps.filter(t=>t&&t.name===r.name)[0]||e.runOutsideAngular(()=>Object(oh.initializeApp)(t,r))}const yh={provide:class{},useFactory:mh,deps:[dh,Ua,[new h,ph]]};let vh=(()=>{class t{constructor(t){Object(oh.registerVersion)("angularfire",gh.full,t.toString()),Object(oh.registerVersion)("angular",jo.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:dh,useValue:e},{provide:ph,useValue:n}]}}}return t.\u0275mod=Et({type:t}),t.\u0275inj=v({factory:function(e){return new(e||t)(et(Aa))},providers:[yh]}),t})(),bh=(()=>{class t{constructor(t,e,r,i){const o=new lh(i),a=hh(o),u=Object(Yl.a)(void 0).pipe(Object(Zl.b)(o.outsideAngular),Object(Xl.a)(()=>i.runOutsideAngular(()=>n.e(5).then(n.bind(null,"6nsN")))),Object(kc.a)(()=>mh(t,i,e)),Object(kc.a)(t=>i.runOutsideAngular(()=>t.auth())),Object(th.a)({bufferSize:1,refCount:!1}));return u.pipe(Object(eh.a)()).subscribe(),this.authState=u.pipe(Object(Xl.a)(t=>i.runOutsideAngular(()=>new s.a(t.onAuthStateChanged.bind(t)))),a),this.user=u.pipe(Object(Xl.a)(t=>i.runOutsideAngular(()=>new s.a(t.onIdTokenChanged.bind(t)))),a),this.idToken=this.user.pipe(Object(Xl.a)(t=>t?Object(Dc.a)(t.getIdToken()):Object(Yl.a)(null))),this.idTokenResult=this.user.pipe(Object(Xl.a)(t=>t?Object(Dc.a)(t.getIdTokenResult()):Object(Yl.a)(null))),((t,e,n)=>new Proxy(t,{get:(r,i)=>n.runOutsideAngular(()=>{if(t[i])return t[i];if(fh.includes(i))return()=>{};const r=e.toPromise().then(t=>{const e=t&&t[i];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>r[e],apply:(t,e,n)=>r.then(t=>t&&t(...n))})})}))(this,u,i)}}return t.\u0275fac=function(e){return new(e||t)(et(dh),et(ph,8),et(Aa),et(Ua))},t.\u0275prov=y({factory:function(){return new t(et(dh),et(ph,8),et(Aa),et(Ua))},token:t,providedIn:"any"}),t})(),_h=(()=>{class t{}return t.\u0275mod=Et({type:t}),t.\u0275inj=v({factory:function(e){return new(e||t)},providers:[bh]}),t})();var wh=n("2Vo4"),Eh=n("itXk"),Ch=n("sVev"),Sh=n("NXyV"),Ah=n("EY2u"),xh=n("0EUg"),Th=n("NJ9Y"),Ih=n("IzEk"),Oh=n("JX91"),Dh=n("Kqap"),kh=n("pLZG"),Nh=n("JIr8"),jh=n("5+tZ"),Ph=n("bOdf"),Rh=n("BFxc"),Fh=n("nYR2"),Mh=n("bHdf");class Lh{constructor(t,e){this.id=t,this.url=e}}class Vh extends Lh{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Uh extends Lh{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Bh extends Lh{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class qh extends Lh{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class zh extends Lh{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hh extends Lh{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gh extends Lh{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Wh extends Lh{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $h extends Lh{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jh{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Qh{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Kh{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yh{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zh{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xh{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tf{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ef{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function nf(t){return new ef(t)}function rf(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function sf(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function of(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!af(t[i],e[i]))return!1;return!0}function af(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function uf(t){return Array.prototype.concat.apply([],t)}function cf(t){return t.length>0?t[t.length-1]:null}function lf(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function hf(t){return Ts(t)?t:xs(t)?Object(Dc.a)(Promise.resolve(t)):Object(Yl.a)(t)}function ff(t,e,n){return n?function(t,e){return of(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!mf(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>af(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!mf(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!mf(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!mf(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,s)}}(e,n,n.segments)}(t.root,e.root)}class df{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nf(this.queryParams)),this._queryParamMap}toString(){return _f.serialize(this)}}class pf{constructor(t,e){this.segments=t,this.children=e,this.parent=null,lf(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wf(this)}}class gf{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=nf(this.parameters)),this._parameterMap}toString(){return Tf(this)}}function mf(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function yf(t,e){let n=[];return lf(t.children,(t,r)=>{"primary"===r&&(n=n.concat(e(t,r)))}),lf(t.children,(t,r)=>{"primary"!==r&&(n=n.concat(e(t,r)))}),n}class vf{}class bf{parse(t){const e=new Nf(t);return new df(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return wf(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return lf(e.children,(e,n)=>{"primary"!==n&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=yf(e,(n,r)=>"primary"===r?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children.primary?`${wf(e)}/${n[0]}`:`${wf(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Cf(e)}=${Cf(t)}`).join("&"):`${Cf(e)}=${Cf(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const _f=new bf;function wf(t){return t.segments.map(t=>Tf(t)).join("/")}function Ef(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Cf(t){return Ef(t).replace(/%3B/gi,";")}function Sf(t){return Ef(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Af(t){return decodeURIComponent(t)}function xf(t){return Af(t.replace(/\+/g,"%20"))}function Tf(t){return`${Sf(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Sf(t)}=${Sf(e[t])}`).join("")}`;var e}const If=/^[^\/()?;=#]+/;function Of(t){const e=t.match(If);return e?e[0]:""}const Df=/^[^=?&#]+/,kf=/^[^?&#]+/;class Nf{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new pf([],{}):new pf([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new pf(t,e)),n}parseSegment(){const t=Of(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new gf(Af(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Of(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Of(this.remaining);t&&(n=t,this.capture(n))}t[Af(e)]=Af(n)}parseQueryParam(t){const e=function(t){const e=t.match(Df);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(kf);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=xf(e),i=xf(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Of(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new pf([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class jf{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Pf(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Pf(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Rf(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Rf(t,this._root).map(t=>t.value)}}function Pf(t,e){if(t===e.value)return e;for(const n of e.children){const e=Pf(t,n);if(e)return e}return null}function Rf(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Rf(t,n);if(r.length)return r.unshift(e),r}return[]}class Ff{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Mf(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Lf extends jf{constructor(t,e){super(t),this.snapshot=e,Hf(this,t)}toString(){return this.snapshot.toString()}}function Vf(t,e){const n=function(t,e){const n=new qf([],{},{},"",{},"primary",e,null,t.root,-1,{});return new zf("",new Ff(n,[]))}(t,e),r=new wh.a([new gf("",{})]),i=new wh.a({}),s=new wh.a({}),o=new wh.a({}),a=new wh.a(""),u=new Uf(r,i,o,a,s,"primary",e,n.root);return u.snapshot=n.root,new Lf(new Ff(u,[]),n)}class Uf{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(kc.a)(t=>nf(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(kc.a)(t=>nf(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Bf(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class qf{constructor(t,e,n,r,i,s,o,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=nf(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nf(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class zf extends jf{constructor(t,e){super(e),this.url=t,Hf(this,e)}toString(){return Gf(this._root)}}function Hf(t,e){e.value._routerState=t,e.children.forEach(e=>Hf(t,e))}function Gf(t){const e=t.children.length>0?` { ${t.children.map(Gf).join(", ")} } `:"";return`${t.value}${e}`}function Wf(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,of(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),of(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!of(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),of(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function $f(t,e){var n,r;return of(t.params,e.params)&&mf(n=t.url,r=e.url)&&n.every((t,e)=>of(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||$f(t.parent,e.parent))}function Jf(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Qf(t,e,n,r,i){let s={};return r&&lf(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new df(n.root===t?e:function t(e,n,r){const i={};return lf(e.children,(e,s)=>{i[s]=e===n?r:t(e,n,r)}),new pf(e.segments,i)}(n.root,t,e),s,i)}class Kf{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Jf(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==cf(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Yf{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Zf(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function Xf(t,e,n){if(t||(t=new pf([],{})),0===t.segments.length&&t.hasChildren())return td(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=Zf(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===o)break;if(o&&a&&"object"==typeof a&&void 0===a.outlets){if(!id(o,a,e))return s;r+=2}else{if(!id(o,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new pf(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new pf(t.segments.slice(r.pathIndex),t.children),td(e,0,i)}return r.match&&0===i.length?new pf(t.segments,{}):r.match&&!t.hasChildren()?ed(t,e,n):r.match?td(t,0,i):ed(t,e,n)}function td(t,e,n){if(0===n.length)return new pf(t.segments,{});{const r=function(t){return"object"==typeof t[0]&&null!==t[0]&&t[0].outlets?t[0].outlets:{primary:t}}(n),i={};return lf(r,(n,r)=>{null!==n&&(i[r]=Xf(t.children[r],e,n))}),lf(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new pf(t.segments,i)}}function ed(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&null!==n[i]&&void 0!==n[i].outlets){const t=nd(n[i].outlets);return new pf(r,t)}if(0===i&&Jf(n[0])){r.push(new gf(t.segments[e].path,n[0])),i++;continue}const s=Zf(n[i]),o=i<n.length-1?n[i+1]:null;s&&o&&Jf(o)?(r.push(new gf(s,rd(o))),i+=2):(r.push(new gf(s,{})),i++)}return new pf(r,{})}function nd(t){const e={};return lf(t,(t,n)=>{null!==t&&(e[n]=ed(new pf([],{}),0,t))}),e}function rd(t){const e={};return lf(t,(t,n)=>e[n]=""+t),e}function id(t,e,n){return t==n.path&&of(e,n.parameters)}class sd{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Wf(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Mf(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),lf(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=Mf(t),i=t.value.component?n.children:e;lf(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=Mf(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Xh(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Yh(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Wf(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),od(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet?e.outlet.activateWith(r,i):Dn()&&console&&console.warn&&console.warn(`A router outlet has not been instantiated during routes activation. URL Segment: '${r.snapshot._urlSegment}'`),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function od(t){Wf(t.value),t.children.forEach(od)}class ad{constructor(t,e){this.routes=t,this.module=e}}function ud(t){return"function"==typeof t}function cd(t){return t instanceof df}const ld=Symbol("INITIAL_VALUE");function hd(){return Object(Xl.a)(t=>Object(Eh.b)(...t.map(t=>t.pipe(Object(Ih.a)(1),Object(Oh.a)(ld)))).pipe(Object(Dh.a)((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==ld)return t;if(r===ld&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||cd(r))return r}return t},t)},ld),Object(kh.a)(t=>t!==ld),Object(kc.a)(t=>cd(t)?t:!0===t),Object(Ih.a)(1)))}class fd{constructor(t){this.segmentGroup=t||null}}class dd{constructor(t){this.urlTree=t}}function pd(t){return new s.a(e=>e.error(new fd(t)))}function gd(t){return new s.a(e=>e.error(new dd(t)))}function md(t){return new s.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class yd{constructor(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(st)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(kc.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Object(Nh.a)(t=>{if(t instanceof dd)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof fd)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(kc.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Object(Nh.a)(t=>{if(t instanceof fd)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new pf([],{primary:t}):t;return new df(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(kc.a)(t=>new pf([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(Yl.a)({});const n=[],r=[],i={};return lf(t,(t,s)=>{const o=e(s,t).pipe(Object(kc.a)(t=>i[s]=t));"primary"===s?n.push(o):r.push(o)}),Yl.a.apply(null,n.concat(r)).pipe(Object(xh.a)(),Object(Th.a)(),Object(kc.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,s){return Object(Yl.a)(...n).pipe(Object(kc.a)(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(Object(Nh.a)(t=>{if(t instanceof fd)return Object(Yl.a)(null);throw t}))),Object(xh.a)(),Object(eh.a)(t=>!!t),Object(Nh.a)((t,n)=>{if(t instanceof Ch.a||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(Yl.a)(new pf([],{}));throw new fd(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return wd(r)!==s?pd(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):pd(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?gd(i):this.lineralizeSegments(n,i).pipe(Object(jh.b)(n=>{const i=new pf(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:c}=vd(e,r,i);if(!o)return pd(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?gd(l):this.lineralizeSegments(r,l).pipe(Object(jh.b)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?Object(Sh.a)(()=>this.configLoader.load(t.injector,n).pipe(Object(kc.a)(t=>(n._loadedConfig=t,new pf(r,{}))))):Object(Yl.a)(new pf(r,{}));const{matched:i,consumedSegments:s,lastChild:o}=vd(e,n,r);if(!i)return pd(e);const a=r.slice(o);return this.getChildConfig(t,n,r).pipe(Object(jh.b)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:o}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>_d(t,e,n)&&"primary"!==wd(n))}(t,n,r)?{segmentGroup:bd(new pf(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&"primary"!==wd(r)&&(n[wd(r)]=new pf([],{}));return n}(r,new pf(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>_d(t,e,n))}(t,n,r)?{segmentGroup:bd(new pf(t.segments,function(t,e,n,r){const i={};for(const s of n)_d(t,e,s)&&!r[wd(s)]&&(i[wd(s)]=new pf([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,a,r);return 0===o.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(kc.a)(t=>new pf(s,t))):0===r.length&&0===o.length?Object(Yl.a)(new pf(s,{})):this.expandSegment(n,i,r,o,"primary",!0).pipe(Object(kc.a)(t=>new pf(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Yl.a)(new ad(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Yl.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(jh.b)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(kc.a)(t=>(e._loadedConfig=t,t))):function(t){return new s.a(e=>e.error(rf(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Yl.a)(new ad([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(Yl.a)(!0);const i=r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&ud(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!ud(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return hf(s)});return Object(Yl.a)(i).pipe(hd(),Object(ih.a)(t=>{if(!cd(t))return;const e=rf(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(kc.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Yl.a)(n);if(r.numberOfChildren>1||!r.children.primary)return md(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new df(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return lf(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return lf(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new pf(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function vd(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||sf)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function bd(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new pf(t.segments.concat(e.segments),e.children)}return t}function _d(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function wd(t){return t.outlet||"primary"}class Ed{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Cd{constructor(t,e){this.component=t,this.route=e}}function Sd(t,e,n){const r=t._root;return function t(e,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=Mf(n);return e.children.forEach(e=>{!function(e,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,a=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!mf(t.url,e.url);case"pathParamsOrQueryParamsChange":return!mf(t.url,e.url)||!of(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$f(t,e)||!of(t.queryParams,e.queryParams);case"paramsChange":default:return!$f(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);c?s.canActivateChecks.push(new Ed(i)):(o.data=a.data,o._resolvedData=a._resolvedData),t(e,n,o.component?u?u.children:null:r,i,s),c&&s.canDeactivateChecks.push(new Cd(u&&u.outlet&&u.outlet.component||null,a))}else a&&xd(n,u,s),s.canActivateChecks.push(new Ed(i)),t(e,null,o.component?u?u.children:null:r,i,s)}(e,o[e.value.outlet],r,i.concat([e.value]),s),delete o[e.value.outlet]}),lf(o,(t,e)=>xd(t,r.getContext(e),s)),s}(r,e?e._root:null,n,[r.value])}function Ad(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function xd(t,e,n){const r=Mf(t),i=t.value;lf(r,(t,r)=>{xd(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Cd(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Td(t,e){return null!==t&&e&&e(new Zh(t)),Object(Yl.a)(!0)}function Id(t,e){return null!==t&&e&&e(new Kh(t)),Object(Yl.a)(!0)}function Od(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Yl.a)(!0);const i=r.map(r=>Object(Sh.a)(()=>{const i=Ad(r,e,n);let s;if(function(t){return t&&ud(t.canActivate)}(i))s=hf(i.canActivate(e,t));else{if(!ud(i))throw new Error("Invalid CanActivate guard");s=hf(i(e,t))}return s.pipe(Object(eh.a)())}));return Object(Yl.a)(i).pipe(hd())}function Dd(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Object(Sh.a)(()=>{const i=e.guards.map(i=>{const s=Ad(i,e.node,n);let o;if(function(t){return t&&ud(t.canActivateChild)}(s))o=hf(s.canActivateChild(r,t));else{if(!ud(s))throw new Error("Invalid CanActivateChild guard");o=hf(s(r,t))}return o.pipe(Object(eh.a)())});return Object(Yl.a)(i).pipe(hd())}));return Object(Yl.a)(i).pipe(hd())}class kd{}class Nd{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){try{const t=Rd(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new qf([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Ff(n,e),i=new zf(this.url,r);return this.inheritParamsAndData(i._root),Object(Yl.a)(i)}catch(t){return new s.a(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=Bf(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=yf(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const s of t)try{return this.processSegmentAgainstRoute(s,e,n,r)}catch(i){if(!(i instanceof kd))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new kd}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new kd;if((t.outlet||"primary")!==r)throw new kd;let i,s=[],o=[];if("**"===t.path){const s=n.length>0?cf(n).parameters:{};i=new qf(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ld(t),r,t.component,t,jd(e),Pd(e)+n.length,Vd(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new kd;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||sf)(n,t,e);if(!r)throw new kd;const i={};lf(r.posParams,(t,e)=>{i[e]=t.path});const s=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s}}(e,t,n);s=a.consumedSegments,o=n.slice(a.lastChild),i=new qf(s,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ld(t),r,t.component,t,jd(e),Pd(e)+s.length,Vd(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=Rd(e,s,o,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new Ff(i,t)]}if(0===a.length&&0===c.length)return[new Ff(i,[])];const l=this.processSegment(a,u,c,"primary");return[new Ff(i,l)]}}function jd(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Pd(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Rd(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>Fd(t,e,n)&&"primary"!==Md(n))}(t,n,r)){const i=new pf(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&"primary"!==Md(s)){const n=new pf([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Md(s)]=n}return i}(t,e,r,new pf(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Fd(t,e,n))}(t,n,r)){const s=new pf(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(Fd(t,n,a)&&!i[Md(a)]){const n=new pf([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Md(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new pf(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Fd(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Md(t){return t.outlet||"primary"}function Ld(t){return t.data||{}}function Vd(t){return t.resolve||{}}function Ud(t){return function(e){return e.pipe(Object(Xl.a)(e=>{const n=t(e);return n?Object(Dc.a)(n).pipe(Object(kc.a)(()=>e)):Object(Dc.a)([e])}))}}class Bd extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}let qd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=vt({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&Ss(0,"router-outlet")},directives:function(){return[sp]},encapsulation:2}),t})();function zd(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Hd(r,Gd(e,r))}}function Hd(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&zd(t.children,e)}function Gd(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Wd(t){const e=t.children&&t.children.map(Wd),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=qd),n}const $d=new G("ROUTES");class Jd{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(kc.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new ad(uf(r.injector.get($d)).map(Wd),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(Dc.a)(this.loader.load(t)):hf(t()).pipe(Object(jh.b)(t=>t instanceof ot?Object(Yl.a)(t):Object(Dc.a)(this.compiler.compileModuleAsync(t))))}}class Qd{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Kd,this.attachRef=null}}class Kd{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Qd,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Yd{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Zd(t){throw t}function Xd(t,e,n){return e.parse("/")}function tp(t,e){return Object(Yl.a)(null)}let ep=(()=>{class t{constructor(t,e,n,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new r.a,this.errorHandler=Zd,this.malformedUriErrorHandler=Xd,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:tp,afterPreactivation:tp},this.urlHandlingStrategy=new Yd,this.routeReuseStrategy=new Bd,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=s.get(st),this.console=s.get(Ta);const c=s.get(Ua);this.isNgZoneEnabled=c instanceof Ua,this.resetConfig(u),this.currentUrlTree=new df(new pf([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Jd(o,a,t=>this.triggerEvent(new Jh(t)),t=>this.triggerEvent(new Qh(t))),this.routerState=Vf(this.currentUrlTree,this.rootComponentType),this.transitions=new wh.a({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Object(kh.a)(t=>0!==t.id),Object(kc.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Object(Xl.a)(t=>{let n=!1,r=!1;return Object(Yl.a)(t).pipe(Object(ih.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Object(Xl.a)(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Yl.a)(t).pipe(Object(Xl.a)(t=>{const n=this.transitions.getValue();return e.next(new Vh(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Ah.a:[t]}),Object(Xl.a)(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,function(t){return t.pipe(Object(Xl.a)(t=>function(t,e,n,r,i){return new yd(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(Object(kc.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(ih.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(s){return s.pipe(Object(jh.b)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){return new Nd(t,e,n,r,i,s).recognize()}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(kc.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(ih.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(ih.a)(t=>{const n=new zh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new Vh(n,this.serializeUrl(r),i,s);e.next(a);const u=Vf(r,this.rootComponentType).snapshot;return Object(Yl.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Ah.a}),Ud(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(ih.a)(t=>{const e=new Hh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(kc.a)(t=>Object.assign(Object.assign({},t),{guards:Sd(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(jh.b)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Object(Yl.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(Dc.a)(t).pipe(Object(jh.b)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(Yl.a)(!0);const o=s.map(s=>{const o=Ad(s,e,i);let a;if(function(t){return t&&ud(t.canDeactivate)}(o))a=hf(o.canDeactivate(t,e,n,r));else{if(!ud(o))throw new Error("Invalid CanDeactivate guard");a=hf(o(t,e,n,r))}return a.pipe(Object(eh.a)())});return Object(Yl.a)(o).pipe(hd())}(t.component,t.route,n,e,r)),Object(eh.a)(t=>!0!==t,!0))}(o,r,i,t).pipe(Object(jh.b)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(Dc.a)(e).pipe(Object(Ph.a)(e=>Object(Dc.a)([Id(e.route.parent,r),Td(e.route,r),Dd(t,e.path,n),Od(t,e.route,n)]).pipe(Object(xh.a)(),Object(eh.a)(t=>!0!==t,!0))),Object(eh.a)(t=>!0!==t,!0))}(r,s,t,e):Object(Yl.a)(n)),Object(kc.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(ih.a)(t=>{if(cd(t.guardsResult)){const e=rf(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(ih.a)(t=>{const e=new Gh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Object(kh.a)(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Bh(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Ud(t=>{if(t.guards.canActivateChecks.length)return Object(Yl.a)(t).pipe(Object(ih.a)(t=>{const e=new Wh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Xl.a)(t=>{let n=!1;return Object(Yl.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(jh.b)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(Yl.a)(t);let s=0;return Object(Dc.a)(n).pipe(Object(Ph.a)(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(Yl.a)({});const s={};return Object(Dc.a)(i).pipe(Object(jh.b)(i=>function(t,e,n,r){const i=Ad(t,e,r);return hf(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(ih.a)(t=>{s[i]=t}))),Object(Rh.a)(1),Object(jh.b)(()=>Object.keys(s).length===i.length?Object(Yl.a)(s):Ah.a))}(t._resolve,t,e,r).pipe(Object(kc.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Bf(t,n).resolve),null)))}(t.route,e,r,i)),Object(ih.a)(()=>s++),Object(Rh.a)(1),Object(jh.b)(e=>s===n.length?Object(Yl.a)(t):Ah.a))}))}),Object(ih.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Bh(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(ih.a)(t=>{const e=new $h(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Ud(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(kc.a)(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const s=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new Ff(i,s)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new Uf(new wh.a((i=n.value).url),new wh.a(i.params),new wh.a(i.queryParams),new wh.a(i.fragment),new wh.a(i.data),i.outlet,i.component,i),s=n.children.map(n=>t(e,n));return new Ff(r,s)}}var i}(t,e._root,n?n._root:void 0);return new Lf(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(ih.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(i=this.rootContexts,s=this.routeReuseStrategy,o=t=>this.triggerEvent(t),Object(kc.a)(t=>(new sd(s,t.targetRouterState,t.currentRouterState,o).activate(i),t))),Object(ih.a)({next(){n=!0},complete(){n=!0}}),Object(Fh.a)(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Bh(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),Object(Nh.a)(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=cd(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Bh(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new qh(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(s){t.reject(s)}}var i;return Ah.a}));var i,s,o}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){zd(t),this.config=t.map(Wd),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,preserveQueryParams:s,queryParamsHandling:o,preserveFragment:a}=e;Dn()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const u=n||this.routerState.root,c=a?this.currentUrlTree.fragment:i;let l=null;if(o)switch(o){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}else l=s?this.currentUrlTree.queryParams:r||null;return null!==l&&(l=this.removeEmptyProps(l)),function(t,e,n,r,i){if(0===n.length)return Qf(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Kf(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return lf(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Kf(n,e,r)}(n);if(s.toRoot())return Qf(e.root,new pf([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new Yf(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Yf(t,t===e.root,0)}const r=Jf(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Yf(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?td(o.segmentGroup,o.index,s.commands):Xf(o.segmentGroup,o.index,s.commands);return Qf(o.segmentGroup,a,e,r,i)}(u,this.currentUrlTree,t,l,c)}navigateByUrl(t,e={skipLocationChange:!1}){Dn()&&this.isNgZoneEnabled&&!Ua.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=cd(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(cd(t))return ff(this.currentUrlTree,t,e);const n=this.parseUrl(t);return ff(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Uh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(et(zi),et(vf),et(Kd),et(ju),et(is),et(au),et(Ma),et(void 0))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})(),np=(()=>{class t{constructor(t,e,n,i,s){this.router=t,this.route=e,this.commands=[],this.onChanges=new r.a,null==n&&i.setAttribute(s.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Dn()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:ip(this.skipLocationChange),replaceUrl:ip(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:ip(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:ip(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(vs(ep),vs(Uf),bs("tabindex"),vs(Oo),vs(Ao))},t.\u0275dir=St({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&Is("click",(function(){return e.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[Mt]}),t})(),rp=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new r.a,this.subscription=t.events.subscribe(t=>{t instanceof Uh&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Dn()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const i={skipLocationChange:ip(this.skipLocationChange),replaceUrl:ip(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:ip(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:ip(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(vs(ep),vs(Uf),vs(Iu))},t.\u0275dir=St({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&Is("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)})),2&t&&(so("href",e.href,nr),gs("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[Mt]}),t})();function ip(t){return""===t||!!t}let sp=(()=>{class t{constructor(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new va,this.deactivateEvents=new va,this.name=r||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new op(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(vs(Kd),vs(Yo),vs(So),bs("name"),vs(Bi))},t.\u0275dir=St({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class op{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Uf?this.route:t===Kd?this.childContexts:this.parent.get(t,e)}}class ap{}class up{preload(t,e){return Object(Yl.a)(null)}}let cp=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Jd(e,n,e=>t.triggerEvent(new Jh(e)),e=>t.triggerEvent(new Qh(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Object(kh.a)(t=>t instanceof Uh),Object(Ph.a)(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(st);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(Dc.a)(n).pipe(Object(Mh.a)(),Object(kc.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(jh.b)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(et(ep),et(au),et(Ma),et(is),et(ap))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})(),lp=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Vh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Uh&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof tf&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new tf(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(et(ep),et(Ku),et(void 0))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();const hp=new G("ROUTER_CONFIGURATION"),fp=new G("ROUTER_FORROOT_GUARD"),dp=[ju,{provide:vf,useClass:bf},{provide:ep,useFactory:function(t,e,n,r,i,s,o,a={},u,c){const l=new ep(null,t,e,n,r,i,s,uf(o));if(u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),a.errorHandler&&(l.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(l.malformedUriErrorHandler=a.malformedUriErrorHandler),a.enableTracing){const t=yu();l.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return a.onSameUrlNavigation&&(l.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(l.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.urlUpdateStrategy&&(l.urlUpdateStrategy=a.urlUpdateStrategy),a.relativeLinkResolution&&(l.relativeLinkResolution=a.relativeLinkResolution),l},deps:[vf,Kd,ju,is,au,Ma,$d,hp,[class{},new h],[class{},new h]]},Kd,{provide:Uf,useFactory:function(t){return t.routerState.root},deps:[ep]},{provide:au,useClass:lu},cp,up,class{preload(t,e){return e().pipe(Object(Nh.a)(()=>Object(Yl.a)(null)))}},{provide:hp,useValue:{enableTracing:!1}}];function pp(){return new tu("Router",ep)}let gp=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[dp,bp(e),{provide:fp,useFactory:vp,deps:[[ep,new h,new d]]},{provide:hp,useValue:n||{}},{provide:Iu,useFactory:yp,deps:[bu,[new l(Du),new h],hp]},{provide:lp,useFactory:mp,deps:[ep,Ku,hp]},{provide:ap,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:up},{provide:tu,multi:!0,useFactory:pp},[_p,{provide:ba,multi:!0,useFactory:wp,deps:[_p]},{provide:Cp,useFactory:Ep,deps:[_p]},{provide:xa,multi:!0,useExisting:Cp}]]}}static forChild(e){return{ngModule:t,providers:[bp(e)]}}}return t.\u0275mod=Et({type:t}),t.\u0275inj=v({factory:function(e){return new(e||t)(et(fp,8),et(ep,8))}}),t})();function mp(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new lp(t,e,n)}function yp(t,e,n={}){return n.useHash?new Nu(t,e):new ku(t,e)}function vp(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function bp(t){return[{provide:ss,multi:!0,useValue:t},{provide:$d,multi:!0,useValue:t}]}let _p=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new r.a}appInitializer(){return this.injector.get(wu,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(ep),r=this.injector.get(hp);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(Yl.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(hp),n=this.injector.get(cp),r=this.injector.get(lp),i=this.injector.get(ep),s=this.injector.get(su);t===s.components[0]&&(this.isLegacyEnabled(e)?i.initialNavigation():this.isLegacyDisabled(e)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(et(is))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();function wp(t){return t.appInitializer.bind(t)}function Ep(t){return t.bootstrapListener.bind(t)}const Cp=new G("Router Initializer");var Sp=n("wj3C"),Ap=n.n(Sp),xp=n("6Joi");function Tp(t,e){return function(t,e=rh.b){return new s.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot(n)}):r=t.onSnapshot(n),()=>{null!=r&&r()}})}(t,e)}function Ip(t,e){return Tp(t,e).pipe(Object(kc.a)(t=>({payload:t,type:"query"})))}function Op(t,e){return Ip(t,e).pipe(Object(kc.a)(t=>t.payload.docChanges().map(t=>({type:t.type,payload:t}))))}function Dp(t,e,n){return Ip(t,n).pipe(Object(kc.a)(t=>t.payload.docChanges()),Object(Dh.a)((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)||t.splice(e.newIndex,0,e);break;case"modified":(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&t.splice(e.oldIndex,1)}return t}(t,e))}),t}(t,n,e),[]),Object(kc.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function kp(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class Np{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){return t&&0!==t.length?Op(this.query,this.afs.schedulers.outsideAngular).pipe(Object(kc.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Object(kh.a)(t=>t.length>0),this.afs.keepUnstableUntilFirst):Op(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Object(Dh.a)((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=kp(t);return Dp(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Ip(this.query,this.afs.schedulers.outsideAngular).pipe(Object(kc.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Dc.a)(this.query.get(t)).pipe(Object(Zl.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new jp(this.ref.doc(t),this.afs)}}class jp{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=Lp(n,e);return new Np(r,i,this.afs)}snapshotChanges(){return Tp(this.ref,this.afs.schedulers.outsideAngular).pipe(Object(kc.a)(t=>({payload:t,type:"value"}))).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return this.snapshotChanges().pipe(Object(kc.a)(t=>t.payload.data()))}get(t){return Object(Dc.a)(this.ref.get(t)).pipe(Object(Zl.b)(this.afs.schedulers.insideAngular))}}class Pp{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Op(this.query,this.afs.schedulers.outsideAngular).pipe(Object(kc.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Object(kh.a)(t=>t.length>0),this.afs.keepUnstableUntilFirst):Op(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Object(Dh.a)((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=kp(t);return Dp(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return Ip(this.query,this.afs.schedulers.outsideAngular).pipe(Object(kc.a)(t=>t.payload.docs.map(t=>t.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Dc.a)(this.query.get(t)).pipe(Object(Zl.b)(this.afs.schedulers.insideAngular))}}const Rp=new G("angularfire2.enableFirestorePersistence"),Fp=new G("angularfire2.firestore.persistenceSettings"),Mp=new G("angularfire2.firestore.settings");function Lp(t,e=(t=>t)){return{query:e(t),ref:t}}let Vp=(()=>{class t{constructor(t,e,n,r,i,s,o){this.schedulers=new lh(s),this.keepUnstableUntilFirst=hh(this.schedulers),this.firestore=s.runOutsideAngular(()=>{const n=mh(t,s,e);xp.registerFirestore&&Object(xp.registerFirestore)(Ap.a);const i=n.firestore();return r&&i.settings(r),i}),this.persistenceEnabled$=n&&!function(t){return"server"===t}(i)?s.runOutsideAngular(()=>{try{return Object(Dc.a)(this.firestore.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(t){return Object(Yl.a)(!1)}}):Object(Yl.a)(!1)}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=Lp(n,e),s=this.schedulers.ngZone.run(()=>r);return new Np(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Pp(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new jp(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(et(dh),et(ph,8),et(Rp,8),et(Mp,8),et(Aa),et(Ua),et(Fp,8))},t.\u0275prov=y({factory:function(){return new t(et(dh),et(ph,8),et(Rp,8),et(Mp,8),et(Aa),et(Ua),et(Fp,8))},token:t,providedIn:"any"}),t})(),Up=(()=>{class t{constructor(t,e,n){this.AFauth=t,this.router=e,this.db=n}getCurrentUser(){return this.AFauth.currentUser}login(t,e){return new Promise((n,r)=>{this.AFauth.signInWithEmailAndPassword(t,e).then(t=>{n(t)}).catch(t=>{r(t)})})}logout(){this.AFauth.signOut().then(()=>{this.router.navigate(["/Login"])})}register(t,e,n){return new Promise((r,i)=>{this.AFauth.createUserWithEmailAndPassword(e,n).then(e=>{console.log(e.user.uid);const n=e.user.uid;this.db.collection("usuarios").doc(e.user.uid).set({nombre:t,uid:n,perfil:"usuario",puntajes:[{adivina:0},{agilidad:0},{anagrama:0},{ppt:0},{simon:0},{tateti:0}]}),r(e)}).catch(t=>{i(t)})})}}return t.\u0275fac=function(e){return new(e||t)(et(bh),et(ep),et(Vp))},t.\u0275prov=y({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Bp=(()=>{class t{constructor(t){this.Afauth=t}ngOnInit(){}logOut(){this.Afauth.logout()}navigateTo(t){console.log(t)}}return t.\u0275fac=function(e){return new(e||t)(vs(Up))},t.\u0275cmp=vt({type:t,selectors:[["app-menu"]],decls:30,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-primary"],["routerLink","/Principal",1,"navbar-brand"],[1,"fa","fa-home"],["type","button","data-toggle","collapse","data-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item"],["routerLink","/Principal",1,"nav-link"],[1,"nav-item","dropdown"],[1,"nav-link","dropdown-toggle"],["aria-labelledby","navbarDropdown",1,"dropdown-menu"],["routerLink","/Juegos/Agilidad",1,"dropdown-item"],["routerLink","/Juegos/Adivina",1,"dropdown-item"],["routerLink","/Juegos/Anagrama",1,"dropdown-item"],["routerLink","/Juegos/Tateti",1,"dropdown-item"],["routerLink","/Juegos/PiedraPapelTijera",1,"dropdown-item"],[1,"nav-item","iconos-collapse"],[1,"form-inline","my-2","my-lg-0"],["title","Desconectarse",1,"btn","btn-primary","my-2","my-sm-0",3,"click"],[1,"fa","fa-sign-out"],[1,"btn","btn-primary","my-2","my-sm-0"],[1,"fa","fa-cog"]],template:function(t,e){1&t&&(Es(0,"nav",0),Es(1,"a",1),Ss(2,"i",2),Cs(),Es(3,"button",3),Ss(4,"span",4),Cs(),Es(5,"div",5),Es(6,"ul",6),Es(7,"li",7),Es(8,"a",8),to(9,"Men\xfa"),Cs(),Cs(),Es(10,"li",9),Es(11,"a",10),to(12," Juegos "),Cs(),Es(13,"div",11),Es(14,"a",12),to(15,"Agilidad"),Cs(),Es(16,"a",13),to(17,"Adivina"),Cs(),Es(18,"a",14),to(19,"Anagrama"),Cs(),Es(20,"a",15),to(21,"TaTeTi"),Cs(),Es(22,"a",16),to(23,"Piedra Papel o Tijera"),Cs(),Cs(),Cs(),Ss(24,"li",17),Cs(),Es(25,"form",18),Es(26,"button",19),Is("click",(function(){return e.logOut()})),Ss(27,"i",20),Cs(),Es(28,"button",21),Ss(29,"i",22),Cs(),Cs(),Cs(),Cs())},directives:[rp,Vl,Hc,Rl],styles:[""]}),t})(),qp=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=vt({type:t,selectors:[["app-cabecera"]],decls:4,vars:0,consts:[[1,"header"],[1,"content"]],template:function(t,e){1&t&&(Es(0,"div",0),Es(1,"div",1),Es(2,"h1"),to(3,"Sala de Juegos"),Cs(),Cs(),Cs())},styles:[".panel[_ngcontent-%COMP%]{height:200px;background-position:50%;background-repeat:no-repeat;background-size:cover;position:relative}.hero-text[_ngcontent-%COMP%]{text-align:center;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#3e06b0}.hero-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border:none;outline:0;display:inline-block;padding:10px 25px;color:#000;background-color:#ddd;text-align:center;cursor:pointer}.hero-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#555;color:#fff}"]}),t})(),zp=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=vt({type:t,selectors:[["app-footer"]],decls:16,vars:0,consts:[[1,"container"],["routerLink","/acercaDe"],[1,"fa","fa-user-circle"],["href","https://github.com/denisc1n","target","_blank"],[1,"fa","fa-github"],[1,"fa","fa-creative-commons"]],template:function(t,e){1&t&&(Es(0,"footer",0),Es(1,"div"),Es(2,"p"),to(3,"Denis Leonel Pedemonte"),Cs(),Es(4,"ul"),Es(5,"li"),Es(6,"a",1),to(7," \xbfQuien Soy? "),Ss(8,"i",2),Cs(),Cs(),Es(9,"li"),Es(10,"a",3),to(11," En GitHub "),Ss(12,"i",4),Cs(),Cs(),Cs(),Es(13,"p"),Ss(14,"i",5),to(15," 2020 - Laboratio IV UTN FRA. "),Cs(),Cs(),Cs())},directives:[rp],styles:["footer[_ngcontent-%COMP%]{clear:both;width:100%;text-align:justify;padding:.3em;margin-top:1em}ul[_ngcontent-%COMP%]{margin:auto;padding:0;list-style-type:none}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}li[_ngcontent-%COMP%]{float:left;margin:0 1em 1em;padding:.2em}a[_ngcontent-%COMP%]:hover{background-color:#007bff;color:#f1f1f1;transition:.2s;box-shadow:0 4px 8px 0 rgba(0,0,0,.2)}p[_ngcontent-%COMP%]{margin-top:1em;clear:both}a[_ngcontent-%COMP%]{text-decoration:none;background-color:#f1f1f1;padding:.3em;border:1px solid #959595;border-radius:4px}footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-left:20px;margin-right:20px}"]}),t})(),Hp=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=vt({type:t,selectors:[["app-root"]],decls:6,vars:0,consts:[["id","page-container"],["id","content-wrap"],["id","footer"]],template:function(t,e){1&t&&(Es(0,"div",0),Es(1,"div",1),Ss(2,"app-menu"),Ss(3,"app-cabecera"),Ss(4,"router-outlet"),Cs(),Ss(5,"app-footer",2),Cs())},directives:[Bp,qp,sp,zp],styles:[""]}),t})(),Gp=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();const Wp=function(){var t={Get:0,Post:1,Put:2,Delete:3,Options:4,Head:5,Patch:6};return t[t.Get]="Get",t[t.Post]="Post",t[t.Put]="Put",t[t.Delete]="Delete",t[t.Options]="Options",t[t.Head]="Head",t[t.Patch]="Patch",t}(),$p=function(){var t={Basic:0,Cors:1,Default:2,Error:3,Opaque:4};return t[t.Basic]="Basic",t[t.Cors]="Cors",t[t.Default]="Default",t[t.Error]="Error",t[t.Opaque]="Opaque",t}(),Jp=function(){var t={NONE:0,JSON:1,FORM:2,FORM_DATA:3,TEXT:4,BLOB:5,ARRAY_BUFFER:6};return t[t.NONE]="NONE",t[t.JSON]="JSON",t[t.FORM]="FORM",t[t.FORM_DATA]="FORM_DATA",t[t.TEXT]="TEXT",t[t.BLOB]="BLOB",t[t.ARRAY_BUFFER]="ARRAY_BUFFER",t}(),Qp=function(){var t={Text:0,Json:1,ArrayBuffer:2,Blob:3};return t[t.Text]="Text",t[t.Json]="Json",t[t.ArrayBuffer]="ArrayBuffer",t[t.Blob]="Blob",t}();class Kp{constructor(t){this._headers=new Map,this._normalizedNames=new Map,t&&(t instanceof Kp?t.forEach((t,e)=>{t.forEach(t=>this.append(e,t))}):Object.keys(t).forEach(e=>{const n=Array.isArray(t[e])?t[e]:[t[e]];this.delete(e),n.forEach(t=>this.append(e,t))}))}static fromResponseHeaderString(t){const e=new Kp;return t.split("\n").forEach(t=>{const n=t.indexOf(":");if(n>0){const r=t.slice(0,n),i=t.slice(n+1).trim();e.set(r,i)}}),e}append(t,e){const n=this.getAll(t);null===n?this.set(t,e):n.push(e)}delete(t){const e=t.toLowerCase();this._normalizedNames.delete(e),this._headers.delete(e)}forEach(t){this._headers.forEach((e,n)=>t(e,this._normalizedNames.get(n),this._headers))}get(t){const e=this.getAll(t);return null===e?null:e.length>0?e[0]:null}has(t){return this._headers.has(t.toLowerCase())}keys(){return Array.from(this._normalizedNames.values())}set(t,e){Array.isArray(e)?e.length&&this._headers.set(t.toLowerCase(),[e.join(",")]):this._headers.set(t.toLowerCase(),[e]),this.mayBeSetNormalizedName(t)}values(){return Array.from(this._headers.values())}toJSON(){const t={};return this._headers.forEach((e,n)=>{const r=[];e.forEach(t=>r.push(...t.split(","))),t[this._normalizedNames.get(n)]=r}),t}getAll(t){return this.has(t)&&this._headers.get(t.toLowerCase())||null}entries(){throw new Error('"entries" method is not implemented on Headers class')}mayBeSetNormalizedName(t){const e=t.toLowerCase();this._normalizedNames.has(e)||this._normalizedNames.set(e,t)}}class Yp{constructor(t={}){const{body:e,status:n,headers:r,statusText:i,type:s,url:o}=t;this.body=null!=e?e:null,this.status=null!=n?n:null,this.headers=null!=r?r:null,this.statusText=null!=i?i:null,this.type=null!=s?s:null,this.url=null!=o?o:null}merge(t){return new Yp({body:t&&null!=t.body?t.body:this.body,status:t&&null!=t.status?t.status:this.status,headers:t&&null!=t.headers?t.headers:this.headers,statusText:t&&null!=t.statusText?t.statusText:this.statusText,type:t&&null!=t.type?t.type:this.type,url:t&&null!=t.url?t.url:this.url})}}let Zp=(()=>{class t extends Yp{constructor(){super({status:200,statusText:"Ok",type:$p.Default,headers:new Kp})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();class Xp{}class tg{}function eg(t){if("string"!=typeof t)return t;switch(t.toUpperCase()){case"GET":return Wp.Get;case"POST":return Wp.Post;case"PUT":return Wp.Put;case"DELETE":return Wp.Delete;case"OPTIONS":return Wp.Options;case"HEAD":return Wp.Head;case"PATCH":return Wp.Patch}throw new Error(`Invalid request method. The method "${t}" is not supported.`)}class ng{encodeKey(t){return rg(t)}encodeValue(t){return rg(t)}}function rg(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class ig{constructor(t="",e=new ng){this.rawParams=t,this.queryEncoder=e,this.paramsMap=function(t=""){const e=new Map;return t.length>0&&t.split("&").forEach(t=>{const n=t.indexOf("="),[r,i]=-1==n?[t,""]:[t.slice(0,n),t.slice(n+1)],s=e.get(r)||[];s.push(i),e.set(r,s)}),e}(t)}clone(){const t=new ig("",this.queryEncoder);return t.appendAll(this),t}has(t){return this.paramsMap.has(t)}get(t){const e=this.paramsMap.get(t);return Array.isArray(e)?e[0]:null}getAll(t){return this.paramsMap.get(t)||[]}set(t,e){if(null==e)return void this.delete(t);const n=this.paramsMap.get(t)||[];n.length=0,n.push(e),this.paramsMap.set(t,n)}setAll(t){t.paramsMap.forEach((t,e)=>{const n=this.paramsMap.get(e)||[];n.length=0,n.push(t[0]),this.paramsMap.set(e,n)})}append(t,e){if(null==e)return;const n=this.paramsMap.get(t)||[];n.push(e),this.paramsMap.set(t,n)}appendAll(t){t.paramsMap.forEach((t,e)=>{const n=this.paramsMap.get(e)||[];for(let r=0;r<t.length;++r)n.push(t[r]);this.paramsMap.set(e,n)})}replaceAll(t){t.paramsMap.forEach((t,e)=>{const n=this.paramsMap.get(e)||[];n.length=0;for(let r=0;r<t.length;++r)n.push(t[r]);this.paramsMap.set(e,n)})}toString(){const t=[];return this.paramsMap.forEach((e,n)=>{e.forEach(e=>t.push(this.queryEncoder.encodeKey(n)+"="+this.queryEncoder.encodeValue(e)))}),t.join("&")}delete(t){this.paramsMap.delete(t)}}class sg{json(){return"string"==typeof this._body?JSON.parse(this._body):this._body instanceof ArrayBuffer?JSON.parse(this.text()):this._body}text(t="legacy"){if(this._body instanceof ig)return this._body.toString();if(this._body instanceof ArrayBuffer)switch(t){case"legacy":return String.fromCharCode.apply(null,new Uint16Array(this._body));case"iso-8859":return String.fromCharCode.apply(null,new Uint8Array(this._body));default:throw new Error("Invalid value for encodingHint: "+t)}return null==this._body?"":"object"==typeof this._body?JSON.stringify(this._body,null,2):this._body.toString()}arrayBuffer(){return this._body instanceof ArrayBuffer?this._body:function(t){const e=new Uint16Array(t.length);for(let n=0,r=t.length;n<r;n++)e[n]=t.charCodeAt(n);return e.buffer}(this.text())}blob(){if(this._body instanceof Blob)return this._body;if(this._body instanceof ArrayBuffer)return new Blob([this._body]);throw new Error("The request body isn't either a blob or an array buffer")}}class og extends sg{constructor(t){super(),this._body=t.body,this.status=t.status,this.ok=this.status>=200&&this.status<=299,this.statusText=t.statusText,this.headers=t.headers,this.type=t.type,this.url=t.url}toString(){return`Response with status: ${this.status} ${this.statusText} for URL: ${this.url}`}}const ag=/^\)\]\}',?\n/;class ug{constructor(t,e,n){this.request=t,this.response=new s.a(r=>{const i=e.build();i.open(Wp[t.method].toUpperCase(),t.url),null!=t.withCredentials&&(i.withCredentials=t.withCredentials);const s=()=>{let e=1223===i.status?204:i.status,s=null;204!==e&&(s=void 0===i.response?i.responseText:i.response,"string"==typeof s&&(s=s.replace(ag,""))),0===e&&(e=s?200:0);const o=Kp.fromResponseHeaderString(i.getAllResponseHeaders()),a=("responseURL"in(u=i)?u.responseURL:/^X-Request-URL:/m.test(u.getAllResponseHeaders())?u.getResponseHeader("X-Request-URL"):null)||t.url;var u;let c=new Yp({body:s,status:e,headers:o,statusText:i.statusText||"OK",url:a});null!=n&&(c=n.merge(c));const l=new og(c);if(l.ok=(t=>t>=200&&t<300)(e),l.ok)return r.next(l),void r.complete();r.error(l)},o=t=>{let e=new Yp({body:t,type:$p.Error,status:i.status,statusText:i.statusText});null!=n&&(e=n.merge(e)),r.error(new og(e))};if(this.setDetectedContentType(t,i),null==t.headers&&(t.headers=new Kp),t.headers.has("Accept")||t.headers.append("Accept","application/json, text/plain, */*"),t.headers.forEach((t,e)=>i.setRequestHeader(e,t.join(","))),null!=t.responseType&&null!=i.responseType)switch(t.responseType){case Qp.ArrayBuffer:i.responseType="arraybuffer";break;case Qp.Json:i.responseType="json";break;case Qp.Text:i.responseType="text";break;case Qp.Blob:i.responseType="blob";break;default:throw new Error("The selected responseType is not supported")}return i.addEventListener("load",s),i.addEventListener("error",o),i.send(this.request.getBody()),()=>{i.removeEventListener("load",s),i.removeEventListener("error",o),i.abort()}})}setDetectedContentType(t,e){if(null==t.headers||null==t.headers.get("Content-Type"))switch(t.contentType){case Jp.NONE:break;case Jp.JSON:e.setRequestHeader("content-type","application/json");break;case Jp.FORM:e.setRequestHeader("content-type","application/x-www-form-urlencoded;charset=UTF-8");break;case Jp.TEXT:e.setRequestHeader("content-type","text/plain");break;case Jp.BLOB:const n=t.blob();n.type&&e.setRequestHeader("content-type",n.type)}}}class cg{constructor(t="XSRF-TOKEN",e="X-XSRF-TOKEN"){this._cookieName=t,this._headerName=e}configureRequest(t){const e=yu().getCookie(this._cookieName);e&&t.headers.set(this._headerName,e)}}let lg=(()=>{class t{constructor(t,e,n){this._browserXHR=t,this._baseResponseOptions=e,this._xsrfStrategy=n}createConnection(t){return this._xsrfStrategy.configureRequest(t),new ug(t,this._browserXHR,this._baseResponseOptions)}}return t.\u0275fac=function(e){return new(e||t)(et(Gp),et(Yp),et(tg))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();class hg{get search(){return this.params}set search(t){this.params=t}constructor(t={}){const{method:e,headers:n,body:r,url:i,search:s,params:o,withCredentials:a,responseType:u}=t;this.method=null!=e?eg(e):null,this.headers=null!=n?n:null,this.body=null!=r?r:null,this.url=null!=i?i:null,this.params=this._mergeSearchParams(o||s),this.withCredentials=null!=a?a:null,this.responseType=null!=u?u:null}merge(t){return new hg({method:t&&null!=t.method?t.method:this.method,headers:t&&null!=t.headers?t.headers:new Kp(this.headers),body:t&&null!=t.body?t.body:this.body,url:t&&null!=t.url?t.url:this.url,params:t&&this._mergeSearchParams(t.params||t.search),withCredentials:t&&null!=t.withCredentials?t.withCredentials:this.withCredentials,responseType:t&&null!=t.responseType?t.responseType:this.responseType})}_mergeSearchParams(t){return t?t instanceof ig?t.clone():"string"==typeof t?new ig(t):this._parseParams(t):this.params}_parseParams(t={}){const e=new ig;return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(t=>this._appendParam(n,t,e)):this._appendParam(n,r,e)}),e}_appendParam(t,e,n){"string"!=typeof e&&(e=JSON.stringify(e)),n.append(t,e)}}let fg=(()=>{class t extends hg{constructor(){super({method:Wp.Get,headers:new Kp})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();class dg extends sg{constructor(t){super();const e=t.url;this.url=t.url;const n=t.params||t.search;if(n){let t;if(t="object"!=typeof n||n instanceof ig?n.toString():function(t){const e=new ig;return Object.keys(t).forEach(n=>{const r=t[n];r&&Array.isArray(r)?r.forEach(t=>e.append(n,t.toString())):e.append(n,r.toString())}),e}(n).toString(),t.length>0){let n="?";-1!=this.url.indexOf("?")&&(n="&"==this.url[this.url.length-1]?"":"&"),this.url=e+n+t}}this._body=t.body,this.method=eg(t.method),this.headers=new Kp(t.headers),this.contentType=this.detectContentType(),this.withCredentials=t.withCredentials,this.responseType=t.responseType}detectContentType(){switch(this.headers.get("content-type")){case"application/json":return Jp.JSON;case"application/x-www-form-urlencoded":return Jp.FORM;case"multipart/form-data":return Jp.FORM_DATA;case"text/plain":case"text/html":return Jp.TEXT;case"application/octet-stream":return this._body instanceof vg?Jp.ARRAY_BUFFER:Jp.BLOB;default:return this.detectContentTypeFromBody()}}detectContentTypeFromBody(){return null==this._body?Jp.NONE:this._body instanceof ig?Jp.FORM:this._body instanceof mg?Jp.FORM_DATA:this._body instanceof yg?Jp.BLOB:this._body instanceof vg?Jp.ARRAY_BUFFER:this._body&&"object"==typeof this._body?Jp.JSON:Jp.TEXT}getBody(){switch(this.contentType){case Jp.JSON:case Jp.FORM:return this.text();case Jp.FORM_DATA:return this._body;case Jp.TEXT:return this.text();case Jp.BLOB:return this.blob();case Jp.ARRAY_BUFFER:return this.arrayBuffer();default:return null}}}const pg=function(){},gg="object"==typeof window?window:pg,mg=gg.FormData||pg,yg=gg.Blob||pg,vg=gg.ArrayBuffer||pg;function bg(t,e){return t.createConnection(e).response}function _g(t,e,n,r){return t.merge(new hg(e?{method:e.method||n,url:e.url||r,search:e.search,params:e.params,headers:e.headers,body:e.body,withCredentials:e.withCredentials,responseType:e.responseType}:{method:n,url:r}))}let wg=(()=>{class t{constructor(t,e){this._backend=t,this._defaultOptions=e}request(t,e){let n;if("string"==typeof t)n=bg(this._backend,new dg(_g(this._defaultOptions,e,Wp.Get,t)));else{if(!(t instanceof dg))throw new Error("First argument must be a url string or Request instance.");n=bg(this._backend,t)}return n}get(t,e){return this.request(new dg(_g(this._defaultOptions,e,Wp.Get,t)))}post(t,e,n){return this.request(new dg(_g(this._defaultOptions.merge(new hg({body:e})),n,Wp.Post,t)))}put(t,e,n){return this.request(new dg(_g(this._defaultOptions.merge(new hg({body:e})),n,Wp.Put,t)))}delete(t,e){return this.request(new dg(_g(this._defaultOptions,e,Wp.Delete,t)))}patch(t,e,n){return this.request(new dg(_g(this._defaultOptions.merge(new hg({body:e})),n,Wp.Patch,t)))}head(t,e){return this.request(new dg(_g(this._defaultOptions,e,Wp.Head,t)))}options(t,e){return this.request(new dg(_g(this._defaultOptions,e,Wp.Options,t)))}}return t.\u0275fac=function(e){return new(e||t)(et(Xp),et(hg))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();function Eg(){return new cg}function Cg(t,e){return new wg(t,e)}let Sg=(()=>{class t{}return t.\u0275mod=Et({type:t}),t.\u0275inj=v({factory:function(e){return new(e||t)},providers:[{provide:wg,useFactory:Cg,deps:[lg,hg]},Gp,{provide:hg,useClass:fg},{provide:Yp,useClass:Zp},lg,{provide:tg,useFactory:Eg}]}),t})();var Ag=n("4c1C");n("S7rW"),n("4XzM"),n("EUDy");let xg=(()=>{class t{constructor(t){this.http=t}httpGetP(t){return this.http.get(t).toPromise().then(this.extractData).catch(this.handleError)}httpPostP(t,e){return this.http.get(t).subscribe(t=>(console.log(t),t))}httpGetO(t){return this.http.get(t).map(t=>t.json()).catch(t=>Ag.Observable.throw(t.json().error||"Server error"))}extractData(t){return t.json()||{}}handleError(t){return t}}return t.\u0275fac=function(e){return new(e||t)(et(wg))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})(),Tg=(()=>{class t{constructor(t){this.miHttp=t}listar(){return this.miHttp.httpGetP("https://restcountries.eu/rest/v2/all").then(t=>(console.log(t),t)).catch(t=>(console.log(t),null))}}return t.\u0275fac=function(e){return new(e||t)(et(xg))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})(),Ig=(()=>{class t{constructor(t){this.miHttp=t,this.api="http://localhost:8080/jugadoresarchivo/apirestjugadores/"}traerJugadores(t){return this.miHttp.httpGetO(this.api+t).toPromise().then(t=>(console.log("Archivo jugadores"),t),t=>{console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(et(xg))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})(),Og=(()=>{class t{constructor(t){this.miHttp=t}traertodos(t,e){return this.miHttp.traerJugadores(t).then(t=>{let n;return console.info("jugadores service",t),this.filtrado=t,n="ganadores"==e,this.filtrado=this.filtrado.filter(t=>t.gano===n||"todos"==e),this.filtrado}).catch(t=>(console.log("error"),this.filtrado))}}return t.\u0275fac=function(e){return new(e||t)(et(Ig))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();class Dg{constructor(t,e,n){this.nombre="Sin Nombre",this.gano=!1,t&&(this.nombre=t),e&&(this.gano=e),this.jugador=n||"natalia natalia"}retornarAyuda(){return"NO hay Ayuda definida"}}class kg extends Dg{constructor(t,e,n){super("Adivina el n\xfamero",e,n),this.numeroSecreto=0,this.numeroIngresado=0}verificar(){return this.numeroIngresado==this.numeroSecreto&&(this.gano=!0),!!this.gano}generarNumero(){this.numeroSecreto=Math.floor(100*Math.random()+1),console.info("numero Secreto:"+this.numeroSecreto),this.gano=!1}retornarAyuda(){return this.numeroIngresado<this.numeroSecreto?"Falta":"Te pasaste"}}let Ng=(()=>{class t{constructor(t,e){this.db=t,this.authService=e,this.dbUsersRef=this.db.collection("usuarios")}getUsers(){return this.dbUsersRef.valueChanges()}getUserByUid(t){if(console.log(t),""!==t.then.name)return this.dbUsersRef.doc(t.then.name).valueChanges()}updatePuntaje(t,e){return console.info("puntajes updates",e),this.dbUsersRef.doc(t).update({puntajes:e})}}return t.\u0275fac=function(e){return new(e||t)(et(Vp),et(Up))},t.\u0275prov=y({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class jg{}function Pg(t,e){return{type:7,name:t,definitions:e,options:{}}}function Rg(t,e=null){return{type:4,styles:e,timings:t}}function Fg(t,e=null){return{type:2,steps:t,options:e}}function Mg(t){return{type:6,styles:t,offset:null}}function Lg(t,e,n){return{type:0,name:t,styles:e,options:n}}function Vg(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function Ug(t){Promise.resolve(null).then(t)}class Bg{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ug(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class qg{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?Ug(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}const zg=["toast-component",""];function Hg(t,e){if(1&t){const t=As();Es(0,"button",5),Is("click",(function(){return oe(t),ks().remove()})),Es(1,"span",6),to(2,"\xd7"),Cs(),Cs()}}function Gg(t,e){if(1&t&&(function(t,e,n){const r=ie(),i=se(),s=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=Xt(s,undefined),a=kr(e,n[6],0,4,"ng-container",o);return null!==o&&os(a,o,!0),Hr(e,n,a,Xt(s,undefined)),null!==e.queries&&e.queries.elementStart(e,a),a}(0,i,r):i.data[20];ue(s,!0);const o=r[20]=r[11].createComment("");Ii(i,r,o,s),ir(o,r),jt(s)&&(Mr(i,r,s),Fr(i,s,r))}(),to(1),function(){let t=ae();const e=se();ce()?le():(t=t.parent,ue(t,!1)),e.firstCreatePass&&(ke(e,t),kt(t)&&e.queries.elementEnd(t))}()),2&t){const t=ks(2);_r(1),no("[",t.duplicatesCount+1,"]")}}function Wg(t,e){if(1&t&&(Es(0,"div"),to(1),ys(2,Gg,2,1,"ng-container",4),Cs()),2&t){const t=ks();zs(t.options.titleClass),gs("aria-label",t.title),_r(1),no(" ",t.title," "),_r(1),_s("ngIf",t.duplicatesCount)}}function $g(t,e){if(1&t&&Ss(0,"div",7),2&t){const t=ks();zs(t.options.messageClass),_s("innerHTML",t.message,er)}}function Jg(t,e){if(1&t&&(Es(0,"div",8),to(1),Cs()),2&t){const t=ks();zs(t.options.messageClass),gs("aria-label",t.message),_r(1),no(" ",t.message," ")}}function Qg(t,e){if(1&t&&(Es(0,"div"),Ss(1,"div",9),Cs()),2&t){const t=ks();_r(1),Bs("width",t.width+"%")}}class Kg{constructor(t,e,n,i,s,o){this.toastId=t,this.config=e,this.message=n,this.title=i,this.toastType=s,this.toastRef=o,this._onTap=new r.a,this._onAction=new r.a,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}}const Yg={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},Zg=new G("ToastConfig");class Xg{constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){const t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class tm extends class{attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}}{constructor(t,e,n){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=n}attachComponentPortal(t,e){const n=this._componentFactoryResolver.resolveComponentFactory(t.component);let r;return r=n.create(t.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let em=(()=>{class t{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),this._document.body.appendChild(t),this._containerElement=t}}return t.\u0275fac=function(e){return new(e||t)(et(vu))},t.\u0275prov=y({factory:function(){return new t(et(vu))},token:t,providedIn:"root"}),t})();class nm{constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}}let rm=(()=>{class t{constructor(t,e,n,r){this._overlayContainer=t,this._componentFactoryResolver=e,this._appRef=n,this._document=r,this._paneElements=new Map}create(t,e){return this._createOverlayRef(this.getPaneElement(t,e))}getPaneElement(t="",e){return this._paneElements.get(e)||this._paneElements.set(e,{}),this._paneElements.get(e)[t]||(this._paneElements.get(e)[t]=this._createPaneElement(t,e)),this._paneElements.get(e)[t]}_createPaneElement(t,e){const n=this._document.createElement("div");return n.id="toast-container",n.classList.add(t),n.classList.add("toast-container"),e?e.getContainerElement().appendChild(n):this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalHost(t){return new tm(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new nm(this._createPortalHost(t))}}return t.\u0275fac=function(e){return new(e||t)(et(em),et(So),et(su),et(vu))},t.\u0275prov=y({factory:function(){return new t(et(em),et(So),et(su),et(vu))},token:t,providedIn:"root"}),t})();class im{constructor(t){this._overlayRef=t,this.duplicatesCount=0,this._afterClosed=new r.a,this._activate=new r.a,this._manualClose=new r.a,this._resetTimeout=new r.a,this._countDuplicate=new r.a}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}class sm{constructor(t,e){this._toastPackage=t,this._parentInjector=e}get(t,e,n){return t===Kg?this._toastPackage:this._parentInjector.get(t,e,n)}}let om=(()=>{class t{constructor(t,e,n,r,i){this.overlay=e,this._injector=n,this.sanitizer=r,this.ngZone=i,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},t.default.iconClasses),t.config.iconClasses))}show(t,e,n={},r=""){return this._preBuildNotification(r,t,e,this.applyConfig(n))}success(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,e,this.applyConfig(n))}error(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,e,this.applyConfig(n))}info(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,e,this.applyConfig(n))}warning(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,e,this.applyConfig(n))}clear(t){for(const e of this.toasts)if(void 0!==t){if(e.toastId===t)return void e.toastRef.manualClose()}else e.toastRef.manualClose()}remove(t){const e=this._findToast(t);if(!e)return!1;if(e.activeToast.toastRef.close(),this.toasts.splice(e.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length)return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const t=this.toasts[this.currentlyActive].toastRef;t.isInactive()||(this.currentlyActive=this.currentlyActive+1,t.activate())}return!0}findDuplicate(t="",e=!1,n=!1){for(const r of this.toasts)if(r.message===t)return r.toastRef.onDuplicate(e,n),r;return null}applyConfig(t={}){return Object.assign(Object.assign({},this.toastrConfig),t)}_findToast(t){for(let e=0;e<this.toasts.length;e++)if(this.toasts[e].toastId===t)return{index:e,activeToast:this.toasts[e]};return null}_preBuildNotification(t,e,n,r){return r.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,e,n,r)):this._buildNotification(t,e,n,r)}_buildNotification(t,e,n,r){if(!r.toastComponent)throw new Error("toastComponent required");const i=this.findDuplicate(e,this.toastrConfig.resetTimeoutOnDuplicate&&r.timeOut>0,this.toastrConfig.countDuplicates);if(e&&this.toastrConfig.preventDuplicates&&null!==i)return i;this.previousToastMessage=e;let s=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(s=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const o=this.overlay.create(r.positionClass,this.overlayContainer);this.index=this.index+1;let a=e;e&&r.enableHtml&&(a=this.sanitizer.sanitize(tr.HTML,e));const u=new im(o),c=new Kg(this.index,r,a,n,t,u),l=new sm(c,this._injector),h=new Xg(r.toastComponent,l),f=o.attach(h,this.toastrConfig.newestOnTop);u.componentInstance=f.instance;const d={toastId:this.index,message:e||"",toastRef:u,onShown:u.afterActivate(),onHidden:u.afterClosed(),onTap:c.onTap(),onAction:c.onAction(),portal:f};return s||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{d.toastRef.activate()})),this.toasts.push(d),d}}return t.\u0275fac=function(e){return new(e||t)(et(Zg),et(rm),et(is),et(Sc),et(Ua))},t.\u0275prov=y({factory:function(){return new t(et(Zg),et(rm),et(W),et(Sc),et(Ua))},token:t,providedIn:"root"}),t})(),am=(()=>{class t{constructor(t,e,n){this.toastrService=t,this.toastPackage=e,this.ngZone=n,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=e.message,this.title=e.title,this.options=e.config,this.originalTimeout=e.config.timeOut,this.toastClasses=`${e.toastType} ${e.config.toastClass}`,this.sub=e.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=e.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=e.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=e.toastRef.countDuplicate().subscribe(t=>{this.duplicatesCount=t})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state.value&&(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,e){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),e)):this.timeout=setTimeout(()=>t(),e)}outsideInterval(t,e){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),e)):this.intervalId=setInterval(()=>t(),e)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return t.\u0275fac=function(e){return new(e||t)(vs(om),vs(Kg),vs(Ua))},t.\u0275cmp=vt({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,e){1&t&&Is("click",(function(){return e.tapToast()}))("mouseenter",(function(){return e.stickAround()}))("mouseleave",(function(){return e.delayedHideToast()})),2&t&&(oo("@flyInOut",e.state),zs(e.toastClasses),Bs("display",e.displayStyle))},attrs:zg,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(t,e){1&t&&(ys(0,Hg,3,0,"button",0),ys(1,Wg,3,5,"div",1),ys(2,$g,1,3,"div",2),ys(3,Jg,2,4,"div",3),ys(4,Qg,2,2,"div",4)),2&t&&(_s("ngIf",e.options.closeButton),_r(1),_s("ngIf",e.title),_r(1),_s("ngIf",e.message&&e.options.enableHtml),_r(1),_s("ngIf",e.message&&!e.options.enableHtml),_r(1),_s("ngIf",e.options.progressBar))},directives:[qu],encapsulation:2,data:{animation:[Pg("flyInOut",[Lg("inactive",Mg({opacity:0})),Lg("active",Mg({opacity:1})),Lg("removed",Mg({opacity:0})),Vg("inactive => active",Rg("{{ easeTime }}ms {{ easing }}")),Vg("active => removed",Rg("{{ easeTime }}ms {{ easing }}"))])]}}),t})();const um=Object.assign(Object.assign({},Yg),{toastComponent:am});let cm=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[{provide:Zg,useValue:{default:um,config:e}}]}}}return t.\u0275mod=Et({type:t}),t.\u0275inj=v({factory:function(e){return new(e||t)},imports:[[Qu]]}),t})();function lm(t,e){if(1&t){const t=As();Es(0,"div"),Es(1,"label",7),to(2,"Gener\xe1 un n\xfamero: "),Cs(),Es(3,"p"),Es(4,"button",8),Is("click",(function(){return oe(t),ks().generarNumeroUsr()})),to(5," Nuevo n\xfamero secreto "),Cs(),Cs(),Cs()}}function hm(t,e){if(1&t){const t=As();Es(0,"div"),Es(1,"label",7),to(2,"Ingrese un n\xfamero: "),Cs(),Es(3,"div",9),Es(4,"input",10),Is("ngModelChange",(function(e){return oe(t),ks().nuevoJuego.numeroIngresado=e})),Cs(),Es(5,"div",11),Es(6,"button",5),Is("click",(function(){return oe(t),ks().verificarUsr()})),to(7," Verificar "),Cs(),Cs(),Cs(),Cs()}if(2&t){const t=ks();_r(4),_s("ngModel",t.nuevoJuego.numeroIngresado),_r(1),_s("hidden",t.ocultarVerificar)}}function fm(t,e){if(1&t&&(Es(0,"h6",15),to(1),Cs()),2&t){const t=ks(2);_r(1),no(" ",t.nuevoJuego.numeroIngresado," ")}}function dm(t,e){if(1&t&&(Es(0,"div"),ys(1,fm,2,1,"h6",12),Ss(2,"hr",13),Es(3,"p"),Ss(4,"i",14),to(5," Esperando que ingrese un n\xfamero "),Cs(),Cs()),2&t){const t=ks();_r(1),_s("ngIf",0!=t.nuevoJuego.numeroIngresado)}}function pm(t,e){1&t&&(Es(0,"h3",4),to(1," A\xfan no gan\xf3 "),Cs()),2&t&&_s("hidden",ks().nuevoJuego.gano)}let gm=(()=>{class t{constructor(t,e,n){this.toastr=t,this.authService=e,this.dataService=n,this.nuevoJuego=new kg,this.ocultarVerificar=!1}setInputNumeroIngresado(){setTimeout(()=>{document.getElementById("input-numero-ingresado").value=null,document.getElementById("input-numero-ingresado").focus()},1)}generarNumeroUsr(){console.log("Aca"),this.nuevoJuego.generarNumero()}verificarUsr(){if(this.contador++,this.ocultarVerificar=!0,console.info("resultado: ",this.nuevoJuego.gano),this.nuevoJuego.verificar())this.mostrarMensaje("Lo adivinaste",!0),this.nuevoJuego.numeroSecreto=0;else{let t;switch(this.contador){case 1:t="Primer intento fallido, vamos de nuevo";break;case 2:t="No, te estar\xe1s Acercando???";break;case 3:t="No es, yo cre\xed que la tercera era la vencida";break;case 4:t="No era el "+this.nuevoJuego.numeroIngresado;break;case 5:t="5 intentos y nada";break;case 6:t="Afortunado en el amor";break;default:t="Ya le erraste "+this.contador+" veces"}this.mostrarMensaje("#"+this.contador+" "+t+" - Ayuda: "+this.nuevoJuego.retornarAyuda())}console.info("resultado: ",this.nuevoJuego.gano)}mostrarMensaje(t="este es el msg",e=!1){this.mensajes=t,e?this.toastr.success(t,"\xa1Felicitaciones!"):(this.toastr.error(t,"Segu\xed participando"),this.setInputNumeroIngresado()),this.ocultarVerificar=!1,this.nuevoJuego.numeroIngresado=0}guardar(){this.user.puntajes.adivina+=1,this.dataService.updatePuntaje(this.user.uid,this.user.puntajes).then(()=>{this.toastr.success("Puntos guardados")}).catch(t=>{this.toastr.error("Al guardar: "+t.message,"Error")})}getCurrentUser(){let t=this.authService.getCurrentUser();this.dataService.getUserByUid(t).subscribe(t=>{this.user=t})}ngOnInit(){this.getCurrentUser()}}return t.\u0275fac=function(e){return new(e||t)(vs(om),vs(Up),vs(Ng))},t.\u0275cmp=vt({type:t,selectors:[["app-adivina-el-numero"]],decls:13,vars:6,consts:[[1,"container"],[1,"jumbotron"],[1,"display-4"],[4,"ngIf"],[3,"hidden"],["type","button","id","button-verificar",1,"btn","btn-success",3,"click"],[3,"hidden",4,"ngIf"],["for","input-numero-ingresado"],["type","button","id","button-nuevo",1,"btn","btn-primary","btn-lg",3,"click"],[1,"input-group","mb-3"],["id","input-numero-ingresado","type","number","placeholder","Ingrese un n\xfamero:","aria-label","Ingrese un n\xfamero:","aria-describedby","button-addon2",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-append",3,"hidden"],["class","display-5",4,"ngIf"],[1,"my-4"],[1,"fa","fa-spinner","fa-spin"],[1,"display-5"]],template:function(t,e){1&t&&(Es(0,"div",0),Es(1,"div",1),Es(2,"h1",2),to(3),Cs(),ys(4,lm,6,0,"div",3),ys(5,hm,8,2,"div",3),ys(6,dm,6,1,"div",3),Es(7,"div",4),Es(8,"h3"),to(9,"Adivin\xf3 el n\xfamero"),Cs(),Es(10,"button",5),Is("click",(function(){return e.guardar()})),to(11," Guardar partida "),Cs(),Cs(),ys(12,pm,2,1,"h3",6),Cs(),Cs()),2&t&&(_r(3),eo(e.nuevoJuego.nombre),_r(1),_s("ngIf",0==e.nuevoJuego.numeroSecreto),_r(1),_s("ngIf",0!=e.nuevoJuego.numeroSecreto),_r(1),_s("ngIf",0!=e.nuevoJuego.numeroSecreto),_r(1),_s("hidden",!e.nuevoJuego.gano),_r(5),_s("ngIf",0!=e.nuevoJuego.numeroSecreto))},directives:[qu,rl,Mc,zc,Ll],styles:["form[_ngcontent-%COMP%]{border:10px solid #f1f1f1;padding:10px;background:grey}input[type=password][_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%]{width:100%;padding:12px 20px;margin:8px 0;display:inline-block;border:1px solid #ccc;box-sizing:border-box}button[_ngcontent-%COMP%]{color:#fff;padding:14px 20px;margin:8px 0;border:none;cursor:pointer;width:100%}button[_ngcontent-%COMP%]:hover{opacity:.8}.cancelbtn[_ngcontent-%COMP%]{background-color:#f44336}.aceptbtn[_ngcontent-%COMP%], .cancelbtn[_ngcontent-%COMP%]{width:auto;padding:10px 18px}.aceptbtn[_ngcontent-%COMP%]{background-color:#3664f4}.imgcontainer[_ngcontent-%COMP%]{text-align:center;margin:24px 0 12px}img.avatar[_ngcontent-%COMP%]{width:40%;border-radius:50%}.container[_ngcontent-%COMP%]{padding:16px}span.psw[_ngcontent-%COMP%]{float:right;padding-top:16px}@media screen and (max-width:300px){span.psw[_ngcontent-%COMP%]{display:block;float:none}.cancelbtn[_ngcontent-%COMP%]{width:100%}}#snackbar[_ngcontent-%COMP%]{visibility:hidden;min-width:250px;margin-left:-125px;color:#fff;text-align:center;border-radius:2px;padding:16px;position:fixed;z-index:1;left:50%;bottom:30px;font-size:17px}#snackbar.Ganador[_ngcontent-%COMP%]{background-color:#059f2f}#snackbar.Perdedor[_ngcontent-%COMP%]{background-color:red}#snackbar.show[_ngcontent-%COMP%]{visibility:visible;-webkit-animation:fadein .5s,fadeout .5s 2.5s;animation:fadein .5s,fadeout .5s 2.5s}@-webkit-keyframes fadein{0%{bottom:0;opacity:0}to{bottom:30px;opacity:1}}@keyframes fadein{0%{bottom:0;opacity:0}to{bottom:30px;opacity:1}}@-webkit-keyframes fadeout{0%{bottom:30px;opacity:1}to{bottom:0;opacity:0}}@keyframes fadeout{0%{bottom:30px;opacity:1}to{bottom:0;opacity:0}}"]}),t})();function mm(t,e){if(1&t&&(Es(0,"tr"),Es(1,"th",7),to(2),Cs(),Es(3,"td"),to(4),Cs(),Es(5,"td"),to(6),Cs(),Es(7,"td"),to(8),Cs(),Es(9,"td"),to(10),Cs(),Es(11,"td"),to(12),Cs(),Es(13,"td"),to(14),Cs(),Cs()),2&t){const t=e.$implicit;_r(2),eo(t.nombre),_r(2),eo(t.puntajes.adivina),_r(2),eo(t.puntajes.agilidad),_r(2),eo(t.puntajes.anagrama),_r(2),eo(t.puntajes.ppt),_r(2),eo(t.puntajes.simon),_r(2),eo(t.puntajes.tateti)}}let ym=(()=>{class t{constructor(t){this.dataServ=t}ngOnInit(){this.dataServ.getUsers().subscribe(t=>{console.info("res",t),this.usuarios=t})}}return t.\u0275fac=function(e){return new(e||t)(vs(Ng))},t.\u0275cmp=vt({type:t,selectors:[["app-listado-de-resultados"]],decls:25,vars:1,consts:[[1,"container"],[1,"box"],[1,"row","title"],[1,"row"],[1,"table","table-hover","table-dark"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"]],template:function(t,e){1&t&&(Es(0,"div",0),Es(1,"div",1),Es(2,"div",2),Es(3,"h3"),to(4,"Listado de resultados"),Cs(),Cs(),Es(5,"div",3),Es(6,"table",4),Es(7,"thead"),Es(8,"tr"),Es(9,"th",5),to(10,"Jugador"),Cs(),Es(11,"th",5),to(12,"Adivina el n\xfamero"),Cs(),Es(13,"th",5),to(14,"Agilidad mental"),Cs(),Es(15,"th",5),to(16,"Anagrama"),Cs(),Es(17,"th",5),to(18,"Piedra, Papel o Tijera"),Cs(),Es(19,"th",5),to(20,"Sim\xf3n dice"),Cs(),Es(21,"th",5),to(22,"TaTeTi"),Cs(),Cs(),Cs(),Es(23,"tbody"),ys(24,mm,15,7,"tr",6),Cs(),Cs(),Cs(),Cs(),Cs()),2&t&&(_r(24),_s("ngForOf",e.usuarios))},directives:[Uu],styles:[""]}),t})();const vm=function(){return["/registro"]};let bm=(()=>{class t{constructor(t,e,n){this.toastr=t,this.authService=e,this.router=n,this.loginForm=new kl({email:new Dl(""),password:new Dl("")})}ngOnInit(){}login(){this.authService.login(this.loginForm.value.email,this.loginForm.value.password).then(t=>{this.router.navigate(["/Principal"])}).catch(t=>{this.toastr.error("Los datos son incorrectos o no existe el usuario")})}loginInvitado(){this.authService.login("invitado@invitado.com","invitado123").then(t=>{this.router.navigate(["/Principal"])}).catch(t=>{this.toastr.error("Los datos son incorrectos o no existe el usuario")})}}return t.\u0275fac=function(e){return new(e||t)(vs(om),vs(Up),vs(ep))},t.\u0275cmp=vt({type:t,selectors:[["app-login"]],decls:24,vars:4,consts:[[1,"container"],[1,"jumbotron"],[1,"row","title"],["novalidate","",1,"needs-validation",3,"formGroup","ngSubmit"],[1,"form-group"],["for","email"],["formControlName","email","type","email","id","email","placeholder","Ingrese su correo electr\xf3nico:","required","",1,"form-control"],["for","password"],["formControlName","password","type","password","id","password","placeholder","Ingrese su contrase\xf1a:","required","",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"btn","btn-warning",3,"routerLink"],[1,"btn","btn-secondary",3,"click"],[1,"fa","fa-sign-in"]],template:function(t,e){1&t&&(Es(0,"div",0),Es(1,"div",1),Es(2,"div",2),Es(3,"h3"),to(4,"Inicia sesi\xf3n"),Cs(),Cs(),Es(5,"form",3),Is("ngSubmit",(function(){return e.login()})),Es(6,"div",4),Es(7,"label",5),Es(8,"b"),to(9,"Email:"),Cs(),Cs(),Ss(10,"input",6),Cs(),Es(11,"div",4),Es(12,"label",7),Es(13,"b"),to(14,"Contrase\xf1a:"),Cs(),Cs(),Ss(15,"input",8),Cs(),Es(16,"button",9),to(17," Ingresar "),Cs(),Cs(),Ss(18,"br"),Es(19,"button",10),to(20," Crear cuenta "),Cs(),Es(21,"button",11),Is("click",(function(){return e.loginInvitado()})),to(22," Continuar como invitado "),Ss(23,"i",12),Cs(),Cs(),Cs()),2&t&&(_r(5),_s("formGroup",e.loginForm),_r(11),_s("disabled",!e.loginForm.valid),_r(3),_s("routerLink",ga(3,vm)))},directives:[Vl,Hc,ql,Mc,zc,Hl,Wl,np],styles:[".title[_ngcontent-%COMP%]{justify-content:center}button[_ngcontent-%COMP%]{margin-right:.3em}"]}),t})();n("MKA9");let _m=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=vt({type:t,selectors:[["app-error"]],decls:6,vars:0,consts:[[1,"card-body"],["src","../../../assets/imagenes/path-blocked.png",2,"width","300px","height","200px"]],template:function(t,e){1&t&&(Es(0,"div",0),Ss(1,"img",1),Es(2,"h1"),to(3,"\xa1Error!"),Cs(),Es(4,"p"),to(5," Parece que se produjo un error al redirijirte. Por favor, Intenta nuevamente. "),Cs(),Cs())},styles:[""]}),t})();function wm(t,e){if(1&t&&(Es(0,"h4"),to(1),Cs()),2&t){const t=ks();_r(1),no("Bienvenid@ ",t.user.nombre,"!")}}let Em=(()=>{class t{constructor(t,e){this.authService=t,this.dataService=e}ngOnInit(){this.getCurrentUserName()}getCurrentUserName(){let t=this.authService.getCurrentUser();this.dataService.getUserByUid(t).subscribe(t=>{this.user=t})}}return t.\u0275fac=function(e){return new(e||t)(vs(Up),vs(Ng))},t.\u0275cmp=vt({type:t,selectors:[["app-principal"]],decls:39,vars:1,consts:[[1,"container"],[1,"row","title"],[4,"ngIf"],[1,"list-group"],[1,"list-group-item","list-group-item-action","flex-column","align-items-start","active"],[1,"d-flex","w-100","justify-content-center"],[1,"mb-1"],["routerLink","/Juegos",1,"list-group-item","list-group-item-action","flex-column","align-items-start"],["src","../../../assets/imagenes/saladejuegos_dlp.png",1,"menu-image"],[1,"d-flex","justify-content-between"],["routerLink","/listado",1,"list-group-item","list-group-item-action","flex-column","align-items-start"],["src","../../../assets/imagenes/listado_dlp.png",1,"menu-image"],["href","#",1,"list-group-item","list-group-item-action","flex-column","align-items-start"],["src","../../../assets/imagenes/configuracion_dlp.png",1,"menu-image"],["routerLink","/jugadores",1,"list-group-item","list-group-item-action","flex-column","align-items-start"],["src","../../../assets/imagenes/jugadores_dlp.png",1,"menu-image"]],template:function(t,e){1&t&&(Es(0,"div",0),Es(1,"div",1),ys(2,wm,2,1,"h4",2),Cs(),Es(3,"div",3),Es(4,"div",4),Es(5,"div",5),Es(6,"h4",6),to(7,"Menu Principal"),Cs(),Cs(),Cs(),Es(8,"a",7),Ss(9,"img",8),Es(10,"div",9),Es(11,"h5",6),to(12,"Juegos"),Cs(),Cs(),Es(13,"p",6),to(14," El m\xe9todo l\xfadico es un conjunto de estrategias dise\xf1adas para crear un ambiente de armon\xeda en los estudiantes que est\xe1n inmersos en el proceso de aprendizaje. Este m\xe9todo busca que los alumnos se apropien de los temas impartidos por los docentes utilizando el juego. "),Cs(),Cs(),Es(15,"a",10),Es(16,"div"),Ss(17,"img",11),Cs(),Es(18,"div",9),Es(19,"h5",6),to(20,"Listados de resultados"),Cs(),Cs(),Es(21,"p",6),to(22," Los listados de los resultados con ordenamiento y busqueda "),Cs(),Cs(),Es(23,"a",12),Es(24,"div"),Ss(25,"img",13),Cs(),Es(26,"div",9),Es(27,"h5",6),to(28,"Configuraci\xf3n"),Cs(),Cs(),Es(29,"p",6),to(30," Ajustes de la aplicacion y los m\xe9todos de autentificaci\xf3n "),Cs(),Cs(),Es(31,"a",14),Es(32,"div"),Ss(33,"img",15),Cs(),Es(34,"div",9),Es(35,"h5",6),to(36,"Jugadores"),Cs(),Cs(),Es(37,"p",6),to(38,"Listado de jugadores"),Cs(),Cs(),Cs(),Cs()),2&t&&(_r(2),_s("ngIf",e.user))},directives:[qu,rp],styles:[".imagenDeMenu[_ngcontent-%COMP%]{width:80px;height:70px}.hero-text[_ngcontent-%COMP%]{text-align:center;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#100000}.menu-image[_ngcontent-%COMP%]{height:100px;width:100px}"]}),t})();class Cm extends Dg{constructor(t,e,n){super("Agilidad aritm\xe9tica",e,n),this.operadores=["+","-","*"],this.operandoUno=0,this.numeroIngresado=0}generarOperacion(){this.operandoUno=Math.floor(20*Math.random()+1),this.operandoDos=Math.floor(10*Math.random()+1),this.operador=this.operadores[Math.floor(Math.random()*this.operadores.length)],this.resultado=this.calcular(),console.info(this.operandoUno,this.operador,this.operandoDos,"=",this.resultado)}calcular(){let t;switch(this.operador){case"+":t=this.operandoUno+this.operandoDos;break;case"-":t=this.operandoUno-this.operandoDos;break;case"*":t=this.operandoUno*this.operandoDos}return t}verificar(){return this.numeroIngresado==this.resultado&&(this.gano=!0),this.gano}reset(){this.operador="",this.operandoUno=0,this.operandoDos=0,this.resultado=0,this.numeroIngresado=0,this.gano=!1}}function Sm(t,e){if(1&t){const t=As();Es(0,"div"),Es(1,"p"),Es(2,"button",6),Is("click",(function(){return oe(t),ks().nuevo()})),to(3," Nuevo juego "),Cs(),Cs(),Cs()}}function Am(t,e){if(1&t&&(Es(0,"h6",14),to(1),Cs()),2&t){const t=ks(3);_r(1),no(" ",t.nuevoJuego.numeroIngresado," ")}}function xm(t,e){if(1&t&&(Es(0,"div"),ys(1,Am,2,1,"h6",10),Ss(2,"hr",11),Es(3,"p"),Ss(4,"i",12),to(5," Te quedan "),Es(6,"span",13),to(7),Cs(),to(8," segundos "),Cs(),Cs()),2&t){const t=ks(2);_r(1),_s("ngIf",0!=t.nuevoJuego.numeroIngresado),_r(6),eo(t.tiempo)}}function Tm(t,e){if(1&t){const t=As();Es(0,"div"),Es(1,"h2"),to(2),Cs(),Es(3,"label",7),to(4,"Ingrese su respuesta: "),Cs(),Es(5,"div",8),Es(6,"input",9),Is("ngModelChange",(function(e){return oe(t),ks().nuevoJuego.numeroIngresado=e})),Cs(),Cs(),ys(7,xm,9,2,"div",3),Cs()}if(2&t){const t=ks();_r(2),io(" ",t.nuevoJuego.operandoUno," ",t.nuevoJuego.operador," ",t.nuevoJuego.operandoDos," = ",t.nuevoJuego.numeroIngresado," "),_r(4),_s("ngModel",t.nuevoJuego.numeroIngresado),_r(1),_s("ngIf",0!=t.nuevoJuego.operandoUno)}}let Im=(()=>{class t{constructor(t,e,n){this.toastr=t,this.authService=e,this.dataService=n,this.enJuego=!1,this.tiempo=5,this.nuevoJuego=new Cm}setInputNumeroIngresado(){setTimeout(()=>{document.getElementById("input-numero-ingresado").value=null,document.getElementById("input-numero-ingresado").focus()},1)}nuevo(){this.nuevoJuego.reset(),this.setInputNumeroIngresado(),this.enJuego=!0,this.nuevoJuego.generarOperacion(),this.repetidor=setInterval(()=>{this.tiempo--,0==this.tiempo&&(clearInterval(this.repetidor),this.verificar(),this.tiempo=5)},900)}verificar(){this.nuevoJuego.verificar()?this.mostrarMensaje("\xa1Ganaste!, \xa1Felicitaciones!",!0):this.mostrarMensaje("\xa1Perdiste! \xa1Prob\xe1 de nuevo!",!1),this.enJuego=!1}mostrarMensaje(t="(PlaceHolder)",e=!1){e?this.toastr.success(t,"\xa1Felicitaciones!"):this.toastr.error(t,"Segu\xed participando")}guardar(){this.user.puntajes.agilidad+=1,this.dataService.updatePuntaje(this.user.uid,this.user.puntajes).then(()=>{this.toastr.success("Puntos guardados")}).catch(t=>{this.toastr.error("Al guardar: "+t.message,"Error")})}getCurrentUser(){let t=this.authService.getCurrentUser();this.dataService.getUserByUid(t).subscribe(t=>{this.user=t})}ngOnInit(){this.getCurrentUser()}}return t.\u0275fac=function(e){return new(e||t)(vs(om),vs(Up),vs(Ng))},t.\u0275cmp=vt({type:t,selectors:[["app-agilidad-aritmetica"]],decls:13,vars:4,consts:[[1,"container"],[1,"jumbotron"],[1,"display-4"],[4,"ngIf"],[3,"hidden"],["type","button","id","button-verificar",1,"btn","btn-success",3,"click"],["type","button","id","button-nuevo",1,"btn","btn-primary","btn-lg",3,"click"],["for","input-numero-ingresado"],[1,"input-group","mb-3"],["id","input-numero-ingresado","type","number","placeholder","Ingrese un n\xfamero:","aria-label","Ingrese un n\xfamero:","aria-describedby","button-addon2",1,"form-control",3,"ngModel","ngModelChange"],["class","display-5",4,"ngIf"],[1,"my-4"],[1,"fa","fa-spinner","fa-spin"],[2,"font-weight","bold"],[1,"display-5"]],template:function(t,e){1&t&&(Es(0,"div",0),Es(1,"div",1),Es(2,"h1",2),to(3),Cs(),Ss(4,"br"),ys(5,Sm,4,0,"div",3),Ss(6,"br"),ys(7,Tm,8,6,"div",3),Es(8,"div",4),Es(9,"h3"),to(10,"Acertaste!"),Cs(),Es(11,"button",5),Is("click",(function(){return e.guardar()})),to(12," Guardar partida "),Cs(),Cs(),Cs(),Cs()),2&t&&(_r(3),eo(e.nuevoJuego.nombre),_r(2),_s("ngIf",!e.enJuego),_r(2),_s("ngIf",e.enJuego),_r(1),_s("hidden",!e.nuevoJuego.gano))},directives:[qu,rl,Mc,zc,Ll],styles:[""]}),t})(),Om=(()=>{class t{constructor(){this.listadoParaCompartir=new Array}ngOnInit(){}tomarJuegoTerminado(t){this.listadoParaCompartir.push(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=vt({type:t,selectors:[["app-adivina-mas-listado"]],decls:0,vars:0,template:function(t,e){},styles:[""]}),t})(),Dm=(()=>{class t{constructor(){this.listadoParaCompartir=new Array}ngOnInit(){}tomarJuegoTerminado(t){this.listadoParaCompartir.push(t),console.info("en app",this.listadoParaCompartir)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=vt({type:t,selectors:[["app-agilidad-mas-listado"]],decls:0,vars:0,template:function(t,e){},styles:[""]}),t})(),km=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=vt({type:t,selectors:[["app-juegos"]],decls:1,vars:0,template:function(t,e){1&t&&Ss(0,"router-outlet")},directives:[sp],styles:[""]}),t})();const Nm=function(){return["/login"]};let jm=(()=>{class t{constructor(t,e,n){this.toastr=t,this.authService=e,this.router=n,this.registroForm=new kl({nombre:new Dl(""),email:new Dl(""),password:new Dl("")})}ngOnInit(){}registro(){this.authService.register(this.registroForm.value.nombre,this.registroForm.value.email,this.registroForm.value.password).then(t=>{this.router.navigate(["/Principal"])}).catch(t=>{this.toastr.error("No se pudo crear el usuario","ERROR")})}}return t.\u0275fac=function(e){return new(e||t)(vs(om),vs(Up),vs(ep))},t.\u0275cmp=vt({type:t,selectors:[["app-registro"]],decls:25,vars:4,consts:[[1,"container"],[1,"jumbotron"],[1,"row","title"],["novalidate","",1,"needs-validation",3,"formGroup","ngSubmit"],[1,"form-group"],["for","email"],["formControlName","nombre","type","nombre","id","nombre","placeholder","Ingrese su nombre de usuario:","required","",1,"form-control"],["formControlName","email","type","email","id","email","placeholder","Ingrese su correo electr\xf3nico:","required","",1,"form-control"],["for","password"],["formControlName","password","type","password","id","password","placeholder","Ingrese su contrase\xf1a:","required","",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"btn","btn-secondary",3,"routerLink"]],template:function(t,e){1&t&&(Es(0,"div",0),Es(1,"div",1),Es(2,"div",2),Es(3,"h3"),to(4,"Registro"),Cs(),Cs(),Es(5,"form",3),Is("ngSubmit",(function(){return e.registro()})),Es(6,"div",4),Es(7,"label",5),Es(8,"b"),to(9,"Nombre:"),Cs(),Cs(),Ss(10,"input",6),Cs(),Es(11,"div",4),Es(12,"label",5),Es(13,"b"),to(14,"Email:"),Cs(),Cs(),Ss(15,"input",7),Cs(),Es(16,"div",4),Es(17,"label",8),Es(18,"b"),to(19,"Contrase\xf1a:"),Cs(),Cs(),Ss(20,"input",9),Cs(),Es(21,"button",10),to(22," Registrarse "),Cs(),Es(23,"button",11),to(24," Ya tengo cuenta "),Cs(),Cs(),Cs(),Cs()),2&t&&(_r(5),_s("formGroup",e.registroForm),_r(16),_s("disabled",!e.registroForm.valid),_r(2),_s("routerLink",ga(3,Nm)))},directives:[Vl,Hc,ql,Mc,zc,Hl,Wl,np],styles:['input[type=password][_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%]{width:100%;padding:12px 20px;margin:8px 0;display:inline-block;border:1px solid #ccc;box-sizing:border-box}button[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;padding:14px 20px;margin:8px 0;border:none;cursor:pointer;width:100%}.cancelbtn[_ngcontent-%COMP%]{padding:14px 20px;background-color:#f44336}.cancelbtn[_ngcontent-%COMP%], .signupbtn[_ngcontent-%COMP%]{float:left;width:50%}.container[_ngcontent-%COMP%]{padding:16px}.modal[_ngcontent-%COMP%]{display:none;position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:rgba(0,0,0,.4);padding-top:60px}.modal-content[_ngcontent-%COMP%]{background-color:#fefefe;margin:5% auto 15%;border:1px solid #888;width:98%}.close[_ngcontent-%COMP%]{position:absolute;right:35px;top:15px;color:#000;font-size:40px;font-weight:700}.close[_ngcontent-%COMP%]:focus, .close[_ngcontent-%COMP%]:hover{color:red;cursor:pointer}.clearfix[_ngcontent-%COMP%]:after{content:"";clear:both;display:table}@media screen and (max-width:300px){.cancelbtn[_ngcontent-%COMP%], .signupbtn[_ngcontent-%COMP%]{width:100%}}']}),t})(),Pm=(()=>{class t{constructor(t,e){this.route=t,this.router=e}ngOnInit(){}Juego(t){switch(t){case"Adivina":this.router.navigate(["/Juegos/Adivina"]);break;case"Agilidad":this.router.navigate(["/Juegos/Agilidad"]);break;case"PPT":this.router.navigate(["/Juegos/PiedraPapelTijera"]);break;case"Anagrama":this.router.navigate(["/Juegos/Anagrama"]);break;case"Tateti":this.router.navigate(["/Juegos/Tateti"]);break;case"Simon":this.router.navigate(["/Juegos/Simon"])}}}return t.\u0275fac=function(e){return new(e||t)(vs(Uf),vs(ep))},t.\u0275cmp=vt({type:t,selectors:[["app-menu-card"]],decls:46,vars:0,consts:[[1,"container"],[1,"card",2,"width","16rem"],["src","../../../assets/imagenes/cerebro_dlp.png","alt","agilidad-mental",1,"card-img-top"],[1,"card-body"],[1,"card-title"],[1,"card-text"],["routerLink","Agilidad",1,"btn","btn-primary"],["src","../../../assets/imagenes/ppt_dlp.jpg","alt","piedra-papel-tijera",1,"card-img-top"],["routerLink","PiedraPapelTijera",1,"btn","btn-primary"],["src","../../../assets/imagenes/adivina_dlp.png","alt","adivina-el-numero",1,"card-img-top"],["routerLink","Adivina",1,"btn","btn-primary"],[1,"card"],["src","../../../assets/imagenes/anagrama.jpg","alt","anagrama",1,"card-img-top"],["routerLink","Anagrama",1,"btn","btn-primary"],["src","../../../assets/imagenes/tateti.png","alt","tateti",1,"card-img-top"],["routerLink","Tateti",1,"btn","btn-primary"]],template:function(t,e){1&t&&(Es(0,"div",0),Es(1,"div",1),Ss(2,"img",2),Es(3,"div",3),Es(4,"h5",4),to(5,"Velocidad y agilidad aritm\xe9tica"),Cs(),Es(6,"p",5),to(7,"Juego de agilidad mental"),Cs(),Es(8,"a",6),to(9,"Jugar"),Cs(),Cs(),Cs(),Es(10,"div",1),Ss(11,"img",7),Es(12,"div",3),Es(13,"h5",4),to(14,"Piedra Papel o Tijera"),Cs(),Es(15,"p",5),to(16,"Juega contra la m\xe1quina"),Cs(),Es(17,"a",8),to(18,"Jugar"),Cs(),Cs(),Cs(),Es(19,"div",1),Ss(20,"img",9),Es(21,"div",3),Es(22,"h5",4),to(23,"Adivina el n\xfamero secreto"),Cs(),Es(24,"p",5),to(25,"Juego de estrategia"),Cs(),Es(26,"a",10),to(27,"Jugar"),Cs(),Cs(),Cs(),Es(28,"div",11),Ss(29,"img",12),Es(30,"div",3),Es(31,"h5",4),to(32,"Anagrama"),Cs(),Es(33,"p",5),to(34," Juego de transposici\xf3n de letras para formar otras palabras "),Cs(),Es(35,"a",13),to(36,"Jugar"),Cs(),Cs(),Cs(),Es(37,"div",1),Ss(38,"img",14),Es(39,"div",3),Es(40,"h5",4),to(41,"TaTeTi"),Cs(),Es(42,"p",5),to(43,"Juego de formar ceros o cruces de a tres en raya"),Cs(),Es(44,"a",15),to(45,"Jugar"),Cs(),Cs(),Cs(),Cs())},directives:[rp],styles:['.container[_ngcontent-%COMP%]{padding:2px 16px}.container[_ngcontent-%COMP%]:after{content:"";display:table;clear:both}.card[_ngcontent-%COMP%]{box-shadow:0 4px 8px 0 rgba(0,0,0,.2);transition:.3s;border-radius:5px;max-width:300px;height:450px;margin:10px;padding-bottom:10px;float:left;text-align:center}img[_ngcontent-%COMP%]{border-radius:5px 5px 0 0;width:100%;height:250px}.card-title[_ngcontent-%COMP%]{padding:15px 10px;height:80px}.card-body[_ngcontent-%COMP%]{padding:5px}.btn[_ngcontent-%COMP%]{width:80%;bottom:1px}']}),t})();function Rm(t,e){if(1&t&&(Es(0,"tr"),Es(1,"td"),to(2),Cs(),Es(3,"td"),to(4),Cs(),Es(5,"td"),to(6),Cs(),Es(7,"td"),to(8),Cs(),Es(9,"td"),to(10),Cs(),Es(11,"td"),Ss(12,"img",2),Cs(),Es(13,"td"),to(14),Cs(),Es(15,"td"),to(16),Cs(),Es(17,"td"),to(18),Cs(),Cs()),2&t){const t=e.$implicit;_r(2),no("",t.name," "),_r(2),no("",t.region," "),_r(2),no("",t.nativeName," "),_r(2),no("",t.subregion," "),_r(2),no("",t.population," "),_r(2),Ns("src",t.flag,nr),_r(2),no("",t.capital," "),_r(2),no("",t.borders," "),_r(2),no("",t.latlng," ")}}let Fm=(()=>{class t{constructor(t){this.miServicioDePaises=t}ngOnInit(){this.miServicioDePaises.listar().then(t=>{console.info("listado de paises",t),this.listadoDePaises=t})}}return t.\u0275fac=function(e){return new(e||t)(vs(Tg))},t.\u0275cmp=vt({type:t,selectors:[["app-listado-de-paises"]],decls:23,vars:1,consts:[[1,"table","table-condensed"],[4,"ngFor","ngForOf"],["width","50px",3,"src"]],template:function(t,e){1&t&&(Es(0,"h1"),to(1," Listado de paises\n"),Cs(),Es(2,"table",0),Es(3,"thead"),Es(4,"tr"),Es(5,"th"),to(6,"Pais"),Cs(),Es(7,"th"),to(8,"Regi\xf3n"),Cs(),Es(9,"th"),to(10,"Nombre local"),Cs(),Es(11,"th"),to(12,"Sub Regi\xf3n"),Cs(),Es(13,"th"),to(14,"Poblaci\xf3n"),Cs(),Es(15,"th"),to(16,"Bandera"),Cs(),Es(17,"th"),to(18,"Capital"),Cs(),Es(19,"th"),to(20,"GPS"),Cs(),Cs(),Cs(),Es(21,"tbody"),ys(22,Rm,19,9,"tr",1),Cs(),Cs()),2&t&&(_r(22),_s("ngForOf",e.listadoDePaises))},directives:[Uu],styles:[""]}),t})(),Mm=(()=>{class t{transform(t,e){return"machito"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=At({name:"sexo",type:t,pure:!0}),t})();function Lm(t,e){if(1&t&&(Es(0,"tr"),Es(1,"td"),to(2),Cs(),Es(3,"td"),to(4),Cs(),Es(5,"td"),to(6),ma(7,"uppercase"),ma(8,"sexo"),Cs(),Cs()),2&t){const t=e.$implicit;_r(2),eo(t.usuario),_r(2),eo(t.cuit),_r(2),eo(ya(7,3,ya(8,5,t.sexo)))}}let Vm=(()=>{class t{constructor(t){}ngOnInit(){}TraerTodos(){}TraerGanadores(){this.miJugadoresServicio.traertodos("jugadores/","ganadores").then(t=>{this.listado=t})}TraerPerdedores(){this.miJugadoresServicio.traertodos("jugadores/","perdedores").then(t=>{this.listado=t})}}return t.\u0275fac=function(e){return new(e||t)(vs(Og))},t.\u0275cmp=vt({type:t,selectors:[["app-jugadores-listado"]],decls:11,vars:1,consts:[[1,"table","table-hover","table-dark"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(Es(0,"table",0),Es(1,"thead"),Es(2,"tr"),Es(3,"th"),to(4,"Usuario"),Cs(),Es(5,"th"),to(6,"Fecha de Registro"),Cs(),Es(7,"th"),to(8,"Ultimo Acceso"),Cs(),Cs(),Cs(),Es(9,"tbody"),ys(10,Lm,9,7,"tr",1),Cs(),Cs()),2&t&&(_r(10),_s("ngForOf",e.listado))},directives:[Uu],pipes:[Ju,Mm],styles:[""]}),t})();class Um extends Dg{constructor(t,e,n){super("Piedra, papel o tijera",e,n),this.jugadas=[1,2,3],this.jugada=0,this.jugadaUsuario=0,this.resultado=-2}generarJugada(){this.jugada=this.jugadas[Math.floor(Math.random()*this.jugadas.length)]}verificarJugada(){switch(this.jugadaUsuario){case 1:this.resultado=1==this.jugada?0:2==this.jugada?-1:1;break;case 2:this.resultado=1==this.jugada?1:2==this.jugada?0:-1;break;case 3:this.resultado=1==this.jugada?-1:2==this.jugada?1:0}this.verificar()}verificar(){return this.resultado&&(this.gano=!0),this.reset(),this.gano}reset(){this.jugada=0,this.jugadaUsuario=0}}function Bm(t,e){if(1&t&&(Es(0,"label",5),Es(1,"b"),to(2),ma(3,"titlecase"),Cs(),Cs()),2&t){const t=ks();_r(2),ro("",ya(3,2,t.user.nombre),": ",t.contadorGanadas,"")}}function qm(t,e){if(1&t){const t=As();Es(0,"div",11),Es(1,"div",3),Es(2,"label",12),Es(3,"p"),Ss(4,"i",13),to(5," Elija su jugada"),Cs(),Cs(),Cs(),Es(6,"div",6),Es(7,"div",14),Es(8,"img",15),Is("click",(function(){return oe(t),ks().detener(1)})),Cs(),Cs(),Es(9,"div",14),Es(10,"img",16),Is("click",(function(){return oe(t),ks().detener(2)})),Cs(),Cs(),Es(11,"div",14),Es(12,"img",17),Is("click",(function(){return oe(t),ks().detener(3)})),Cs(),Cs(),Cs(),Cs()}}function zm(t,e){if(1&t){const t=As();Es(0,"div",6),Es(1,"p"),Es(2,"button",18),Is("click",(function(){return oe(t),ks().nuevo()})),to(3," Nuevo juego "),Cs(),Cs(),Cs()}}function Hm(t,e){if(1&t){const t=As();Es(0,"div"),Es(1,"button",19),Is("click",(function(){return oe(t),ks().guardar()})),to(2," Guardar partida "),Cs(),Cs()}}let Gm=(()=>{class t{constructor(t,e,n){this.toastr=t,this.authService=e,this.dataService=n,this.stop=!1,this.enJuego=!1,this.imagenJugada="../../../assets/imagenes/piedra.png",this.imagenJugadaUsuario="../../../assets/imagenes/tijera.png",this.contadorGanadas=0,this.contadorPerdidas=0,this.save=!1,this.nuevoJuego=new Um}nuevo(){this.save=!1,this.stop=!1,this.enJuego=!0,this.repetidor=setInterval(()=>{this.nuevoJuego.generarJugada(),this.setImagenes(),this.stop&&(this.nuevoJuego.jugadaUsuario=this.jugadaSeleccionada,this.setImagenes(),clearInterval(this.repetidor),this.verificar(),this.save=!0)},80)}detener(t){this.jugadaSeleccionada=t,this.stop=!0}verificar(){this.nuevoJuego.verificarJugada(),this.mostrarMensaje(),this.enJuego=!1}mostrarMensaje(){switch(this.nuevoJuego.resultado){case-1:this.toastr.error("\xa1Perdiste!, \xa1Volve a Intentar!"),this.contadorPerdidas++;break;case 0:this.toastr.warning("\xa1Empate!","\xa1Estuvo Cerca! \xbfVa de nuevo?");break;case 1:this.toastr.success("Nada mejor que Ganar.","\xa1Felicitaciones!"),this.contadorGanadas++}}setImagenes(){switch(this.nuevoJuego.jugada){case 1:this.imagenJugada="../../../assets/imagenes/piedra.png";break;case 2:this.imagenJugada="../../../assets/imagenes/papel.png";break;case 3:this.imagenJugada="../../../assets/imagenes/tijera.png"}switch(this.nuevoJuego.jugadaUsuario){case 0:this.imagenJugadaUsuario="../../../assets/imagenes/ppt.png";break;case 1:this.imagenJugadaUsuario="../../../assets/imagenes/piedra.png";break;case 2:this.imagenJugadaUsuario="../../../assets/imagenes/papel.png";break;case 3:this.imagenJugadaUsuario="../../../assets/imagenes/tijera.png"}}guardar(){this.user.puntajes.ppt+=this.contadorGanadas-this.contadorPerdidas,this.dataService.updatePuntaje(this.user.uid,this.user.puntajes).then(()=>{this.toastr.success("Puntos guardados")}).catch(t=>{this.toastr.error("Al guardar: "+t.message,"Error")})}getCurrentUser(){let t=this.authService.getCurrentUser();this.dataService.getUserByUid(t).subscribe(t=>{this.user=t})}ngOnInit(){this.getCurrentUser()}}return t.\u0275fac=function(e){return new(e||t)(vs(om),vs(Up),vs(Ng))},t.\u0275cmp=vt({type:t,selectors:[["app-piedra-papel-tijera"]],decls:19,vars:8,consts:[[1,"container"],[1,"jumbotron"],[1,"display-4"],[1,"label-jugadores","row"],["class","col-6",4,"ngIf"],[1,"col-6"],[1,"row"],["alt","",1,"imagen-jugada",3,"src"],["class","en-juego",4,"ngIf"],["class","row",4,"ngIf"],[4,"ngIf"],[1,"en-juego"],[1,"col-12"],[1,"fa","fa-spinner","fa-spin"],[1,"col-4"],["src","../../../assets/imagenes/piedra.png","alt","piedra",1,"imagen-elegir-jugada",3,"click"],["src","../../../assets/imagenes/papel.png","alt","papel",1,"imagen-elegir-jugada",3,"click"],["src","../../../assets/imagenes/tijera.png","alt","tijera",1,"imagen-elegir-jugada",3,"click"],["type","button","id","button-nuevo",1,"btn","btn-primary","btn-lg",3,"click"],["type","button","id","button-verificar",1,"btn","btn-success",3,"click"]],template:function(t,e){1&t&&(Es(0,"div",0),Es(1,"div",1),Es(2,"h1",2),to(3),Cs(),Ss(4,"br"),Es(5,"div",3),ys(6,Bm,4,4,"label",4),Es(7,"label",5),Es(8,"b"),to(9),Cs(),Cs(),Cs(),Es(10,"div",6),Es(11,"div",5),Ss(12,"img",7),Cs(),Es(13,"div",5),Ss(14,"img",7),Cs(),Cs(),Ss(15,"br"),ys(16,qm,13,0,"div",8),ys(17,zm,4,0,"div",9),ys(18,Hm,3,0,"div",10),Cs(),Cs()),2&t&&(_r(3),eo(e.nuevoJuego.nombre),_r(3),_s("ngIf",e.user),_r(3),no("Oponente: ",e.contadorPerdidas,""),_r(3),Ns("src",e.imagenJugadaUsuario,nr),_r(2),Ns("src",e.imagenJugada,nr),_r(2),_s("ngIf",e.enJuego),_r(1),_s("ngIf",!e.enJuego),_r(1),_s("ngIf",e.save))},directives:[qu],pipes:[$u],styles:[".imagen-jugada[_ngcontent-%COMP%]{width:200px;height:200px;border:.3em solid rgba(30,177,179,.51);border-radius:10px;margin:.5em 0}.col-4[_ngcontent-%COMP%], .col-6[_ngcontent-%COMP%]{text-align:center}.col-4[_ngcontent-%COMP%]{margin:0;padding:0}.imagen-elegir-jugada[_ngcontent-%COMP%]{width:200px;height:200px;border:.3em solid #dc3545;border-radius:10px}.jumbotron[_ngcontent-%COMP%]{padding:1rem 2rem}.label-jugadores[_ngcontent-%COMP%]{text-align:justify;font-size:15px}"]}),t})(),Wm=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=vt({type:t,selectors:[["app-acerca-de"]],decls:35,vars:0,consts:[[1,"list-group"],[1,"list-group-item"],[1,"margin"],[1,"col-3"],["src","../../../assets/imagenes/denis.jpg","alt","Bird",1,"img-responsive","img-circle","margin",2,"display","inline"],[1,"row"],[1,"col-sm-4"],["src","./assets/imagenes/quiensoy1_dlp.png","alt","Image",1,"img-responsive","margin","imagen-de-quien-soy"],["src","./assets/imagenes/quiensoy2_dlp.jpg","alt","Image",1,"img-responsive","margin","imagen-de-quien-soy"],["src","./assets/imagenes/quiensoy3_dlp.png","alt","Image",1,"img-responsive","margin","imagen-de-quien-soy"]],template:function(t,e){1&t&&(Es(0,"ul",0),Es(1,"li",1),Es(2,"h3",2),to(3,"Qui\xe9n Soy?"),Cs(),Es(4,"span",3),Ss(5,"img",4),Cs(),Es(6,"h3"),to(7,"Soy alumno de la UTN FRA"),Cs(),Cs(),Es(8,"li",1),Es(9,"h3",2),to(10,"Unir palabras"),Cs(),Es(11,"p"),to(12,"Place Holder de mi juego."),Cs(),Cs(),Es(13,"li",1),Es(14,"h3",2),to(15,"Esto es un trabajo pr\xe1ctico"),Cs(),Es(16,"p"),to(17," Cada universidad, cada facultad, cada carrera y obviamente cada materia en particular tiene estrategias did\xe1cticas y formas de evaluaci\xf3n diferentes. A pesar de que en muchos casos las universidades intentan estandarizar la forma de dictar clase para generar un orden en las planificaciones cuatrimestre a cuatrimestre, las formas de evaluaci\xf3n son elementales tanto para las instituciones y profesores como para los alumnos. A trav\xe9s de la evaluaci\xf3n formativa el educador busca informaci\xf3n en el alumno para lograr comprender c\xf3mo se est\xe1 produciendo el proceso de aprendizaje y poder reajustar los objetivos pedag\xf3gicos. Y para el alumno es una muestra del progreso que est\xe1 logrando y si puede aplicar, materializar y darle visibilidad a la comprensi\xf3n del tema. Seg\xfan Black y William (1998), la evaluaci\xf3n formativa, ayuda a que los estudiantes sean independientes a la hora del aprendizaje, es decir, se presenta como receptor, autorregulador y centro de esa misma evaluaci\xf3n. "),Cs(),Cs(),Es(18,"li",1),Es(19,"h3",2),to(20,"D\xf3nde Funciona?"),Cs(),Ss(21,"br"),Es(22,"div",5),Es(23,"div",6),Es(24,"p"),to(25," Con las tecnologias WEB que permiten desarrollar aplicaciones multiplataforma "),Cs(),Ss(26,"img",7),Cs(),Es(27,"div",6),Es(28,"p"),to(29," Principalmente orientada a la experiencia del usuario, garantizando que su funcionamieto sea fluido y pensado en el comportamiento del usuario y en la funcionalidad. "),Cs(),Ss(30,"img",8),Cs(),Es(31,"div",6),Es(32,"p"),to(33," Para los sistemas operativos lideres en el mercado del consumo masivo "),Cs(),Ss(34,"img",9),Cs(),Cs(),Cs(),Cs())},styles:[".list-group[_ngcontent-%COMP%]{margin:0 10%}.list-group-item[_ngcontent-%COMP%]{text-align:center}img[_ngcontent-%COMP%]{border:2px solid #000;border-radius:5%;margin:5%;width:25%}img.imagen-de-quien-soy[_ngcontent-%COMP%]{height:150px;width:300px}"]}),t})();class $m extends Dg{constructor(t,e,n){super("Anagrama",e,n),this.diccinario={ARBOL:{anagramas:["ALBOR","BOLAR","BORLA","LABOR","LABRO","RALBO","ROBLA"]},CASA:{anagramas:["ACAS","ASCA","SACA"]},CIELO:{anagramas:["LICEO"]},GATO:{anagramas:["GOTA","TOGA"]},LAPICERO:{anagramas:["COPILARE","COPLERIA","POLARICE","RECOPILA"]},OSCAR:{anagramas:["ARCOS","CAROS","CRASO","ROCAS","ROSCA","SACRO","CORSA","ORCAS"]},GERARDO:{anagramas:["DEROGAR","REGADOR"]},MONICA:{anagramas:["CAMINO","CAMION","COMIAN","NOMICA"]},CERTIFICADOR:{anagramas:["RECTIFICADOR"]},CONQUISTADORES:{anagramas:["RECONQUISTADOS"]},BRASIL:{anagramas:["SILBAR","LIBRAS"]},GRANADA:{anagramas:["AGRADAN","AGRANDA"]},CRETA:{anagramas:["CATRE","TERCA"]}},this.palabraSeleccionada="",this.palabraIngresada=""}verificar(){return this.diccinario[this.palabraSeleccionada].anagramas.forEach(t=>{this.palabraIngresada.toUpperCase()==t&&(this.gano=!0)}),this.gano}reset(){this.palabraSeleccionada="",this.palabraIngresada="",this.gano=!1}}function Jm(t,e){1&t&&(Es(0,"div",6),Es(1,"p"),to(2,"Seleccione una palabra.."),Cs(),Cs())}function Qm(t,e){if(1&t){const t=As();Es(0,"li",12),Is("click",(function(){oe(t);const n=e.$implicit;return ks().palabraSeleccionada(n)})),to(1),Cs()}if(2&t){const t=e.$implicit;_r(1),no(" ",t," ")}}function Km(t,e){if(1&t){const t=As();Es(0,"div",7),Es(1,"div",6),Es(2,"h2"),to(3),Cs(),Cs(),Es(4,"div",6),Es(5,"div",13),Es(6,"div",14),Es(7,"span"),Ss(8,"i",15),Cs(),Cs(),Es(9,"input",16),Is("ngModelChange",(function(e){return oe(t),ks().nuevoJuego.palabraIngresada=e})),Cs(),Es(10,"div",17),Es(11,"button",18),Is("click",(function(){return oe(t),ks().verificarUsr()})),to(12," Verificar "),Cs(),Cs(),Cs(),Cs(),Cs()}if(2&t){const t=ks();_r(3),eo(t.nuevoJuego.palabraSeleccionada),_r(6),_s("ngModel",t.nuevoJuego.palabraIngresada),_r(1),_s("hidden",t.ocultarVerificar)}}function Ym(t,e){if(1&t){const t=As();Es(0,"div"),Es(1,"h3"),to(2,"Acertaste!"),Cs(),Es(3,"button",18),Is("click",(function(){return oe(t),ks().guardar()})),to(4," Guardar partida "),Cs(),Cs()}}let Zm=(()=>{class t{constructor(t,e,n){this.toastr=t,this.authService=e,this.dataService=n,this.enJuego=!1,this.ocultarVerificar=!1,this.save=!1,this.nuevoJuego=new $m}keys(){return Object.keys(this.nuevoJuego.diccinario)}palabraSeleccionada(t){this.save=!1,this.nuevoJuego.palabraSeleccionada=this.keys().find(e=>e==t),this.enJuego=!0}verificarUsr(){this.ocultarVerificar=!0,this.nuevoJuego.verificar(),this.mostrarMensaje()}mostrarMensaje(){this.nuevoJuego.gano?(this.toastr.success("Lo lograste","Bravo!"),this.save=!0):(this.toastr.error(this.nuevoJuego.palabraIngresada+", no es anagrama de "+this.nuevoJuego.palabraSeleccionada,"Segu\xed participando"),this.save=!1),this.enJuego=!1,this.ocultarVerificar=!1,this.nuevoJuego.reset()}guardar(){this.user.puntajes.anagrama+=1,this.dataService.updatePuntaje(this.user.uid,this.user.puntajes).then(()=>{this.toastr.success("Puntos guardados")}).catch(t=>{this.toastr.error("Al guardar: "+t.message,"Error")})}getCurrentUser(){let t=this.authService.getCurrentUser();this.dataService.getUserByUid(t).subscribe(t=>{this.user=t})}ngOnInit(){this.getCurrentUser()}}return t.\u0275fac=function(e){return new(e||t)(vs(om),vs(Up),vs(Ng))},t.\u0275cmp=vt({type:t,selectors:[["app-anagrama"]],decls:15,vars:5,consts:[[1,"container"],[1,"jumbotron"],[1,"display-4"],[1,"en-juego"],[1,"container","tablero"],["class","row",4,"ngIf"],[1,"row"],[1,"col-sm-12","col-md-4"],[1,"list-group"],["class","list-group-item flex-fill",3,"click",4,"ngFor","ngForOf"],["class","col-sm-12 col-md-4",4,"ngIf"],[4,"ngIf"],[1,"list-group-item","flex-fill",3,"click"],[1,"input-group","mb-3"],[1,"input-group-append"],[1,"fa","fa-spinner","fa-spin"],["id","input-ingresado","type","text","placeholder","Ingrese un anagrama:","aria-label","Ingrese un anagrama:","aria-describedby","button-addon2",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-append",3,"hidden"],["type","button","id","button-verificar",1,"btn","btn-success",3,"click"]],template:function(t,e){1&t&&(Es(0,"div",0),Es(1,"div",1),Es(2,"h1",2),to(3),Cs(),Ss(4,"br"),Es(5,"div",3),Es(6,"div",4),ys(7,Jm,3,0,"div",5),Es(8,"div",6),Es(9,"div",7),Es(10,"ul",8),ys(11,Qm,2,1,"li",9),Cs(),Cs(),ys(12,Km,13,3,"div",10),Cs(),Ss(13,"div",6),Cs(),Cs(),ys(14,Ym,5,0,"div",11),Cs(),Cs()),2&t&&(_r(3),eo(e.nuevoJuego.nombre),_r(4),_s("ngIf",!e.enJuego),_r(4),_s("ngForOf",e.keys()),_r(1),_s("ngIf",""!=e.nuevoJuego.palabraSeleccionada),_r(2),_s("ngIf",e.save))},directives:[qu,Uu,Mc,zc,Ll],styles:["ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#fff;background-color:#007bff;cursor:pointer}"]}),t})();class Xm extends Dg{constructor(t,e,n){super("Ta Te Ti",!0,n),this.tablero=[["","",""],["","",""],["","",""]],this.jugadaUsuario=0,this.juegoTerminado=!0}verificarTresEnLinea(t){return(this.tablero[0][0]==t&&this.tablero[0][1]==t&&this.tablero[0][2]==t||this.tablero[1][0]==t&&this.tablero[1][1]==t&&this.tablero[1][2]==t||this.tablero[2][0]==t&&this.tablero[2][1]==t&&this.tablero[2][2]==t||this.tablero[0][0]==t&&this.tablero[1][0]==t&&this.tablero[2][0]==t||this.tablero[0][1]==t&&this.tablero[1][1]==t&&this.tablero[2][1]==t||this.tablero[0][2]==t&&this.tablero[1][2]==t&&this.tablero[2][2]==t||this.tablero[0][0]==t&&this.tablero[1][1]==t&&this.tablero[2][2]==t||this.tablero[0][2]==t&&this.tablero[1][1]==t&&this.tablero[2][0]==t)&&(this.juegoTerminado=!0,"O"==t&&(this.gano=!0)),this.juegoTerminado}verificar(){return!(!this.juegoTerminado||!this.gano)}reset(){this.gano=!1,this.tablero=[["","",""],["","",""],["","",""]],console.info("tablero: ",this.tablero)}}function ty(t,e){1&t&&(Es(0,"div",9),Es(1,"label",10),Es(2,"p"),Ss(3,"i",11),to(4," Realice una jugada"),Cs(),Cs(),Cs())}function ey(t,e){if(1&t&&(Es(0,"label",6),Es(1,"b"),to(2),ma(3,"titlecase"),Cs(),Cs()),2&t){const t=ks();_r(2),ro("",ya(3,2,t.user.nombre),": ",t.contadorGanadas,"")}}function ny(t,e){if(1&t){const t=As();Es(0,"div",12),Es(1,"table",13),Es(2,"tbody"),Es(3,"tr"),Es(4,"td",14),Is("click",(function(){return oe(t),ks().marcarJugada(0,0,!1)})),Ss(5,"img",15),Cs(),Es(6,"td",14),Is("click",(function(){return oe(t),ks().marcarJugada(0,1,!1)})),Ss(7,"img",15),Cs(),Es(8,"td",16),Is("click",(function(){return oe(t),ks().marcarJugada(0,2,!1)})),Ss(9,"img",15),Cs(),Cs(),Es(10,"tr",17),Es(11,"td",14),Is("click",(function(){return oe(t),ks().marcarJugada(1,0,!1)})),Ss(12,"img",15),Cs(),Es(13,"td",14),Is("click",(function(){return oe(t),ks().marcarJugada(1,1,!1)})),Ss(14,"img",15),Cs(),Es(15,"td",16),Is("click",(function(){return oe(t),ks().marcarJugada(1,2,!1)})),Ss(16,"img",15),Cs(),Cs(),Es(17,"tr"),Es(18,"td",14),Is("click",(function(){return oe(t),ks().marcarJugada(2,0,!1)})),Ss(19,"img",15),Cs(),Es(20,"td",14),Is("click",(function(){return oe(t),ks().marcarJugada(2,1,!1)})),Ss(21,"img",15),Cs(),Es(22,"td",16),Is("click",(function(){return oe(t),ks().marcarJugada(2,2,!1)})),Ss(23,"img",15),Cs(),Cs(),Cs(),Cs(),Cs()}if(2&t){const t=ks();_r(5),Ns("src",t.nuevoJuego.tablero[0][0],nr),_r(2),Ns("src",t.nuevoJuego.tablero[0][1],nr),_r(2),Ns("src",t.nuevoJuego.tablero[0][2],nr),_r(3),Ns("src",t.nuevoJuego.tablero[1][0],nr),_r(2),Ns("src",t.nuevoJuego.tablero[1][1],nr),_r(2),Ns("src",t.nuevoJuego.tablero[1][2],nr),_r(3),Ns("src",t.nuevoJuego.tablero[2][0],nr),_r(2),Ns("src",t.nuevoJuego.tablero[2][1],nr),_r(2),Ns("src",t.nuevoJuego.tablero[2][2],nr)}}function ry(t,e){if(1&t){const t=As();Es(0,"div",9),Es(1,"p"),Es(2,"button",18),Is("click",(function(){return oe(t),ks().nuevo()})),to(3," Nuevo juego "),Cs(),Cs(),Cs()}}function iy(t,e){if(1&t){const t=As();Es(0,"div"),Es(1,"button",19),Is("click",(function(){return oe(t),ks().guardar()})),to(2," Guardar partida "),Cs(),Cs()}}let sy=(()=>{class t{constructor(t,e,n){this.toastr=t,this.authService=e,this.dataService=n,this.enJuego=!1,this.turnoJugador=!1,this.cuentaMarcas=0,this.imgCruz="../../../assets/imagenes/cruz.png",this.imgCirculo="../../../assets/imagenes/circulo.png",this.save=!1,this.contadorGanadas=0,this.contadorPerdidas=0,this.nuevoJuego=new Xm}generarJugada(){let t=Math.floor(3*Math.random()),e=Math.floor(3*Math.random());this.marcarJugada(t,e,!0),this.save=!0}marcarJugada(t,e,n){n?""!=this.nuevoJuego.tablero[t][e]&&this.cuentaMarcas<9?this.generarJugada():(this.cuentaMarcas++,this.nuevoJuego.tablero[t][e]=this.imgCruz,this.turnoJugador=!0,this.nuevoJuego.verificarTresEnLinea(this.imgCruz)&&(this.nuevoJuego.verificar()||(this.toastr.error("Perdedor..","Te derrotaron"),this.contadorPerdidas++))):""==this.nuevoJuego.tablero[t][e]&&(this.cuentaMarcas++,this.nuevoJuego.tablero[t][e]=this.imgCirculo,this.turnoJugador=!1,this.nuevoJuego.verificarTresEnLinea(this.imgCirculo)?(this.toastr.success("Felicitaciones!","Ganaste esta vez"),this.contadorGanadas++):setTimeout(()=>{this.generarJugada()},400))}nuevo(){this.save=!1,this.nuevoJuego.juegoTerminado=!1,this.nuevoJuego.reset(),this.enJuego=!0,this.turnoJugador=!0,this.cuentaMarcas=0}guardar(){this.user.puntajes.tateti+=this.contadorGanadas-this.contadorPerdidas,this.dataService.updatePuntaje(this.user.uid,this.user.puntajes).then(()=>{this.toastr.success("Puntos guardados")}).catch(t=>{this.toastr.error("Al guardar: "+t.message,"Error")})}getCurrentUser(){let t=this.authService.getCurrentUser();this.dataService.getUserByUid(t).subscribe(t=>{this.user=t})}ngOnInit(){this.getCurrentUser()}}return t.\u0275fac=function(e){return new(e||t)(vs(om),vs(Up),vs(Ng))},t.\u0275cmp=vt({type:t,selectors:[["app-tateti"]],decls:14,vars:7,consts:[[1,"container"],[1,"jumbotron"],[1,"display-4"],["class","row",4,"ngIf"],[1,"label-jugadores","row"],["class","col-6",4,"ngIf"],[1,"col-6"],["class","row tablero",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"col-12"],[1,"fa","fa-spinner","fa-spin"],[1,"row","tablero"],[1,"table","table-bordered","col-sm-10","col-md-6","col-lg-6"],[1,"borde-right",3,"click"],["alt","",3,"src"],[3,"click"],["id","center-row"],["type","button","id","button-nuevo",1,"btn","btn-primary","btn-lg",3,"click"],["type","button","id","button-verificar",1,"btn","btn-success",3,"click"]],template:function(t,e){1&t&&(Es(0,"div",0),Es(1,"div",1),Es(2,"h1",2),to(3),Cs(),Ss(4,"br"),ys(5,ty,5,0,"div",3),Es(6,"div",4),ys(7,ey,4,4,"label",5),Es(8,"label",6),Es(9,"b"),to(10),Cs(),Cs(),Cs(),ys(11,ny,24,9,"div",7),ys(12,ry,4,0,"div",3),ys(13,iy,3,0,"div",8),Cs(),Cs()),2&t&&(_r(3),eo(e.nuevoJuego.nombre),_r(2),_s("ngIf",e.turnoJugador&&!e.nuevoJuego.juegoTerminado),_r(2),_s("ngIf",e.user),_r(3),no("Oponente: ",e.contadorPerdidas,""),_r(1),_s("ngIf",e.enJuego),_r(1),_s("ngIf",e.nuevoJuego.juegoTerminado),_r(1),_s("ngIf",e.save))},directives:[qu],pipes:[$u],styles:["img[_ngcontent-%COMP%]{width:70%;position:relative;top:16px}.tablero[_ngcontent-%COMP%]{padding:.5em 1em;justify-content:center}table[_ngcontent-%COMP%]{background-color:#f6f6f6}td[_ngcontent-%COMP%]{text-align:center;height:160px;width:160px}#center-row[_ngcontent-%COMP%]{border-top:20px solid #454d55;border-bottom:20px solid #454d55}.borde-right[_ngcontent-%COMP%]{border-right:20px solid #454d55}"]}),t})();class oy extends Dg{constructor(t,e,n){super("Sim\xf3n dice",!0,n),this.secuencia=[],this.secuenciaUsuario=[]}generarJugada(){this.secuencia.push(Math.floor(4*Math.random()+1)),console.info("secuencia generada",this.secuencia)}verificar(){this.gano=!0;for(var t=0;t<this.secuenciaUsuario.length;t++)this.secuenciaUsuario[t]!=this.secuencia[t]&&(this.gano=!1);return this.gano}reset(){this.secuencia=[],this.secuenciaUsuario=[],this.gano=!0}}function ay(t,e){if(1&t&&(Es(0,"div"),to(1),Cs()),2&t){const t=ks();_r(1),no("Aciertos: ",t.contador,"")}}function uy(t,e){1&t&&(Es(0,"div",14),Es(1,"label",15),Es(2,"p"),to(3,"Repita la secuencia.."),Cs(),Cs(),Cs())}function cy(t,e){if(1&t){const t=As();Es(0,"div",6),Es(1,"p"),Es(2,"button",16),Is("click",(function(){return oe(t),ks().nuevo()})),to(3," Nuevo juego "),Cs(),Cs(),Cs()}}function ly(t,e){if(1&t){const t=As();Es(0,"div"),Es(1,"button",17),Is("click",(function(){return oe(t),ks().guardar()})),to(2," Guardar partida "),Cs(),Cs()}}let hy=(()=>{class t{constructor(t,e,n){this.toastr=t,this.authService=e,this.dataService=n,this.enJuego=!1,this.registrarSecuencia=!1,this.contador=0,this.save=!1,this.btnVerde=document.getElementById("btn-verde"),this.btnRojo=document.getElementById("btn-rojo"),this.btnAmarillo=document.getElementById("btn-amarillo"),this.btnAzul=document.getElementById("btn-azul"),this.soundVerde=new Audio("../../../assets/sounds/tono-1.mp3"),this.soundRojo=new Audio("../../../assets/sounds/tono-2.mp3"),this.soundAmarillo=new Audio("../../../assets/sounds/tono-3.mp3"),this.soundAzul=new Audio("../../../assets/sounds/tono-4.mp3"),this.soundLoser=new Audio("../../../assets/sounds/tono-5.mp3"),this.indice=-1,this.indiceUsr=-1,this.nuevoJuego=new oy}nuevo(){this.save=!1,this.contador=0,this.enJuego=!0,this.nuevoJuego.reset(),this.generarJugada()}generarJugada(){this.nuevoJuego.generarJugada(),this.mostrarSecuencia()}deshabilitarBotones(t){document.getElementById("btn-verde").disabled=t,document.getElementById("btn-rojo").disabled=t,document.getElementById("btn-amarillo").disabled=t,document.getElementById("btn-azul").disabled=t}solicitarSecuenciaUsuario(){this.registrarSecuencia=!0,this.indiceUsr=-1,this.showBoton(0,900,!1),this.deshabilitarBotones(!1)}mostrarSecuencia(){console.log(this.nuevoJuego.secuencia),this.repetidor=setInterval(()=>{switch(this.registrarSecuencia=!1,this.deshabilitarBotones(!0),this.indice++,this.indice==this.nuevoJuego.secuencia.length&&(this.indice=-1,this.solicitarSecuenciaUsuario(),clearInterval(this.repetidor)),this.nuevoJuego.secuencia[this.indice]){case 1:this.showBoton(1,900,!1);break;case 2:this.showBoton(2,900,!1);break;case 3:this.showBoton(3,900,!1);break;case 4:this.showBoton(4,900,!1)}},1e3)}playSound(t){switch(t){case 1:this.soundVerde.play();break;case 2:this.soundRojo.play();break;case 3:this.soundAmarillo.play();break;case 4:this.soundAzul.play();break;case 5:this.soundLoser.play()}}showBoton(t,e,n){switch(this.playSound(n?5:t),t){case 0:return document.getElementById("btn-verde").style.backgroundColor="rgba(40,167,69,0.5)",document.getElementById("btn-rojo").style.backgroundColor="rgba(220,53,69,0.5)",document.getElementById("btn-amarillo").style.backgroundColor="rgba(255,193,7,0.5)",document.getElementById("btn-azul").style.backgroundColor="rgba(0,123,255,0.5)",!1;case 1:document.getElementById("btn-verde").style.backgroundColor="rgba(40,167,69,1)",document.getElementById("btn-rojo").style.backgroundColor="rgba(220,53,69,0.5)",document.getElementById("btn-amarillo").style.backgroundColor="rgba(255,193,7,0.5)",document.getElementById("btn-azul").style.backgroundColor="rgba(0,123,255,0.5)";break;case 2:document.getElementById("btn-verde").style.backgroundColor="rgba(40,167,69,0.5)",document.getElementById("btn-rojo").style.backgroundColor="rgba(220,53,69,1)",document.getElementById("btn-amarillo").style.backgroundColor="rgba(255,193,7,0.5)",document.getElementById("btn-azul").style.backgroundColor="rgba(0,123,255,0.5)";break;case 3:document.getElementById("btn-verde").style.backgroundColor="rgba(40,167,69,0.5)",document.getElementById("btn-rojo").style.backgroundColor="rgba(220,53,69,0.5)",document.getElementById("btn-amarillo").style.backgroundColor="rgba(255,193,7,1)",document.getElementById("btn-azul").style.backgroundColor="rgba(0,123,255,0.5)";break;case 4:document.getElementById("btn-verde").style.backgroundColor="rgba(40,167,69,0.5)",document.getElementById("btn-rojo").style.backgroundColor="rgba(220,53,69,0.5)",document.getElementById("btn-amarillo").style.backgroundColor="rgba(255,193,7,0.5)",document.getElementById("btn-azul").style.backgroundColor="rgba(0,123,255,1)"}setTimeout(()=>{this.showBoton(0,900,!1)},e)}botonApretado(t){this.indiceUsr++,this.nuevoJuego.secuencia[this.indiceUsr]!=t?(this.nuevoJuego.gano=!1,this.gameOver(t)):this.showBoton(t,900,!1),this.nuevoJuego.secuencia.length==this.indiceUsr+1&&this.nuevoJuego.gano&&(this.contador++,this.toastr.success("Contin\xfaa as\xed","Perfecto!"),this.generarJugada())}gameOver(t){this.save=!0,this.showBoton(t,1600,!0),this.toastr.error("Al menos intentaste","Asi no era.."),this.enJuego=!1,this.indice=-1,this.indiceUsr=-1,this.deshabilitarBotones(!0),this.registrarSecuencia=!1}guardar(){this.user.puntajes.simon+=this.contador,this.dataService.updatePuntaje(this.user.uid,this.user.puntajes).then(()=>{this.toastr.success("Puntos guardados")}).catch(t=>{this.toastr.error("Al guardar: "+t.message,"Error")})}getCurrentUser(){let t=this.authService.getCurrentUser();this.dataService.getUserByUid(t).subscribe(t=>{this.user=t})}ngOnInit(){this.getCurrentUser(),setTimeout(()=>{this.deshabilitarBotones(!0)},100)}}return t.\u0275fac=function(e){return new(e||t)(vs(om),vs(Up),vs(Ng))},t.\u0275cmp=vt({type:t,selectors:[["app-simon-dice"]],decls:21,vars:5,consts:[[1,"container"],[1,"jumbotron"],[1,"display-4"],[1,"en-juego"],[4,"ngIf"],[1,"container","tablero"],[1,"row"],[1,"div-boton-juego","col-6"],["id","btn-verde",1,"btn","btn-success","btn-md","botones-juego","bt",3,"click"],["id","btn-rojo",1,"btn","btn-danger","btn-md","botones-juego",3,"click"],["id","btn-amarillo",1,"btn","btn-warning","btn-md","botones-juego",3,"click"],["id","btn-azul",1,"btn","btn-primary","btn-md","botones-juego",3,"click"],["class","label-jugadores row",4,"ngIf"],["class","row",4,"ngIf"],[1,"label-jugadores","row"],[1,"col-12"],["type","button","id","button-nuevo",1,"btn","btn-primary","btn-lg",3,"click"],["type","button","id","button-verificar",1,"btn","btn-success",3,"click"]],template:function(t,e){1&t&&(Es(0,"div",0),Es(1,"div",1),Es(2,"h1",2),to(3),Cs(),Ss(4,"br"),Es(5,"div",3),ys(6,ay,2,1,"div",4),Es(7,"div",5),Es(8,"div",6),Es(9,"div",7),Es(10,"button",8),Is("click",(function(){return e.botonApretado(1)})),Cs(),Cs(),Es(11,"div",7),Es(12,"button",9),Is("click",(function(){return e.botonApretado(2)})),Cs(),Cs(),Cs(),Es(13,"div",6),Es(14,"div",7),Es(15,"button",10),Is("click",(function(){return e.botonApretado(3)})),Cs(),Cs(),Es(16,"div",7),Es(17,"button",11),Is("click",(function(){return e.botonApretado(4)})),Cs(),Cs(),Cs(),Cs(),ys(18,uy,4,0,"div",12),Cs(),ys(19,cy,4,0,"div",13),ys(20,ly,3,0,"div",4),Cs(),Cs()),2&t&&(_r(3),eo(e.nuevoJuego.nombre),_r(3),_s("ngIf",0!=e.contador),_r(12),_s("ngIf",e.registrarSecuencia),_r(1),_s("ngIf",!e.enJuego),_r(1),_s("ngIf",e.save))},directives:[qu],styles:[".botones-juego[_ngcontent-%COMP%]{width:100%;height:100%}.div-boton-juego[_ngcontent-%COMP%]{margin:0;padding:0;width:100px;height:100px}.tablero[_ngcontent-%COMP%]{padding:3px;margin:0 0 15px}#btn-verde[_ngcontent-%COMP%]{background-color:rgba(40,167,69,.5)}#btn-rojo[_ngcontent-%COMP%]{background-color:rgba(220,53,69,.5)}#btn-amarillo[_ngcontent-%COMP%]{background-color:rgba(255,193,7,.5)}#btn-azul[_ngcontent-%COMP%]{background-color:rgba(0,123,255,.5)}"]}),t})(),fy=(()=>{class t{constructor(t,e){this.Afauth=t,this.route=e}canActivate(t,e){return this.Afauth.authState.pipe(Object(kc.a)(t=>null!=t&&null!=t||(this.route.navigate(["/Login"]),!1)))}}return t.\u0275fac=function(e){return new(e||t)(et(bh),et(ep))},t.\u0275prov=y({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),dy=(()=>{class t{constructor(t,e){this.Afauth=t,this.route=e}canActivate(t,e){return this.Afauth.authState.pipe(Object(kc.a)(t=>null==t||null==t||(this.route.navigate(["/Principal"]),!1)))}}return t.\u0275fac=function(e){return new(e||t)(et(bh),et(ep))},t.\u0275prov=y({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const py=[{path:"",component:Em,canActivate:[fy]},{path:"jugadores",component:Vm},{path:"Login",component:bm,canActivate:[dy]},{path:"Registro",component:jm,canActivate:[dy]},{path:"Principal",component:Em,canActivate:[fy]},{path:"listado",component:ym,canActivate:[dy]},{path:"Paises",component:Fm},{path:"acercaDe",component:Wm},{path:"Juegos",component:km,canActivate:[fy],children:[{path:"",component:Pm},{path:"Adivina",component:gm},{path:"AdivinaMasListado",component:Om},{path:"AgilidadaMasListado",component:Dm},{path:"Agilidad",component:Im},{path:"Anagrama",component:Zm},{path:"Tateti",component:sy},{path:"Simon",component:hy},{path:"PiedraPapelTijera",component:Gm},{path:"login",component:bm},{path:"registro",component:jm}]},{path:"**",component:_m},{path:"error",component:_m}];let gy=(()=>{class t{}return t.\u0275mod=Et({type:t}),t.\u0275inj=v({factory:function(e){return new(e||t)},imports:[[gp.forRoot(py)],gp]}),t})();function my(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function yy(t){switch(t.length){case 0:return new Bg;case 1:return t[0];default:return new qg(t)}}function vy(t,e,n,r,i={},s={}){const o=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case"*":a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),c=l,u=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function by(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&_y(n,"start",t)));break;case"done":t.onDone(()=>r(n&&_y(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&_y(n,"destroy",t)))}}function _y(t,e,n){const r=n.totalTime,i=wy(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function wy(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Ey(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function Cy(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Sy=(t,e)=>!1,Ay=(t,e)=>!1,xy=(t,e,n)=>[];const Ty=my();(Ty||"undefined"!=typeof Element)&&(Sy=(t,e)=>t.contains(e),Ay=(()=>{if(Ty||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Ay}})(),xy=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let Iy=null,Oy=!1;function Dy(t){Iy||(Iy=("undefined"!=typeof document?document.body:null)||{},Oy=!!Iy.style&&"WebkitAppearance"in Iy.style);let e=!0;return Iy.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Iy.style,!e&&Oy)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Iy.style),e}const ky=Ay,Ny=Sy,jy=xy;function Py(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let Ry=(()=>{class t{validateStyleProperty(t){return Dy(t)}matchesElement(t,e){return ky(t,e)}containsElement(t,e){return Ny(t,e)}query(t,e,n){return jy(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new Bg(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})(),Fy=(()=>{class t{}return t.NOOP=new Ry,t})();function My(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Ly(parseFloat(e[1]),e[2])}function Ly(t,e){switch(e){case"s":return 1e3*t;default:return t}}function Vy(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=Ly(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=Ly(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function Uy(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function By(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else Uy(t,n);return n}function qy(t,e,n){return n?e+":"+n+";":""}function zy(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=qy(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=qy(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function Hy(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=Zy(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),my()&&zy(t))}function Gy(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=Zy(e);t.style[n]=""}),my()&&zy(t))}function Wy(t){return Array.isArray(t)?1==t.length?t[0]:Fg(t):t}const $y=new RegExp("{{\\s*(.+?)\\s*}}","g");function Jy(t){let e=[];if("string"==typeof t){let n;for(;n=$y.exec(t);)e.push(n[1]);$y.lastIndex=0}return e}function Qy(t,e,n){const r=t.toString(),i=r.replace($y,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?t:i}function Ky(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const Yy=/-+([a-z0-9])/g;function Zy(t){return t.replace(Yy,(...t)=>t[1].toUpperCase())}function Xy(t,e){return 0===t||0===e}function tv(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach((function(e){n[e]=nv(t,e)}))}}return e}function ev(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function nv(t,e){return window.getComputedStyle(t)[e]}function rv(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(ov(i,o)),"<"!=s[0]||"*"==i&&"*"==o||e.push(ov(o,i))}(t,n,e)):n.push(t),n}const iv=new Set(["true","1"]),sv=new Set(["false","0"]);function ov(t,e){const n=iv.has(t)||sv.has(t),r=iv.has(e)||sv.has(e);return(i,s)=>{let o="*"==t||t==i,a="*"==e||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?iv.has(t):sv.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?iv.has(e):sv.has(e)),o&&a}}const av=new RegExp("s*:selfs*,?","g");function uv(t,e,n){return new cv(t).build(e,n)}class cv{constructor(t){this._driver=t}build(t,e){const n=new lv(e);return this._resetContextStyleTimingState(n),ev(this,Wy(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(hv(t)){const e=t;Object.keys(e).forEach(t=>{Jy(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=Ky(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=ev(this,Wy(t.animation),e);return{type:1,matchers:rv(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:fv(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>ev(this,t,e)),options:fv(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=ev(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:fv(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return dv(Vy(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=dv(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||Vy(r,e),dv(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:Mg({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=Mg(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?"*"==t?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(hv(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=Jy(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(hv(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(hv(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,f=e.currentTime,d=e.currentAnimateTimings,p=d.duration;return u.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=f+d.delay+o,d.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:ev(this,Wy(t.animation),e),options:fv(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:fv(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:fv(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(av,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,".ng-animating"),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,Ey(e.collectedStyles,e.currentQuerySelector,{});const o=ev(this,Wy(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:fv(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Vy(t.timings,e.errors,!0);return{type:12,animation:ev(this,Wy(t.animation),e),timings:n,options:null}}}class lv{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function hv(t){return!Array.isArray(t)&&"object"==typeof t}function fv(t){var e;return t?(t=Uy(t)).params&&(t.params=(e=t.params)?Uy(e):null):t={},t}function dv(t,e,n){return{duration:t,delay:e,easing:n}}function pv(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class gv{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const mv=new RegExp(":enter","g"),yv=new RegExp(":leave","g");function vv(t,e,n,r,i,s={},o={},a,u,c=[]){return(new bv).buildKeyframes(t,e,n,r,i,s,o,a,u,c)}class bv{buildKeyframes(t,e,n,r,i,s,o,a,u,c=[]){u=u||new gv;const l=new wv(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),ev(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[pv(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?My(n.duration):null,s=null!=n.delay?My(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),ev(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=_v);const t=My(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>ev(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?My(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),ev(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return Vy(e.params?Qy(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?My(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=_v);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),ev(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;ev(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const _v={};class wv{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=_v,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Ev(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=My(n.duration)),null!=n.delay&&(r.delay=My(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=Qy(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new wv(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=_v,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new Cv(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(mv,"."+this._enterClassName)).replace(yv,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class Ev{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Ev(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||"*",this._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]="*"})):By(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=Qy(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:"*"),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=By(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):"*"==r&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?Ky(t.values()):[],s=e.size?Ky(e.values()):[];if(n){const t=r[0],e=Uy(t);t.offset=0,e.offset=1,r=[t,e]}return pv(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class Cv extends Ev{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=By(t[0],!1);a.offset=0,i.push(a);const u=By(t[0],!1);u.offset=Sv(o),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let o=By(t[r],!1);o.offset=Sv((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return pv(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function Sv(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class Av{}class xv extends Av{normalizePropertyName(t,e){return Zy(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(Tv[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const Tv=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Iv(t,e,n,r,i,s,o,a,u,c,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}const Ov={};class Dv{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||Ov,f=this.buildStyles(n,o&&o.params||Ov,l),d=a&&a.params||Ov,p=this.buildStyles(r,d,l),g=new Set,m=new Map,y=new Map,v="void"===r,b={params:Object.assign(Object.assign({},h),d)},_=c?[]:vv(t,e,this.ast.animation,i,s,f,p,b,u,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return Iv(e,this._triggerName,n,r,v,f,p,[],[],m,y,w,l);_.forEach(t=>{const n=t.element,r=Ey(m,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=Ey(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&g.add(n)});const E=Ky(g.values());return Iv(e,this._triggerName,n,r,v,f,p,_,E,m,y,w)}}class kv{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=Uy(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=Qy(s,r,e)),n[t]=s})}}),n}}class Nv{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new kv(t.style,t.options&&t.options.params||{})}),jv(this.states,"true","1"),jv(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new Dv(t,e,this.states))}),this.fallbackTransition=new Dv(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function jv(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const Pv=new gv;class Rv{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=uv(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=vy(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=vv(this._driver,e,i,"ng-enter","ng-leave",{},{},n,Pv,r),s.forEach(t=>{const e=Ey(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error("Unable to create the animation due to the following errors: "+r.join("\n"));o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,"*")})});const a=yy(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,r){const i=wy(e,"","","");return by(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Fv=[],Mv={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Lv={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class Vv{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=Uy(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const Uv=new Vv("void");class Bv{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Jv(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=Ey(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=Ey(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Jv(t,"ng-trigger"),Jv(t,"ng-trigger-"+e),a[e]=Uv),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new zv(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(Jv(t,"ng-trigger"),Jv(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const u=new Vv(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),o[e]=u,a||(a=Uv),"void"!==u.value&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{Gy(t,n),Hy(t,r)})}return}const c=Ey(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:s,isFallbackTransition:h}),h||(Jv(t,"ng-animate-queued"),s.onStart(()=>{Qv(t,"ng-animate-queued")})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,".ng-trigger",!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,"void",r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&yy(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,s=this._engine.statesByElement.get(t)[r]||Uv,o=new Vv("void"),a=new zv(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==Mv||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Jv(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=wy(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,by(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class qv{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new Bv(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(Hv(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!Hv(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Jv(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Qv(t,"ng-animate-disabled"))}removeNode(t,e,n,r){if(Hv(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return Hv(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,".ng-trigger",!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,".ng-animating",!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return yy(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=Mv,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Jv(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?yy(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new gv,r=[],i=new Map,s=[],o=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=$v(h,this.collectedEnterElements),d=new Map;let p=0;f.forEach((t,e)=>{const n="ng-enter"+p++;d.set(e,n),t.forEach(t=>Jv(t,n))});const g=[],m=new Set,y=new Set;for(let D=0;D<this.collectedLeaveElements.length;D++){const t=this.collectedLeaveElements[D],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):y.add(t))}const v=new Map,b=$v(h,Array.from(m));b.forEach((t,e)=>{const n="ng-leave"+p++;v.set(e,n),t.forEach(t=>Jv(t,n))}),t.push(()=>{f.forEach((t,e)=>{const n=d.get(e);t.forEach(t=>Qv(t,n))}),b.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>Qv(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let D=this._namespaceList.length-1;D>=0;D--)this._namespaceList[D].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=v.get(i),f=d.get(i),p=this._buildInstruction(t,n,f,h,c);if(p.errors&&p.errors.length)w.push(p);else{if(c)return e.onStart(()=>Gy(i,p.fromStyles)),e.onDestroy(()=>Hy(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>Gy(i,p.fromStyles)),e.onDestroy(()=>Hy(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>Ey(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const E=new Map,C=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(C.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,E))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Ey(E,e,[]).push(t),t.destroy()})});const S=g.filter(t=>Yv(t,a,u)),A=new Map;Wv(A,this.driver,y,u,"*").forEach(t=>{Yv(t,a,u)&&S.push(t)});const x=new Map;f.forEach((t,e)=>{Wv(x,this.driver,new Set(t),a,"!")}),S.forEach(t=>{const e=A.get(t),n=x.get(t);A.set(t,Object.assign(Object.assign({},e),n))});const T=[],I=[],O={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>Hy(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=O;if(C.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=C.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>C.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,E,i,x,A);if(s.setRealPlayer(n),t===O)T.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=yy(e)),r.push(s)}}else Gy(e,o.fromStyles),s.onDestroy(()=>Hy(e,o.toStyles)),I.push(s),c.has(e)&&r.push(s)}),I.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=yy(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let D=0;D<g.length;D++){const t=g[D],e=t.__ng_removed;if(Qv(t,"ng-leave"),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,".ng-animating",!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?Kv(this,t,r):this.processLeaveNode(t)}return g.length=0,T.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),T}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||"void"==i;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,u=Ey(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}Gy(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const f=h.__ng_removed;if(f&&f.removedBeforeQueried)return new Bg(e.duration,e.delay);const d=h!==a,p=function(t){const e=[];return function t(e,n){for(let r=0;r<e.length;r++){const i=e[r];i instanceof qg?t(i.players,n):n.push(i)}}(t,e),e}((n.get(h)||Fv).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=i.get(h),m=s.get(h),y=vy(0,this._normalizer,0,e.keyframes,g,m),v=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),d){const e=new zv(t,o,h);e.setRealPlayer(v),u.push(e)}return v});u.forEach(t=>{Ey(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>Jv(t,"ng-animating"));const f=yy(h);return f.onDestroy(()=>{c.forEach(t=>Qv(t,"ng-animating")),Hy(a,e.toStyles)}),l.forEach(t=>{Ey(r,t,[]).push(f)}),f}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Bg(t.duration,t.delay)}}class zv{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Bg,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>by(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ey(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Hv(t){return t&&1===t.nodeType}function Gv(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function Wv(t,e,n,r,i){const s=[];n.forEach(t=>s.push(Gv(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=Lv,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>Gv(t,s[a++])),o}function $v(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let s=i.get(e);if(s)return s;const o=e.parentNode;return s=n.has(o)?o:r.has(o)?1:t(o),i.set(e,s),s}(t);1!==e&&n.get(e).push(t)}),n}function Jv(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Qv(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function Kv(t,e,n){yy(n).onDone(()=>t.processLeaveNode(e))}function Yv(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class Zv{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new qv(t,e,n),this._timelineEngine=new Rv(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=uv(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new Nv(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=Cy(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=Cy(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Xv(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=eb(e[0]),e.length>1&&(r=eb(e[e.length-1]))):e&&(n=eb(e)),n||r?new tb(t,n,r):null}let tb=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Hy(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Hy(this._element,this._initialStyles),this._endStyles&&(Hy(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Gy(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Gy(this._element,this._endStyles),this._endStyles=null),Hy(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function eb(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];nb(i)&&(e=e||{},e[i]=t[i])}return e}function nb(t){return"display"===t||"position"===t}class rb{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=cb(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),ub(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),ab(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){ib(this._element,this._name,"paused")}resume(){ib(this._element,this._name,"running")}setPosition(t){const e=sb(this._element,this._name);this._position=t*this._duration,ub(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),ab(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=cb(t,"").split(","),r=ob(n,e);r>=0&&(n.splice(r,1),ub(t,"",n.join(",")))}(this._element,this._name))}}function ib(t,e,n){ub(t,"PlayState",n,sb(t,e))}function sb(t,e){const n=cb(t,"");return n.indexOf(",")>0?ob(n.split(","),e):ob([n],e)}function ob(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function ab(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function ub(t,e,n,r){const i="animation"+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function cb(t,e){return t.style["animation"+e]}class lb{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new rb(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:nv(this.element,n))})}this.currentSnapshot=t}}class hb extends Bg{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Py(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class fb{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return Dy(t)}matchesElement(t,e){return ky(t,e)}containsElement(t,e){return Ny(t,e)}query(t,e,n){return jy(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>Py(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=i+"}\n"}),r+="}\n";const s=document.createElement("style");return s.innerHTML=r,s}animate(t,e,n,r,i,s=[],o){o&&this._notifyFaultyScrubber();const a=s.filter(t=>t instanceof lb),u={};Xy(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=tv(t,e,u));if(0==n)return new hb(t,c);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const f=Xv(t,e),d=new lb(t,e,l,n,r,i,c,f);return d.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),d}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class db{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:nv(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class pb{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(gb().toString()),this._cssKeyframesDriver=new fb}validateStyleProperty(t){return Dy(t)}matchesElement(t,e){return ky(t,e)}containsElement(t,e){return Ny(t,e)}query(t,e,n){return jy(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=s.filter(t=>t instanceof db);Xy(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=Xv(t,e=tv(t,e=e.map(t=>By(t,!1)),u));return new db(t,e,a,l)}}function gb(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let mb=(()=>{class t extends jg{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:pt.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Fg(t):t;return bb(this._renderer,null,e,"register",[n]),new yb(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(et(To),et(vu))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();class yb extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new vb(this._id,t,e||{},this._renderer)}}class vb{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return bb(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function bb(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}let _b=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new wb("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new Eb(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(et(To),et(Zv),et(Ua))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();class wb{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Eb extends wb{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return"@"!=i.charAt(0)&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let Cb=(()=>{class t extends Zv{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(et(vu),et(Fy),et(Av))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();const Sb=[{provide:Fy,useFactory:function(){return"function"==typeof gb()?new pb:new fb}},{provide:new G("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:jg,useClass:mb},{provide:Av,useFactory:function(){return new xv}},{provide:Zv,useClass:Cb},{provide:To,useFactory:function(t,e,n){return new _b(t,e,n)},deps:[pc,Zv,Ua]}];let Ab=(()=>{class t{}return t.\u0275mod=Et({type:t}),t.\u0275inj=v({factory:function(e){return new(e||t)},providers:Sb,imports:[Ic]}),t})(),xb=(()=>{class t{constructor(t){this.miHttp=t,this.peticion=this.miHttp.httpGetO("http://localhost:3003")}listar(){this.miHttp.httpGetP("https://restcountries.eu/rest/v2/all").then(t=>{console.log(t)}).catch(t=>{console.log(t)}),this.peticion.subscribe(t=>{console.log("En listar"),console.log(t)},t=>{console.info("error: ",t)});let t=new Array;return t.push(new kg("Juego 1",!1)),t.push(new kg("Pepe",!0)),t.push(new kg("Juego 3",!1)),t.push(new kg("Juego 4",!1)),t.push(new kg("Juego 5",!1)),t.push(new kg("Juego 6",!1)),t}listarPromesa(){return this.peticion.subscribe(t=>{console.log("En listarPromesa"),console.log(t)},t=>{console.log(t)}),new Promise((t,e)=>{let n=new Array;n.push(new kg("JuegoPromesa 1",!1,"promesa")),n.push(new kg("PepePromesa",!0)),n.push(new kg("JuegoPromesa 3",!1)),n.push(new kg("JuegoPromesa 4",!1)),n.push(new kg("JuegoPromesa 5",!1)),n.push(new kg("JuegoPromesa 6",!1)),t(n)})}}return t.\u0275fac=function(e){return new(e||t)(et(xg))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();n("b1EX"),n("PqYM"),n("04ZW"),n("jtHE"),n("QqCr"),n("z6cu"),n("c6ID"),n("/uUt"),n("1G5W"),n("zP0r"),n("oB13");let Tb=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=y({token:t,factory:function(e){return t.\u0275fac(e)}}),t})();class Ib{getNativeWindow(){return window}}class Ob{getNativeDocument(){return document}}const Db=[Ib,Ob];var kb=function(t){return t[t.HTTP=1]="HTTP",t[t.HTTPS=2]="HTTPS",t[t.AUTO=3]="AUTO",t}({});const Nb=new G("angular-google-maps LAZY_MAPS_API_CONFIG");let jb=(()=>{let t=class extends Tb{constructor(t=null,e,n,r){super(),this.localeId=r,this._SCRIPT_ID="agmGoogleMapsApiScript",this.callbackName="agmLazyMapsAPILoader",this._config=t||{},this._windowRef=e,this._documentRef=n}load(){const t=this._windowRef.getNativeWindow();if(t.google&&t.google.maps)return Promise.resolve();if(this._scriptLoadingPromise)return this._scriptLoadingPromise;const e=this._documentRef.getNativeDocument().getElementById(this._SCRIPT_ID);if(e)return this._assignScriptLoadingPromise(e),this._scriptLoadingPromise;const n=this._documentRef.getNativeDocument().createElement("script");return n.type="text/javascript",n.async=!0,n.defer=!0,n.id=this._SCRIPT_ID,n.src=this._getScriptSrc(this.callbackName),this._assignScriptLoadingPromise(n),this._documentRef.getNativeDocument().body.appendChild(n),this._scriptLoadingPromise}_assignScriptLoadingPromise(t){this._scriptLoadingPromise=new Promise((e,n)=>{this._windowRef.getNativeWindow()[this.callbackName]=()=>{e()},t.onerror=t=>{n(t)}})}_getScriptSrc(t){let e;switch(this._config&&this._config.protocol||kb.HTTPS){case kb.AUTO:e="";break;case kb.HTTP:e="http:";break;case kb.HTTPS:e="https:"}const n={v:this._config.apiVersion||"quarterly",callback:t,key:this._config.apiKey,client:this._config.clientId,channel:this._config.channel,libraries:this._config.libraries,region:this._config.region,language:this._config.language||"en-US"!==this.localeId?this.localeId:null};return`${e}//${this._config.hostAndPath||"maps.googleapis.com/maps/api/js"}?${Object.keys(n).filter(t=>null!=n[t]).filter(t=>!Array.isArray(n[t])||Array.isArray(n[t])&&n[t].length>0).map(t=>{let e=n[t];return Array.isArray(e)?{key:t,value:e.join(",")}:{key:t,value:n[t]}}).map(t=>`${t.key}=${t.value}`).join("&")}`}};return t.\u0275fac=function(e){return new(e||t)(et(Nb,8),et(Ib),et(Ob),et(Ia))},t.\u0275prov=y({token:t,factory:function(e){return t.\u0275fac(e)}}),t})();var Pb;let Rb=(()=>{let t=Pb=class{static forRoot(t){return{ngModule:Pb,providers:[...Db,{provide:Tb,useClass:jb},{provide:Nb,useValue:t}]}}};return t.\u0275mod=Et({type:t}),t.\u0275inj=v({factory:function(e){return new(e||t)}}),t})();n("Kj3r");let Fb,Mb=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=y({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Lb=(()=>{class t{}return t.\u0275mod=Et({type:t}),t.\u0275inj=v({factory:function(e){return new(e||t)},providers:[Mb]}),t})();try{Fb="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(Xb){Fb=!1}let Vb=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Fb)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(et(Aa))},t.\u0275prov=y({factory:function(){return new t(et(Aa))},token:t,providedIn:"root"}),t})(),Ub=(()=>{class t{}return t.\u0275mod=Et({type:t}),t.\u0275inj=v({factory:function(e){return new(e||t)}}),t})();"undefined"!=typeof Element&&Element;let Bb=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove("cdk-high-contrast-active"),t.remove("cdk-high-contrast-black-on-white"),t.remove("cdk-high-contrast-white-on-black");const e=this.getHighContrastMode();1===e?(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-black-on-white")):2===e&&(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-white-on-black"))}}}return t.\u0275fac=function(e){return new(e||t)(et(Vb),et(vu))},t.\u0275prov=y({factory:function(){return new t(et(Vb),et(vu))},token:t,providedIn:"root"}),t})(),qb=(()=>{class t{}return t.\u0275mod=Et({type:t}),t.\u0275inj=v({factory:function(e){return new(e||t)}}),t})();const zb=new No("10.2.0"),Hb=new No("10.2.0"),Gb=new G("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Wb,$b=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getDocument(){const t=this._document||document;return"object"==typeof t&&t?t:null}_getWindow(){const t=this._getDocument(),e=(null==t?void 0:t.defaultView)||window;return"object"==typeof e&&e?e:null}_checksAreEnabled(){return Dn()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){const t=this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype),e=this._getDocument();t&&e&&!e.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){const t=!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme,e=this._getDocument();if(t||!e||!e.body||"function"!=typeof getComputedStyle)return;const n=e.createElement("div");n.classList.add("mat-theme-loaded-marker"),e.body.appendChild(n);const r=getComputedStyle(n);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),e.body.removeChild(n)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&Hb.full!==zb.full&&console.warn("The Angular Material version ("+Hb.full+") does not match the Angular CDK version ("+zb.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275mod=Et({type:t}),t.\u0275inj=v({factory:function(e){return new(e||t)(et(Bb),et(Gb,8),et(vu,8))},imports:[[qb],qb]}),t})();try{Wb="undefined"!=typeof Intl}catch(Xb){Wb=!1}let Jb=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=y({factory:function(){return new t},token:t,providedIn:"root"}),t})();n("xgIS");let Qb=(()=>{class t{}return t.\u0275mod=Et({type:t}),t.\u0275inj=v({factory:function(e){return new(e||t)},imports:[[Qu,$b,Lb],$b]}),t})();n("3UWI");let Kb=(()=>{class t{}return t.\u0275mod=Et({type:t}),t.\u0275inj=v({factory:function(e){return new(e||t)},imports:[[Ub]]}),t})(),Yb=(()=>{class t{}return t.\u0275mod=Et({type:t}),t.\u0275inj=v({factory:function(e){return new(e||t)},providers:[Jb],imports:[[Kb,Qb],Kb,Qb]}),t})(),Zb=(()=>{class t{}return t.\u0275mod=Et({type:t,bootstrap:[Hp]}),t.\u0275inj=v({factory:function(e){return new(e||t)},providers:[xb,xg,Tg,Ig,Og],imports:[[Ic,Ql,gy,Ab,Sg,Rb.forRoot({apiKey:"AIzaSyB6f8x4IjRlesQ3oETc6BXYQHVRTOlY3Ys"}),cm.forRoot(),vh.initializeApp(gu),_h,Kl,Qb,Yb]]}),t})();(function(){if(On)throw new Error("Cannot enable prod mode after platform setup.");In=!1})(),xc().bootstrapModule(Zb)},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("b1EX"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},s=function(t,e){if(!t)throw o(e)},o=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,o||(l=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){var o=((7&i)<<18|(63&(s=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(o>>10)),e[r++]=String.fromCharCode(56320+(1023&o))}else{s=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==o||null==a||null==u)throw Error();r.push(s<<2|o>>4),64!==a&&(r.push(o<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},c=function(t){try{return u.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=l(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function d(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}var p=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,g.prototype.create),i}return r.__extends(e,t),e}(Error),g=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?m(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new p(i,a),c=0,l=Object.keys(r);c<l.length;c++){var h=l[c];"_"!==h.slice(-1)&&(h in u&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),u[h]=r[h])}return u},t}();function m(t,e){return t.replace(y,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var y=/\{\$([^}]+)}/g;function v(t){return JSON.parse(t)}var b=function(t){var e={},n={},r={},i="";try{var s=t.split(".");e=v(c(s[0])||""),n=v(c(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch(o){}return{header:e,claims:n,data:r,signature:i}},_=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,s,o=this.chain_[0],a=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^a&(u^c),s=1518500249):(i=a^u^c,s=1859775393):r<60?(i=a&u|c&(a|u),s=2400959708):(i=a^u^c,s=3395469782);var h=(o<<5|o>>>27)+i+l+s+n[r]&4294967295;l=c,c=u,u=4294967295&(a<<30|a>>>2),a=o,o=h}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,s=this.inbuf_;r<e;){if(0===s)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[s]=t.charCodeAt(r),++r,++s===this.blockSize){this.compress_(i),s=0;break}}else for(;r<e;)if(i[s]=t[r],++r,++s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}(),w=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function E(){}function C(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}e.CONSTANTS=i,e.Deferred=h,e.ErrorFactory=g,e.FirebaseError=p,e.MAX_VALUE_MILLIS=144e5,e.RANDOM_FACTOR=.5,e.Sha1=_,e.areCookiesEnabled=function(){return!(!navigator||!navigator.cookieEnabled)},e.assert=s,e.assertionError=o,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=u,e.base64Decode=c,e.base64Encode=function(t){var e=a(t);return u.encodeByteArray(e,!0)},e.calculateBackoffMillis=function(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new w(t,e);return n.subscribe.bind(n)},e.decode=b,e.deepCopy=function(t){return l(void 0,t)},e.deepExtend=l,e.errorPrefix=C,e.getUA=f,e.isAdmin=function(t){var e=b(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},e.isElectron=function(){return f().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=f();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isIndexedDBAvailable=function(){return"indexedDB"in self&&null!=indexedDB},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())},e.isNode=d,e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isSafari=function(){return!d()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},e.isUWP=function(){return f().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=b(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=b(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},e.issuedAtTime=function(t){var e=b(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=v,e.map=function(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var s=i[r];n(s[0],s[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,s(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(C(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(C(t,e,r)+"must be a valid context object.")},e.validateIndexedDBOpenable=function(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(s){e(s)}}))},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(C(t,e,r)+"must be a valid firebase namespace.")}},zx2A:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return u}));var r=n("7o/Q"),i=n("HDdC"),s=n("SeVD");class o extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(s.a)(t)(e)}}},[[0,0]]]);